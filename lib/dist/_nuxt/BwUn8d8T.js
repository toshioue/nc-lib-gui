const __vite__fileDeps=["./5vA8S9XY.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./DWT0yQl9.js","./GMLocJHP.js","./B05h-4V9.js","./BDAIZopQ.js","./index.C1_oOYgT.css","./CcSOeY3A.js","./sz1d3zjm.js","./MenuItem.C7h59s4s.css","./BLgccLvp.js","./Menu.CQ8GNWeI.css","./vK-WmZ7a.js","./i4aLU0Nw.js","./MonthView.kUDRqpbS.css","./BI0SRVOJ.js","./DateField.CWvQ1Z25.css","./Dj1cSgDX.js","./DateTimeField.C5bVh8iY.css","./COVH-NPX.js","./CYEg9vhe.js","./DateTimeField.DgoIfBM7.css","./CtCG4qwV.js","./CToWLgER.js","./DateWeekSelector.Cg_ptNCJ.css","./jD721dGr.js","./DnSVh-oD.js","./D_MsYLkT.js","./BCJFTkwv.js","./BQQOEPN4.js","./CB1aB6F1.js","./B5RRVMt5.js","./vll-Pnjv.js","./Select.C8Fy0-eI.css","./RXURfzjs.js","./C00NHga8.js","./D_PA3yCW.js","./C9pR2Nv2.js","./DKN1hQ6S.js","./BQuyMdA-.js","./DGj1ycqW.js","./DyDFI6NE.js","./CVMW45vd.js","./SideMenu.LlI6R609.css","./CRPCEw5j.js","./TJfB7GlU.js","./0azk-b-q.js","./Divider.DqtSqZhb.css","./B9n4-CGo.js","./DivDataCell.1yCNpUg3.css","./DnwRMKX3.js","./UserIcon.DEVmGavY.css","./B6xrG0q8.js","./B89oU1M4.js","./Badge.D0-UrqG9.css","./BmNyaTYf.js","./Cy50pBgZ.js","./links.C8uCzV-l.css","./Dwil3It4.js","./uhBJvRY2.js","./DS_HXCWn.js","./CMIIcM5i.js","./Bgw0NQgX.js","./2FgppHLC.js","./CA74dF2b.js","./qW2V2r_p.js","./ByVBARmO.js","./boyBAVNN.js","./C4o9gerC.js","./Ck-cgwga.js","./Tabs.DaLSLYpn.css","./BqKQ8afS.js","./DgixBgIx.js","./DeleteModal.SEMJ_gSK.css","./CXD-Dj4T.js","./EqBqqo9-.js","./Bdv7ru7D.js","./BmtvKY7O.js","./DXQuLwNn.js","./index.XURKHfTB.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as oe,bL as y,r as l,d7 as ne,d6 as le,L as se,hG as re,gT as de,dz as ie,az as v,aD as ue,i3 as _e,i2 as ce,i4 as me,ib as pe,u as we,K as fe,f as ye,g as ve,N as e,o,c,a as x,d as G,t as L,ao as C,Q as d,R as p,c$ as r,b as S,w as xe,O as B,dH as he,X as u,a4 as _,aL as Re,y as De}from"./DZZ6t_j4.js";import{a as Ie}from"./DWT0yQl9.js";import{e as Ve,f as Le}from"./BDAIZopQ.js";import"./GMLocJHP.js";import"./B05h-4V9.js";const ge=u(()=>_(()=>import("./5vA8S9XY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(t=>t.default||t)),ke=u(()=>_(()=>import("./CcSOeY3A.js"),__vite__mapDeps([8,1,2,9,10,11,12,13,3,4,5,6,14,15]),import.meta.url).then(t=>t.default||t)),Ee=u(()=>_(()=>import("./BI0SRVOJ.js"),__vite__mapDeps([16,1,2,3,4,5,6,14,17]),import.meta.url).then(t=>t.default||t)),Te=u(()=>_(()=>import("./Dj1cSgDX.js"),__vite__mapDeps([18,1,2,3,4,5,6,14,19]),import.meta.url).then(t=>t.default||t)),ze=u(()=>_(()=>import("./COVH-NPX.js"),__vite__mapDeps([20,1,2,3,4,5,6,14]),import.meta.url).then(t=>t.default||t)),Ce=u(()=>_(()=>import("./CYEg9vhe.js"),__vite__mapDeps([21,1,2,9,10,11,12,13,3,4,5,6,14,22]),import.meta.url).then(t=>t.default||t)),Se=u(()=>_(()=>import("./CtCG4qwV.js"),__vite__mapDeps([23,1,2,24,25,26,27,28,29,30,31,32,33,34,14,4,35,3,5,6,36,37,38,39,40,41,42,43,44]),import.meta.url).then(t=>t.default||t)),be=u(()=>_(()=>import("./CRPCEw5j.js"),__vite__mapDeps([45,1,2,9,10,46,47,48,11,12,13,49,50,51,52,53,54,55,56,57,39,40,30,33,32,41,42,58,59,60,61,62,63,4,6,64,65,66,67,68,69,5,70,71,72,73,74,75,14,76,77,78,79,80]),import.meta.url).then(t=>t.default||t)),je={key:0,class:"pl-6 pr-[120px] py-6 bg-white flex-col justify-start items-start gap-2.5 inline-flex"},Fe={class:"text-gray-500 text-5xl font-semibold leading-16"},Me={class:"text-gray-500 text-base font-medium leading-normal"},Ne={class:"flex h-full relative flex-row","data-testid":"nc-calendar-wrapper"},Pe={class:"flex flex-col w-full"},Ae={key:2,class:"flex w-full items-center h-full justify-center"},Oe={key:1,class:"flex w-full items-center h-full justify-center"},qe={key:2,class:"flex w-full items-center h-full justify-center"},We=oe({__name:"index",setup(t){const{$e:U}=De(),w=y(ne,l()),b=y(le,l()),{isMobileMode:K}=se(),g=y(re),k=y(de),h=y(ie,l(!1));v(ue,l(!1)),v(_e,l(!1)),v(ce,l(!1)),v(me,l(!1)),v(pe,l(!0));const{activeCalendarView:s,calendarRange:W,calDataType:R,loadCalendarMeta:j,loadCalendarData:F,loadSidebarData:H,isCalendarDataLoading:M,isCalendarMetaLoading:N,fetchActiveDates:Q,showSideMenu:X}=Ie(),P=we(),D=fe(),I=ye({get(){return!!D.query.rowId},set(a){a||P.push({query:{...D.query,rowId:void 0}})}}),f=l(!1),E=l(),T=l(),i=(a,n)=>{const V=Ve(a.row,w.value.columns);T.value=n,V&&!h.value?P.push({query:{...D.query,rowId:V}}):(E.value=a,f.value=!0)},m=a=>{var n;h.value||(U("c:calendar:new-record",s.value),i({row:{...Le((n=w.value)==null?void 0:n.columns),...a.row},oldRow:{},rowMeta:{new:!0}}))};return ve(async()=>{await j(),await F(),s.value||(s.value="month")}),g==null||g.on(async()=>{await j()}),k==null||k.on(async a=>{await Promise.all([F((a==null?void 0:a.shouldShowLoading)??!1),H((a==null?void 0:a.shouldShowLoading)??!1),Q()])}),(a,n)=>{var q,$;const V=ge,Y=ke,J=Ee,Z=Te,ee=ze,te=Ce,A=Re,ae=Se,O=be;return e(K)?(o(),c("div",je,[x("div",Fe,[G(L(a.$t("general.available")),1),n[2]||(n[2]=x("br",null,null,-1)),G(L(a.$t("title.inDesktop")),1)]),x("div",Me,L(a.$t("msg.calendarViewNotSupportedOnMobile")),1)])):(o(),c(C,{key:1},[x("div",Ne,[x("div",Pe,[(q=e(W))!=null&&q.length&&!e(N)?(o(),c(C,{key:0},[e(s)==="year"?(o(),d(V,{key:0})):p("",!0),e(M)?p("",!0):(o(),c(C,{key:1},[e(s)==="month"?(o(),d(Y,{key:0,onExpandRecord:i,onNewRecord:m})):e(s)==="week"&&e(R)===e(r).Date?(o(),d(J,{key:1,onExpandRecord:i,onNewRecord:m})):e(s)==="week"&&[e(r).DateTime,e(r).LastModifiedTime,e(r).CreatedTime,e(r).Formula].includes(e(R))?(o(),d(Z,{key:2,onExpandRecord:i,onNewRecord:m})):e(s)==="day"&&e(R)===e(r).Date?(o(),d(ee,{key:3,onExpandRecord:i,onNewRecord:m})):e(s)==="day"&&[e(r).DateTime,e(r).LastModifiedTime,e(r).CreatedTime,e(r).Formula].includes(e(R))?(o(),d(te,{key:4,onExpandRecord:i,onNewRecord:m})):p("",!0)],64)),e(M)&&e(s)!=="year"?(o(),c("div",Ae,[S(A,{size:"xlarge"})])):p("",!0)],64)):e(N)?(o(),c("div",Oe,[S(A,{size:"xlarge"})])):(o(),c("div",qe,L(a.$t("activity.noRange")),1))]),S(ae,{visible:e(X),onExpandRecord:i,onNewRecord:m},null,8,["visible"])]),(o(),d(he,null,{default:xe(()=>[e(E)&&e(f)?(o(),d(O,{key:0,modelValue:e(f),"onUpdate:modelValue":n[0]||(n[0]=z=>B(f)?f.value=z:null),row:e(E),"load-row":!e(h),state:e(T),meta:e(w),view:e(b)},null,8,["modelValue","row","load-row","state","meta","view"])):p("",!0)]),_:1})),e(I)&&(($=e(w))!=null&&$.id)?(o(),d(O,{key:0,modelValue:e(I),"onUpdate:modelValue":n[1]||(n[1]=z=>B(I)?I.value=z:null),"close-after-save":"","load-row":!e(h),meta:e(w),state:e(T),row:{row:{},oldRow:{},rowMeta:{}},"row-id":e(D).query.rowId,"expand-form":i,view:e(b)},null,8,["modelValue","load-row","meta","state","row-id","view"])):p("",!0)],64))}}});export{We as default};
