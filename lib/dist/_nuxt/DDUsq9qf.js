const __vite__fileDeps=["./DG2ZH8TR.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./CA74dF2b.js","./GMLocJHP.js","./qW2V2r_p.js","./ByVBARmO.js","./boyBAVNN.js","./BDAIZopQ.js","./C4K5fdHe.js","./Cell.DUBzJZSm.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as z,az as E,r as u,h_ as R,ab as $,bL as L,d7 as j,g as P,F as O,ax as q,cL as A,f as w,c$ as o,N as a,o as p,c as b,b as m,w as M,a as n,t as f,W as F,d as Y,R as I,Q as G,T as Q,U as W,X,a4 as Z,Y as H,Z as J}from"./DZZ6t_j4.js";import{_ as K}from"./B89oU1M4.js";import{u as ee}from"./CA74dF2b.js";import"./GMLocJHP.js";import"./qW2V2r_p.js";import"./ByVBARmO.js";import"./boyBAVNN.js";import"./BDAIZopQ.js";const te=X(()=>Z(()=>import("./DG2ZH8TR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(i=>i.default||i)),ae={key:0},se={class:"flex items-center gap-2"},le={key:1},oe={class:"w-full flex items-center gap-2 mb-2"},ne={class:"text-small leading-[18px] flex-1 text-gray-700"},ue={class:"flex flex-row gap-2 relative"},ie={class:"nc-default-value-wrapper border-1 flex items-center w-full px-3 border-gray-300 rounded-lg sm:min-h-[32px] xs:min-h-13 flex items-center focus-within:border-brand-500 focus-within:shadow-selected focus-within:ring-0 transition-all duration-0.3s"},re={class:"relative flex-grow"},de={key:0,class:"absolute pointer-events-none h-full w-full bg-white z-2 top-0 left-0 rounded-full items-center flex bg-white"},ce={class:"-ml-2"},ge=z({__name:"DefaultValue",props:{value:{},isVisibleDefaultValueInput:{type:Boolean}},emits:["update:value","update:isVisibleDefaultValueInput"],setup(i,{emit:B}){var k;const g=i,x=B;E(R,u(!0));const l=$(g,"value",x),v=L(j,u()),y=$(g,"isVisibleDefaultValueInput",x),N=u({row:{},oldRow:{},rowMeta:{isUpdatedFromCopyNPaste:[(k=l.value)==null?void 0:k.title]}});ee(N);const r=u(null),D=u(!1),_=e=>{l.value={...l.value,cdf:e},r.value=e};P(()=>{var e;_(((e=l.value)==null?void 0:e.cdf)??null)}),O(()=>l.value.cdf,e=>{r.value=e});const{sqlUis:h}=q(A()),V=w(()=>{var e,t,s;return(e=v.value)!=null&&e.source_id&&h.value[(t=v.value)==null?void 0:t.source_id]?h.value[(s=v.value)==null?void 0:s.source_id]:Object.values(h.value)[0]}),T=w(()=>{var e,t,s;return[o.Date,o.DateTime].includes((e=l.value)==null?void 0:e.uidt)&&((s=(t=V.value)==null?void 0:t.getCurrentDateDefault)==null?void 0:s.call(t,l.value))}),C=w(()=>{var e,t,s,d;return T.value&&((t=(e=r.value)==null?void 0:e.toUpperCase)==null?void 0:t.call(e))===((d=(s=V.value)==null?void 0:s.getCurrentDateDefault)==null?void 0:d.call(s,l.value))});return(e,t)=>{const s=H,d=J,U=K,S=te;return a(y)?(p(),b("div",le,[n("div",oe,[n("div",ne,f(e.$t("placeholder.defaultValue")),1)]),n("div",ue,[n("div",ie,[n("div",re,[a(C)?(p(),b("div",de,[n("div",ce,[m(U,null,{default:M(()=>[Y(f(e.$t("labels.currentDate")),1)]),_:1})])])):I("",!0),m(S,{"edit-enabled":!0,"model-value":a(r),column:a(l),class:"!border-none h-auto my-auto","onUpdate:cdf":_,"onUpdate:editEnabled":t[1]||(t[1]=c=>D.value=c),onClick:t[2]||(t[2]=c=>D.value=!0)},null,8,["model-value","column"])]),![a(o).Year,a(o).Date,a(o).Time,a(o).DateTime,a(o).SingleSelect,a(o).MultiSelect].includes(a(l).uidt)||a(C)?(p(),G(Q(("iconMap"in e?e.iconMap:a(W)).close),{key:0,class:"w-4 h-4 cursor-pointer rounded-full z-3 !text-black-500 text-gray-500 cursor-pointer hover:bg-gray-50",onClick:t[3]||(t[3]=c=>_(null))})):I("",!0)])])])):(p(),b("div",ae,[m(d,{size:"small",type:"text",class:"!text-gray-700","data-testid":"nc-show-default-value-btn",onClick:t[0]||(t[0]=F(c=>y.value=!0,["stop"]))},{default:M(()=>[n("div",se,[m(s,{icon:"plus",class:"flex-none h-4 w-4"}),n("span",null,f(e.$t("general.set"))+" "+f(e.$t("placeholder.defaultValue").toLowerCase()),1)])]),_:1})]))}}});export{ge as default};
