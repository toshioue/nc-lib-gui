import{f as E,N as O,ba as U,g,cN as N,o as B,c as G,b as n,w as l,a as i,t as d,P as t,T as x,d as K,U as q,S as D,$ as P,a2 as j,ap as F,p as H,e as J,_ as Q}from"./BLdk6lRf.js";const W=_=>(H("data-v-1e97f99e"),_=_(),J(),_),X={class:"comment-bubble-menu bg-transparent flex-row rounded-lg flex"},Y={class:"flex flex-col items-center"},Z={class:"text-xs"},ee={class:"flex flex-col items-center"},te={class:"flex flex-col items-center"},se={class:"flex flex-col items-center"},le={class:"flex flex-col items-center"},ne=W(()=>i("div",null,"@",-1)),ie=E({__name:"RichTextOptions",props:{editor:{}},setup(_){const z=_,{appInfo:L}=O(),{editor:e}=U(z),h=g(()=>N()?"⌘":"CTRL"),M=g(()=>N()?"⇧":"Shift"),v=g(()=>-1),R=()=>{var r,u,b,s,m,o,k,$,y,C,S,w,A,I,T;if(!e.value)return;const a=((s=(b=(u=(r=e.value)==null?void 0:r.state)==null?void 0:u.selection)==null?void 0:b.$from)==null?void 0:s.nodeBefore)||(($=(k=(o=(m=e.value)==null?void 0:m.state)==null?void 0:o.selection)==null?void 0:k.$from)==null?void 0:$.nodeAfter),c=(S=(C=(y=e.value)==null?void 0:y.state)==null?void 0:C.storedMarks)==null?void 0:S.some(p=>p.type.name==="link");((w=a==null?void 0:a.marks)==null?void 0:w.some(p=>p.type.name==="link"))||c?e.value.chain().focus().unsetLink().run():((A=e.value)!=null&&A.state.selection.empty?e.value.chain().focus().insertContent(" ").setTextSelection({from:(I=e.value)==null?void 0:I.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).toggleLink({href:""}).setTextSelection({from:(T=e.value)==null?void 0:T.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).deleteSelection().run():e.value.chain().focus().setLink({href:""}).selectTextblockEnd().run(),setTimeout(()=>{const p=document.querySelector(".nc-text-area-rich-link-option-input");p&&p.focus()},100))},V=()=>{var c,f,r,u;if(!e.value)return;const a=e.value.state.doc.textBetween(e.value.state.selection.$from.pos-1,e.value.state.selection.$from.pos);a==="@"?e.value.chain().deleteRange({from:e.value.state.selection.$from.pos-1,to:e.value.state.selection.$from.pos}).run():a!==" "?((c=e.value)==null||c.commands.insertContent(" @"),(f=e.value)==null||f.chain().focus().run()):((r=e.value)==null||r.commands.insertContent("@"),(u=e.value)==null||u.chain().focus().run())};return(a,c)=>{var b;const f=P,r=j,u=F;return B(),G("div",X,[n(u,null,{title:l(()=>[i("div",Y,[i("div",null,d(a.$t("labels.bold")),1),i("div",Z,d(t(h))+" B",1)])]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("bold")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:c[0]||(c[0]=m=>{var o;return(o=t(e))==null?void 0:o.chain().focus().toggleBold().run()})},{default:l(()=>[n(f,{icon:"bold"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,{disabled:(b=t(e))==null?void 0:b.isActive("italic")},{title:l(()=>[i("div",ee,[i("div",null,d(a.$t("labels.italic")),1),i("div",null,d(t(h))+" I",1)])]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("italic")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:c[1]||(c[1]=m=>{var o;((o=t(e))==null?void 0:o.chain().focus()).toggleItalic().run()})},{default:l(()=>[n(f,{icon:"italic"})]),_:1},8,["class","tabindex"])]}),_:1},8,["disabled"]),n(u,null,{title:l(()=>[i("div",te,[i("div",null,d(a.$t("labels.underline")),1),i("div",null,d(t(h))+" U",1)])]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("underline")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:c[2]||(c[2]=m=>{var o;return(o=t(e))==null?void 0:o.chain().focus().toggleUnderline().run()})},{default:l(()=>[n(f,{icon:"underline"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,null,{title:l(()=>[i("div",se,[i("div",null,d(a.$t("labels.strike")),1),i("div",null,d(t(M))+" "+d(t(h))+" S",1)])]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("strike")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:c[3]||(c[3]=m=>{var o;return(o=t(e))==null?void 0:o.chain().focus().toggleStrike().run()})},{default:l(()=>[n(f,{icon:"strike"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,null,{title:l(()=>[K(d(a.$t("general.link")),1)]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("link")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:R},{default:l(()=>[n(f,{icon:"link2"})]),_:1},8,["class","tabindex"])]}),_:1}),t(L).ee?(B(),q(u,{key:0},{title:l(()=>[i("div",le,[i("div",null,d(a.$t("labels.mention")),1),ne])]),default:l(()=>{var s;return[n(r,{class:x([{"is-active":(s=t(e))==null?void 0:s.isActive("suggestions")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:V},{default:l(()=>[n(f,{icon:"atSign"})]),_:1},8,["class","tabindex"])]}),_:1})):D("",!0)])}}}),ae=Q(ie,[["__scopeId","data-v-1e97f99e"]]);export{ae as default};
