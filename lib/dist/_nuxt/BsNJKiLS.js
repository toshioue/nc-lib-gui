import{e as dt,cq as De,hw as ft,ag as pt,bL as Se,r as E,d7 as bt,f as Y,dJ as yt,gT as vt,ay as _t,ax as ie,cL as kt,cP as gt,hx as ht,c$ as y,f$ as Ct,ar as Tt,F as re,g as wt,a$ as $t,ah as x,o as m,Q as _,w as o,c as S,ao as J,at as Z,N as i,t as k,b as C,R as T,O as Ne,a as V,T as j,U as Q,d as U,W as ue,aJ as Ie,a7 as ce,cm as Dt,hy as Ee,ai as Oe,d0 as St,d1 as Nt,fR as Me,$ as It,Y as Et,fF as Ot,Z as Mt,dp as xt,y as Lt,fO as Ut,hz as Rt,fT as xe,_ as Ft}from"./DZZ6t_j4.js";import{_ as Bt}from"./CY3l82lI.js";import{u as Pt}from"./BT-ahe-O.js";import{a as Vt,f as Le,g as jt,r as Wt}from"./C3jLTHF4.js";import{g as Ue}from"./BDAIZopQ.js";import{F as Re}from"./BYINaHrJ.js";import{C as qt}from"./DNgdBwTe.js";import{_ as At,C as Kt}from"./CbjHV4v2.js";import"./DKN1hQ6S.js";import{I as Ht}from"./BQuyMdA-.js";import{S as zt,_ as Gt}from"./D_MsYLkT.js";import{_ as Yt}from"./dfem9Uc_.js";import"./D9tFZoTQ.js";import"./vll-Pnjv.js";import"./eX8_g88K.js";import"./B5RRVMt5.js";import"./DGj1ycqW.js";import"./BQQOEPN4.js";import"./DyDFI6NE.js";import"./BCJFTkwv.js";import"./CB1aB6F1.js";const Jt=[{title:"Column Name",name:"Column Name",dataIndex:"column_name",key:"column_name",minWidth:200,padding:"0px 12px"},{title:"Column Type",name:"Column Type",dataIndex:"column_type",key:"uidt",minWidth:200,padding:"0px 12px"},{title:"",name:"Action",key:"action",width:60,minWidth:60,padding:"0px 12px"}],Zt=[{title:"Source column",dataIndex:"source_column",key:"source_column",minWidth:200,padding:"0px 12px"},{title:"Destination column",dataIndex:"destination_column",key:"destination_column",minWidth:200,padding:"0px 12px"},{title:"Action",key:"action",justify:"justify-center",width:60,minWidth:60,padding:"0px 12px"}];var Qt={};const Xt={key:0,class:"text-center"},ea={class:"font-weight-bold text-lg flex items-center gap-2 truncate"},ta={key:0,class:"flex w-full max-h-[calc(80vh_-_200px)]"},aa={key:0},na={key:1},la={class:"flex items-center gap-2 w-full"},sa={key:0,class:"text-center"},oa={class:"flex flex-col w-full mr-2"},ia={key:0,class:"text-red-500 ml-3"},ra={key:0,class:"flex w-full max-h-[calc(80vh_-_200px)]"},ua={key:0},ca={key:1},ma={key:2},da={class:"flex items-center gap-2"},fa=dt({__name:"Editor",props:{quickImportType:{},baseTemplate:{},importData:{},importColumns:{},importDataOnly:{type:Boolean},maxRowsToParse:{},baseId:{},sourceId:{},importWorker:{}},emits:["import","error","change"],setup(f,{expose:Fe,emit:Be}){const K=Be;De.extend(ft);const{t:R}=pt(),me=Se(bt,E()),W=Y(()=>{var e;return((e=me.value)==null?void 0:e.columns)||[]}),Pe=Se(vt,yt()),Ve=Re.useForm,{$api:X}=Lt(),{addTab:je}=Pt(),We=_t(),{bases:qe}=ie(We),{base:Ae}=ie(kt()),L=Y(()=>qe.value.get(f.baseId)||Ae.value),de=gt(),{openTable:Ke,loadProjectTables:He}=de,{baseTables:ze}=ie(de),fe=Y(()=>{const e={};for(const a of L.value.sources??[])a.id&&(e[a.id]=ht.create({client:a.type}));return e}),ne=Y(()=>fe.value[f.sourceId]||Object.values(fe.value)[0]),ee=E([]),B=E([]),Ge=E([]),pe=E([]),q=E(!1),be=E({}),ye=E({}),P=E(),Ye=E(Object.keys(y).filter(e=>!Ct(y[e])&&![y.ForeignKey,y.ID,y.CreatedTime,y.LastModifiedTime,y.CreatedBy,y.LastModifiedBy,y.Barcode,y.Button].includes(y[e])).map(e=>({value:e,label:e}))),I=E({}),r=Tt({title:null,name:"Base Name",tables:[]}),Je=Y(()=>r.tables.reduce((e,a,t)=>{var l;return e[`tables.${t}.table_name`]=[Vt],ee.value[t]=!1,(l=a.columns)==null||l.forEach((u,n)=>{e[`tables.${t}.columns.${n}.title`]=[Le(),jt(),Wt()],e[`tables.${t}.columns.${n}.uidt`]=[Le()],et(u)&&(ee.value[t]=!0)}),e},{})),{validate:le,validateInfos:te,modelRef:Ze}=Ve(r,Je),ve=E(!f.importDataOnly),_e=E();re(()=>I.value,()=>{let e=!0;if(f.importDataOnly)for(const a of Object.keys(I.value)){let t=!1;Ce(a)||(e=!1);for(const l of I.value[a])if(!lt(l,a)){e=!1,t=!0;break}if(t)break}else for(const[a,t]of Object.entries(te))t!=null&&t.validateStatus&&t.validateStatus==="error"&&(e=!1);ve.value=e},{deep:!0});const se=E([]);wt(()=>{Qe(),se.value=r.tables.map(e=>e.table_name),f.importDataOnly&&ot(),$t(()=>{var e;(e=pe.value[0])==null||e.focus()})});function ke(e,a){return a.value.toUpperCase().includes(e.toUpperCase())}function Qe(){f.baseTemplate&&(Xe(f.baseTemplate),B.value=Array.from({length:r.tables.length||0},(e,a)=>a),ee.value=Array.from({length:r.tables.length||0},()=>!1))}function Xe({tables:e=[],...a}){const t={...a,tables:e.map(({v:l=[],columns:u=[],...n})=>({...n,columns:[...u.map((w,N)=>{var M;if(!f.importDataOnly&&((M=w.column_name)==null?void 0:M.toLowerCase())==="id"){const D=ct("id",[],u);w.column_name=D}return w.key=N,w}),...l.map(w=>({column_name:w.title,table_name:{...w}}))]}))};Object.assign(r,t)}function et(e){return e.uidt==="MultiSelect"||e.uidt==="SingleSelect"}function ge(e){r.tables.splice(e,1)}function tt(e,a){const t=r.tables[e].columns.findIndex(u=>u.key===a);r.tables[e].columns.splice(t,1);let l=0;r.tables[e].columns.forEach((u,n)=>{r.tables[e].columns[n].key!==void 0&&(r.tables[e].columns[n].key=l,l++)})}function he(e,a){Ge.value[e]=a}function at(e,a){const t={};return e.map(l=>(a||[]).reduce((u,n)=>{var M;if(n.uidt===y.ID)return u;const w=n.title in l?n.title:n.ref_column_name;let N=l[w];if(n.uidt===y.Date&&N){let D;(M=n==null?void 0:n.meta)!=null&&M.date_format?(D=n.meta.date_format,t[n.key]=D):n.key in t?D=t[n.key]:(D=Ut(N),t[n.key]=D),N=Ee(N,D)}else if(n.uidt===y.DateTime&&N){const D=Rt(l[w]);N=De(l[w],D).format("YYYY-MM-DD HH:mm")}return{...u,[n.title]:N}},{}))}function nt(e){const a=W.value.filter(t=>{var l;return(t.pk?!t.ai&&!t.cdf&&!((l=t.meta)!=null&&l.ag):!t.cdf&&t.rqd)&&!I.value[e].some(u=>u.destCn===t.title)});return a.length?(x.error(`${R("msg.error.columnsRequired")} : ${a.map(t=>t.title).join(", ")}`),!1):!0}function Ce(e){return I.value[e].filter(a=>a.enabled===!0).length===0?(x.error(R("msg.error.selectAtleastOneColumn")),!1):!0}function lt(e,a){if(!e.enabled)return!0;if(!e.destCn)return x.error(`${R("msg.error.columnDescriptionNotFound")} ${e.srcCn}`),!1;if(I.value[a].filter(l=>l.destCn===e.destCn).length>1)return x.error(R("msg.error.duplicateMappingFound")),!1;const t=W.value.find(l=>l.title===e.destCn);for(const l of Object.keys(f.importData))switch((t.pk?!t.ai&&!t.cdf:!t.cdf&&t.rqd)&&f.importData[l].slice(0,f.maxRowsToParse).some(u=>u[e.srcCn]===null||u[e.srcCn]===void 0||u[e.srcCn]==="")&&x.error(R("msg.error.nullValueViolatesNotNull")),t.uidt){case y.Number:if(f.importData[l].slice(0,f.maxRowsToParse).some(u=>u[e.sourceCn]!==null&&u[e.srcCn]!==void 0&&isNaN(+u[e.srcCn])))return x.error(R("msg.error.sourceHasInvalidNumbers")),!1;break;case y.Checkbox:if(f.importData[l].slice(0,f.maxRowsToParse).some(u=>{if(u[e.srcCn]!==null&&u[e.srcCn]!==void 0){let n=u[e.srcCn];return typeof n=="string"?(n=n.replace(/["']/g,"").toLowerCase().trim(),!(n==="false"||n==="no"||n==="n"||n==="0"||n==="true"||n==="yes"||n==="y"||n==="1")):n!==1&&n!==0&&n!==!0&&n!==!1}return!1}))return x.error(R("msg.error.sourceHasInvalidBoolean")),!1;break}return!0}function oe(e,a,t,l){be.value[`${e}-${a}`]=`Importing data to ${e} - ${a}: ${t}/${l} records`}async function st(){var t,l,u,n,w,N,M,D,H,z;if(f.importDataOnly){for(const v of r.tables)if(!nt(v.table_name)||!Ce(v.table_name))return;try{q.value=!0;const v=(t=me.value)==null?void 0:t.id,g=L.value.id,F=r.tables.map($=>$.table_name);await Promise.all(Object.keys(f.importData).map($=>(async s=>{if(!F.includes(s))return;const b=f.importData[s],p=b.length;for(let d=0,c=0;d<p;d+=f.maxRowsToParse){const O=b.slice(d,d+f.maxRowsToParse).map(ae=>I.value[s].reduce(($e,G)=>{if(G.enabled&&G.destCn){const A=W.value.find(mt=>mt.title===G.destCn);let h=ae[G.srcCn];A.uidt===y.Checkbox?(h=h?h.replace(/["']/g,"").toLowerCase().trim():"false",h==="false"||h==="no"||h==="n"?h="0":(h==="true"||h==="yes"||h==="y")&&(h="1")):A.uidt===y.Number||A.uidt===y.SingleSelect||A.uidt===y.MultiSelect?h===""&&(h=null):A.uidt===y.Date&&h&&(h=Ee(h,A.meta.date_format)),$e[G.destCn]=h}return $e},{}));await X.dbTableRow.bulkCreate("noco",g,v,O),oe(g,v,c,p),c+=O.length}})($))),Pe.trigger(),x.success(R("msg.success.tableDataImported"))}catch(v){x.error(await Oe(v))}finally{q.value=!1}}else{try{await le()}catch{throw q.value=!1,new Error("Please fill all the required values")}try{q.value=!0;const v={id:"",title:"",baseId:""};for(const g of r.tables){const F=ne==null?void 0:ne.value.getNewTableColumns().filter(s=>s.column_name!=="title");for(const s of F)(l=g.columns)!=null&&l.some(b=>{var p;return((p=b.column_name)==null?void 0:p.toLowerCase())===s.column_name.toLowerCase()})||(u=g.columns)==null||u.push(s);if(g.columns)for(const s of g.columns)((n=s.column_name)==null?void 0:n.toLowerCase())==="id"&&!("pk"in s)&&(s.pk=!0,s.rqd=!0),(!St(s)||["created_at","updated_at"].includes(s.column_name))&&s.uidt!==y.SingleSelect&&s.uidt!==y.MultiSelect&&delete s.dtxp;const $=await X.source.tableCreate((w=L.value)==null?void 0:w.id,f.sourceId||((M=(N=L.value)==null?void 0:N.sources)==null?void 0:M[0].id),{table_name:g.table_name,title:"",columns:g.columns||[]});Qt.NC_SANITIZE_COLUMN_NAME!=="false"&&$.columns.forEach((s,b)=>{g.columns[b].column_name=s.column_name}),g.id=$.id,g.title=$.title,v.id===""&&v.title===""&&v.baseId===""&&(v.id=$.id,v.title=$.title,v.baseId=L.value.id),(H=(D=$==null?void 0:$.columns)==null?void 0:D[0])!=null&&H.id&&await X.dbTableColumn.primaryColumnSet($.columns[0].id)}if(f.importData){const g=f.maxRowsToParse,F=L.value.title;await Promise.all(r.tables.map($=>(async s=>{let b=0,p=0;const d=f.importData[s.ref_table_name];if(d){p+=d.length;for(let c=0;c<d.length;c+=g){oe(F,s.title,b,p);const O=at(d.slice(c,c+g),s.columns);await X.dbTableRow.bulkCreate("noco",L.value.id,s.id,O),b+=O.length}oe(F,s.title,p,p)}})($)))}await He(L.value.id,!0),je({...v,type:Nt.TABLE})}catch(v){x.error(await Oe(v))}finally{q.value=!1}}if(!((z=r.tables)!=null&&z.length))return;const e=ze.value.get(L.value.id),a=e==null?void 0:e.find(v=>v.id===r.tables[0].id);a&&Ke(a)}function ot(){I.value={};for(let e=0;e<r.tables.length;e++)for(const a of f.importColumns[e]){const t={srcCn:a.column_name,srcTitle:a.title,destCn:"",enabled:!0};if(W.value){const l=W.value.find(u=>u.column_name===a.column_name);l?t.destCn=l.title:t.enabled=!1}r.tables[e].table_name in I.value||(I.value[r.tables[e].table_name]=[]),I.value[r.tables[e].table_name].push(t)}}Fe({importTemplate:st,isValid:ve});function Te(e){const a=se.value[e],t=r.tables[e].table_name;r.tables.filter(l=>l.table_name===t).length>1?(x.warn("Duplicate Table Name"),r.tables[e].table_name=a):se.value[e]=t,he(e,!1)}function it(e,a=!1){return(e===y.SingleSelect||e===y.MultiSelect)&&a}function rt(e,a){const t=e.target.checked;for(const l of I.value[a])l.enabled=t}function ut(e,a){if(!f.importWorker)return;const t=l=>{const[u,n]=l.data;switch(u){case xe.SINGLE_SELECT_OPTIONS:case xe.MULTI_SELECT_OPTIONS:f.importWorker.removeEventListener("message",t,!1),e.dtxp=n;break}};e.uidt===y.SingleSelect?(f.importWorker.addEventListener("message",t,!1),f.importWorker.postMessage([Me.GET_SINGLE_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}])):e.uidt===y.MultiSelect&&(f.importWorker.addEventListener("message",t,!1),f.importWorker.postMessage([Me.GET_MULTI_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}]))}const we=e=>{const a={};for(const t of e)a[t.name]=t.errors;P.value=a};function ct(e,a=[],t){let l=2,u=`${e}1`;for(;a.includes(u)||t!=null&&t.some(n=>n.column_name===u||n.title===u);)u=`${e}${l++}`;return u}return re(_e,()=>{setTimeout(async()=>{try{await le(),K("change"),P.value=null}catch(e){K("error",e),we(e.errorFields)}},500)}),re(Ze,async()=>{try{await le(),K("change"),P.value=null}catch(e){K("error",e),we(e.errorFields)}}),(e,a)=>{const t=Re,l=It,u=qt,n=Et,w=zt,N=Gt,M=Bt,D=At,H=Kt,z=Ot,v=Ht,g=Yt,F=Mt,$=xt;return m(),_($,{spinning:i(q),size:"large"},{tip:o(()=>[(m(!0),S(J,null,Z(i(be),(s,b)=>(m(),S("p",{key:b,class:"mt-[10px]"},k(s),1))),128))]),default:o(()=>[e.importDataOnly?(m(),_(z,{key:0},{default:o(()=>[C(t,{model:i(r),name:"import-only"},{default:o(()=>[i(r).tables&&e.quickImportType==="excel"?(m(),S("p",Xt,k(i(r).tables.length)+" sheet"+k(i(r).tables.length>1?"s":"")+" available for import ",1)):T("",!0)]),_:1},8,["model"]),i(r).tables&&i(r).tables.length?(m(),_(H,{key:0,activeKey:i(B),"onUpdate:activeKey":a[0]||(a[0]=s=>Ne(B)?B.value=s:null),class:"template-collapse",accordion:""},{default:o(()=>[(m(!0),S(J,null,Z(i(r).tables,(s,b)=>(m(),_(D,{key:b},{header:o(()=>[V("span",ea,[(m(),_(j(("iconMap"in e?e.iconMap:i(Q)).table),{class:"text-primary"})),U(" "+k(s.table_name),1)])]),extra:o(()=>[C(l,{bottom:"",class:"inline-block"},{title:o(()=>[V("span",null,k(e.$t("activity.deleteTable")),1)]),default:o(()=>[i(r).tables.length>1?(m(),_(j(("iconMap"in e?e.iconMap:i(Q)).delete),{key:0,class:"text-lg mr-8",onClick:ue(p=>ge(b),["stop"])},null,8,["onClick"])):T("",!0)]),_:2},1024)]),default:o(()=>[i(I)?(m(),S("div",ta,[C(M,{class:"template-form flex-1","body-row-class-name":"template-form-row",data:i(I)[s.table_name],columns:i(Zt),bordered:!1},{headerCell:o(({column:p})=>[p.key!=="action"?(m(),S("span",aa,k(p.title),1)):T("",!0),p.key==="action"?(m(),S("span",na,[C(u,{checked:i(ye)[s.table_name],"onUpdate:checked":d=>i(ye)[s.table_name]=d,onChange:d=>rt(d,s.table_name)},null,8,["checked","onUpdate:checked","onChange"])])):T("",!0)]),bodyCell:o(({column:p,record:d})=>[p.key==="source_column"?(m(),_(l,{key:0,class:"truncate inline-block"},{title:o(()=>[U(k(d.srcTitle),1)]),default:o(()=>[U(" "+k(d.srcTitle),1)]),_:2},1024)):p.key==="destination_column"?(m(),_(N,{key:1,value:d.destCn,"onUpdate:value":c=>d.destCn=c,class:"w-full","show-search":"","filter-option":ke,"dropdown-class-name":"nc-dropdown-filter-field"},{suffixIcon:o(()=>[C(n,{icon:"arrowDown",class:"text-current"})]),default:o(()=>[(m(!0),S(J,null,Z(i(W),(c,O)=>(m(),_(w,{key:O,value:c.title},{default:o(()=>[V("div",la,[(m(),_(j(("getUIDTIcon"in e?e.getUIDTIcon:i(Ue))(c.uidt)),{class:"flex-none w-3.5 h-3.5"})),C(l,{class:"truncate flex-1","show-on-truncate-only":""},{title:o(()=>[U(k(c.title),1)]),default:o(()=>[U(" "+k(c.title),1)]),_:2},1024),d.destCn===c.title?(m(),_(j(("iconMap"in e?e.iconMap:i(Q)).check),{key:0,id:"nc-selected-item-icon",class:"flex-none text-primary w-4 h-4"})):T("",!0)])]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])):T("",!0),p.key==="action"?(m(),_(u,{key:2,checked:d.enabled,"onUpdate:checked":c=>d.enabled=c},null,8,["checked","onUpdate:checked"])):T("",!0)]),_:2},1032,["data","columns"])])):T("",!0)]),_:2},1024))),128))]),_:1},8,["activeKey"])):T("",!0)]),_:1})):(m(),_(z,{key:1},{default:o(()=>[C(t,{ref_key:"formRef",ref:_e,model:i(r),name:"template-editor-form",onKeydown:a[3]||(a[3]=Ie(s=>K("import"),["enter"]))},{default:o(()=>[i(r).tables&&e.quickImportType==="excel"?(m(),S("p",sa,k(i(r).tables.length)+" sheet"+k(i(r).tables.length>1?"s":"")+" available for import ",1)):T("",!0),i(r).tables&&i(r).tables.length?(m(),_(H,{key:1,activeKey:i(B),"onUpdate:activeKey":a[2]||(a[2]=s=>Ne(B)?B.value=s:null),class:"template-collapse",accordion:""},{default:o(()=>[(m(!0),S(J,null,Z(i(r).tables,(s,b)=>(m(),_(D,{key:b},{header:o(()=>[C(g,ce({ref_for:!0},i(te)[`tables.${b}.table_name`],{"no-style":""}),{default:o(()=>{var p,d;return[V("div",oa,[C(v,{value:s.table_name,"onUpdate:value":c=>s.table_name=c,class:"font-weight-bold text-lg !rounded-md",size:"large","hide-details":"",bordered:!0,onClick:a[1]||(a[1]=ue(()=>{},["stop"])),onBlur:c=>Te(b),onKeydown:Ie(c=>Te(b),["enter"]),onDblclick:c=>he(b,!0)},null,8,["value","onUpdate:value","onBlur","onKeydown","onDblclick"]),(p=i(P))!=null&&p[`tables.${b}.table_name`]?(m(),S("div",ia,k((d=i(P))==null?void 0:d[`tables.${b}.table_name`].join(`
`)),1)):T("",!0)])]}),_:2},1040)]),extra:o(()=>[C(l,{bottom:"",class:"inline-block mr-8"},{title:o(()=>[V("span",null,k(e.$t("activity.deleteTable")),1)]),default:o(()=>[i(r).tables.length>1?(m(),_(j(("iconMap"in e?e.iconMap:i(Q)).deleteListItem),{key:0,class:"text-lg",onClick:ue(p=>ge(b),["stop"])},null,8,["onClick"])):T("",!0)]),_:2},1024)]),default:o(()=>[s.columns&&s.columns.length?(m(),S("div",ra,[C(M,{class:"template-form flex-1","body-row-class-name":"template-form-row",data:s.columns,columns:i(Jt),bordered:!1,pagination:s.columns.length>50?{defaultPageSize:50,position:["bottomCenter"]}:!1},{headerCell:o(({column:p})=>[p.key==="column_name"?(m(),S("span",ua,k(e.$t("labels.columnName")),1)):p.key==="uidt"?(m(),S("span",ca,k(e.$t("labels.columnType")),1)):p.key==="dtxp"&&i(ee)[b]?(m(),S("span",ma,k(e.$t("general.options")),1)):T("",!0)]),bodyCell:o(({column:p,record:d})=>[p.key==="column_name"?(m(),_(g,ce({key:0,ref_for:!0},i(te)[`tables.${b}.columns.${d.key}.title`],{class:"nc-table-field-name !mb-0 w-full"}),{default:o(()=>[C(v,{ref_for:!0,ref:c=>i(pe)[d.key]=c,value:d.title,"onUpdate:value":c=>d.title=c,class:"!rounded-md"},{suffix:o(()=>{var c;return[(c=i(P))!=null&&c[`tables.${b}.columns.${d.key}.title`]?(m(),_(l,{key:0,class:"flex"},{title:o(()=>{var O;return[U(k((O=i(P))==null?void 0:O[`tables.${b}.columns.${d.key}.title`].join(`
`)),1)]}),default:o(()=>[C(n,{icon:"info",class:"h-4 w-4 text-red-500 flex-none"})]),_:2},1024)):T("",!0)]}),_:2},1032,["value","onUpdate:value"])]),_:2},1040)):p.key==="uidt"?(m(),_(g,ce({key:1,ref_for:!0},i(te)[`tables.${b}.columns.${d.key}.uidt`],{class:"!mb-0 w-full"}),{default:o(()=>[C(l,{disabled:e.importDataOnly},{title:o(()=>[U(k(e.$t("tooltip.useFieldEditMenuToConfigFieldType")),1)]),default:o(()=>[C(N,{value:d.uidt,"onUpdate:value":c=>d.uidt=c,class:"w-52","show-search":"","filter-option":ke,"dropdown-class-name":"nc-dropdown-template-uidt",disabled:!e.importDataOnly,onChange:c=>ut(d,s)},{suffixIcon:o(()=>[C(n,{icon:"arrowDown",class:"text-current"})]),default:o(()=>[(m(!0),S(J,null,Z(i(Ye),(c,O)=>(m(),_(w,{key:O,value:c.value},{default:o(()=>{var ae;return[V("div",da,[(m(),_(j(("getUIDTIcon"in e?e.getUIDTIcon:i(Ue))(i(y)[c.value])),{class:"h-3.5 w-3.5"})),C(l,{placement:"right",disabled:!e.importDataOnly,"show-on-truncate-only":""},Dt({default:o(()=>[U(" "+k(c.label),1)]),_:2},[it(c.label,(ae=s.columns[d.key])==null?void 0:ae._disableSelect)?{name:"title",fn:o(()=>[U(k(e.$t("msg.tooLargeFieldEntity",{entity:c.label})),1)]),key:"0"}:void 0]),1032,["disabled"])])]}),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","disabled","onChange"])]),_:2},1032,["disabled"])]),_:2},1040)):T("",!0),p.key==="action"?(m(),_(l,{key:2,class:"inline-block"},{title:o(()=>[V("span",null,k(e.$t("activity.column.delete")),1)]),default:o(()=>[C(F,{type:"text",size:"small",disabled:s.columns.length===1,onClick:c=>tt(b,d.key)},{default:o(()=>[(m(),_(j(("iconMap"in e?e.iconMap:i(Q)).deleteListItem)))]),_:2},1032,["disabled","onClick"])]),_:2},1024)):T("",!0)]),_:2},1032,["data","columns","pagination"])])):T("",!0)]),_:2},1024))),128))]),_:1},8,["activeKey"])):T("",!0)]),_:1},8,["model"])]),_:1}))]),_:1},8,["spinning"])}}}),Ua=Ft(fa,[["__scopeId","data-v-a59473d2"]]);export{Ua as default};
