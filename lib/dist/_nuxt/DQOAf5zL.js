const __vite__fileDeps=["./QEHny6a3.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./QHHXY-Ma.js","./D_MsYLkT.js","./BCJFTkwv.js","./BQQOEPN4.js","./CB1aB6F1.js","./B5RRVMt5.js","./vll-Pnjv.js","./Pagination.D7qN7qzC.css","./Dzpuh1ae.js","./GMLocJHP.js","./BDAIZopQ.js","./bNr_om_C.js","./qW2V2r_p.js","./ByVBARmO.js","./boyBAVNN.js","./CA74dF2b.js","./BCU2uY6p.js","./C3jLTHF4.js","./C4K5fdHe.js","./BYINaHrJ.js","./dfem9Uc_.js","./D9tFZoTQ.js","./Cy6_Pye2.js","./DRJOThhQ.js","./DKN1hQ6S.js","./BQuyMdA-.js","./DGj1ycqW.js","./DyDFI6NE.js","./BLzs_b5A.js","./DXQuLwNn.js","./BmtvKY7O.js","./UnLinkedItems.C1GPHhk-.css","./Dj51GQpU.js","./vK-WmZ7a.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as W,bL as a,g2 as X,dJ as Y,iw as q,r as m,i6 as Z,i5 as ee,aA as te,hK as oe,aD as ne,i_ as se,J as ae,ft as le,f as g,F as w,o as c,c as T,b as L,w as A,N as e,Q as V,O as h,R as y,a as j,S as D,aJ as re,W as E,X as O,a4 as P,Y as ie,_ as ue}from"./DZZ6t_j4.js";import{_ as pe}from"./C92IAHUV.js";import{a as me}from"./CA74dF2b.js";import{u as ce}from"./Dzpuh1ae.js";import{u as de}from"./EqBqqo9-.js";import"./Cyxyb8KW.js";import"./GMLocJHP.js";import"./BDAIZopQ.js";import"./C4K5fdHe.js";import"./qW2V2r_p.js";import"./ByVBARmO.js";import"./boyBAVNN.js";import"./bNr_om_C.js";import"./BCU2uY6p.js";import"./C3jLTHF4.js";import"./BYINaHrJ.js";import"./dfem9Uc_.js";import"./BCJFTkwv.js";import"./vll-Pnjv.js";import"./D9tFZoTQ.js";const _e=O(()=>P(()=>import("./QEHny6a3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(r=>r.default||r)),fe=O(()=>P(()=>import("./Dj51GQpU.js"),__vite__mapDeps([35,36,1,2,37]),import.meta.url).then(r=>r.default||r)),ve={class:"nc-cell-field flex items-center w-full"},we=W({__name:"BelongsTo",async setup(r){let k,x;const l=a(X),U=a(q,Y()),i=a(Z,m(null)),B=a(ee),C=a(te),z=a(oe,m(!1)),N=a(ne,m(!1)),I=a(se,m(!1)),{isUIAllowed:S}=ae(),n=m(!1),u=m(!1),{state:d,isNew:_,removeLTARRef:K}=me(),{relatedTableMeta:$,loadRelatedTableMeta:F,relatedTableDisplayValueProp:f,relatedTableDisplayValuePropId:b,unlink:J}=ce(l,B,_,U.trigger);[k,x]=le(()=>F()),await k,x();const s=g(()=>{var t;return i!=null&&i.value?i==null?void 0:i.value:_.value?(t=d==null?void 0:d.value)==null?void 0:t[l==null?void 0:l.value.title]:null}),M=async t=>{_.value?await K(t,l==null?void 0:l.value):await J(t)};de(C,t=>{switch(t.key){case"Enter":n.value=!0,t.stopPropagation();break}});const R=g(()=>{var t,o;return(o=(t=$.value)==null?void 0:t.columns)==null?void 0:o.find(v=>v.title===f.value)});return w(n,()=>{u.value=n.value}),w(u,t=>{t||(n.value=!1)},{flush:"post"}),w(s,t=>{t&&(u.value=!1)}),(t,o)=>{const v=pe,H=ie,G=_e,Q=fe;return c(),T("div",{class:D(["flex w-full chips-wrapper items-center",{active:e(C)}])},[L(Q,{"is-open":e(u),"onUpdate:isOpen":o[4]||(o[4]=p=>h(u)?u.value=p:null)},{overlay:A(()=>[e(n)?(c(),V(G,{key:0,modelValue:e(n),"onUpdate:modelValue":o[3]||(o[3]=p=>h(n)?n.value=p:null),column:e(R),"hide-back-btn":""},null,8,["modelValue","column"])):y("",!0)]),default:A(()=>[j("div",ve,[j("div",{class:D(["chips flex items-center flex-1",{"max-w-[calc(100%_-_16px)]":!e(I)}])},[e(s)&&(e(f)||e(b))?(c(),V(v,{key:0,item:e(s),value:!Array.isArray(e(s))&&typeof e(s)=="object"?e(s)[e(f)]??e(s)[e(b)]:e(s),column:e(R),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=p=>M(e(s)))},null,8,["item","value","column"])):y("",!0)],2),!e(z)&&(e(S)("dataEdit")||e(N))&&!e(I)?(c(),T("div",{key:0,class:"flex-none flex group items-center min-w-4",tabindex:"0",onKeydown:o[2]||(o[2]=re(E(p=>n.value=!0,["stop"]),["enter"]))},[L(H,{icon:"plus",class:"flex-none select-none !text-md text-gray-700 nc-action-icon nc-plus invisible group-hover:visible group-focus:visible",onClick:o[1]||(o[1]=E(p=>n.value=!0,["stop"]))})],32)):y("",!0)])]),_:1},8,["is-open"])],2)}}}),ze=ue(we,[["__scopeId","data-v-55b809be"]]);export{ze as default};
