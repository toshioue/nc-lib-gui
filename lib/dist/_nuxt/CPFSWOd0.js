import{f as S,N as V,bL as o,ay as F,r as d,ho as O,he as R,gw as B,az as L,fG as P,ac as A,g as f,d4 as G,P as s,R as U,fe as $,o as m,c,Q as z,aF as r,Y as l,t as g,cN as Q,_ as T}from"./DKhUGBot.js";const Y=["type"],q={key:1,class:"nc-cell-field nc-null uppercase"},H={key:2,class:"nc-cell-field"},J=S({__name:"Integer",props:{modelValue:{}},emits:["update:modelValue"],setup(b,{emit:w}){const N=b,I=w,{showNull:k}=V(),y=o(F),i=o(O,d(!1)),C=o(R,d(!1)),D=o(B,d(!1)),p=o(L),M=o(P,null),n=A(N,"modelValue",I),j=f(()=>n.value===null||isNaN(Number(n.value))?null:G(M.value.meta).isLocaleString?Number(n.value).toLocaleString():Number(n.value)),u=f({get:()=>n.value,set:e=>{e===""?n.value=null:p.value&&!i.value?n.value=isNaN(Number(e))?e:Number(e):n.value=e}}),x=f(()=>p.value&&!i.value?"text":"number"),E=e=>!D.value&&!i.value&&!p.value&&(e==null?void 0:e.focus());function K(e){var a,v;if((Q()?e.metaKey:e.ctrlKey)&&!e.altKey)switch(e.keyCode){case 90:{e.stopPropagation();break}}if(e.key===".")return e.preventDefault();e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(a=e.target)==null||a.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(v=e.target)==null||v.setSelectionRange(0,0),e.target.type="number")}return(e,t)=>!s(C)&&s(y)?U((m(),c("input",{key:0,ref:E,"onUpdate:modelValue":t[0]||(t[0]=a=>z(u)?u.value=a:null),class:"nc-cell-field outline-none py-1 border-none w-full h-full",type:s(x),style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=a=>y.value=!1),onKeydown:[K,t[2]||(t[2]=r(l(()=>{},["stop"]),["down"])),t[3]||(t[3]=r(l(()=>{},["stop"]),["left"])),t[4]||(t[4]=r(l(()=>{},["stop"]),["right"])),t[5]||(t[5]=r(l(()=>{},["stop"]),["up"])),t[6]||(t[6]=r(l(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[7]||(t[7]=l(()=>{},["stop"])),onMousedown:t[8]||(t[8]=l(()=>{},["stop"]))},null,40,Y)),[[$,s(u)]]):s(u)===null&&s(k)?(m(),c("span",q,g(e.$t("general.null")),1)):(m(),c("span",H,g(s(j)),1))}}),X=T(J,[["__scopeId","data-v-99e6cbcf"]]);export{X as default};
