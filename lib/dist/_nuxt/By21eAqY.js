import{bY as ve,bw as Ae,bZ as Le,b_ as he,b$ as Ce,c0 as Se,c1 as qe,bJ as xe,bt as _e,bj as Te,bF as We,c2 as Me,bH as Ne,aQ as Re,c3 as He,r as Ee,P as X,aj as De,bU as $e,H as ae,c4 as re,c5 as Ye,aM as Y,a_ as ze,bX as me,c6 as Ve,aY as ie,f as Ue,c7 as Ke,aK as Xe,g as q,c8 as Ze,aT as Ge,aL as te,b as Qe,aO as ue,aW as ge,c9 as oe,aZ as Be}from"./B2hUoZAs.js";import{c as Je,g as er,b as rr,a as se,v as tr,d as je,_ as nr,u as ar,e as pe,t as le,f as Fe,h as ir}from"./cvW-uYte.js";import{u as lr}from"./fKrvpb1C.js";import{u as ur,F as ce}from"./C9qKCFvP.js";function or(e,r,n){var l=-1,t=e.length;r<0&&(r=-r>t?0:t+r),n=n>t?t:n,n<0&&(n+=t),t=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(t);++l<t;)a[l]=e[l+r];return a}function ke(e){var r=!1,n=e.length,l=[];return e.length?new Promise(function(t,a){e.forEach(function(c,y){c.catch(function(P){return r=!0,P}).then(function(P){n-=1,l[y]=P,!(n>0)&&(r&&a(l),t(l))})})}):Promise.resolve([])}function be(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function ye(e,r){return(!r||e!=="hidden")&&e!=="visible"&&e!=="clip"}function fe(e,r){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return ye(n.overflowY,r)||ye(n.overflowX,r)||function(l){var t=function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}}(l);return!!t&&(t.clientHeight<l.scrollHeight||t.clientWidth<l.scrollWidth)}(e)}return!1}function ne(e,r,n,l,t,a,c,y){return a<e&&c>r||a>e&&c<r?0:a<=e&&y<=n||c>=r&&y>=n?a-e-l:c>r&&y<n||a<e&&y>n?c-r+t:0}var we=function(e,r){var n=window,l=r.scrollMode,t=r.block,a=r.inline,c=r.boundary,y=r.skipOverflowHiddenElements,P=typeof c=="function"?c:function(ee){return ee!==c};if(!be(e))throw new TypeError("Invalid target");for(var k,I,L=document.scrollingElement||document.documentElement,C=[],F=e;be(F)&&P(F);){if((F=(I=(k=F).parentElement)==null?k.getRootNode().host||null:I)===L){C.push(F);break}F!=null&&F===document.body&&fe(F)&&!fe(document.documentElement)||F!=null&&fe(F,y)&&C.push(F)}for(var M=n.visualViewport?n.visualViewport.width:innerWidth,x=n.visualViewport?n.visualViewport.height:innerHeight,$=window.scrollX||pageXOffset,_=window.scrollY||pageYOffset,D=e.getBoundingClientRect(),w=D.height,i=D.width,o=D.top,m=D.right,g=D.bottom,p=D.left,f=t==="start"||t==="nearest"?o:t==="end"?g:o+w/2,b=a==="center"?p+i/2:a==="end"?m:p,T=[],E=0;E<C.length;E++){var h=C[E],V=h.getBoundingClientRect(),j=V.height,W=V.width,s=V.top,u=V.right,d=V.bottom,v=V.left;if(l==="if-needed"&&o>=0&&p>=0&&g<=x&&m<=M&&o>=s&&g<=d&&p>=v&&m<=u)return T;var O=getComputedStyle(h),S=parseInt(O.borderLeftWidth,10),H=parseInt(O.borderTopWidth,10),U=parseInt(O.borderRightWidth,10),N=parseInt(O.borderBottomWidth,10),R=0,A=0,G="offsetWidth"in h?h.offsetWidth-h.clientWidth-S-U:0,Q="offsetHeight"in h?h.offsetHeight-h.clientHeight-H-N:0,z="offsetWidth"in h?h.offsetWidth===0?0:W/h.offsetWidth:0,K="offsetHeight"in h?h.offsetHeight===0?0:j/h.offsetHeight:0;if(L===h)R=t==="start"?f:t==="end"?f-x:t==="nearest"?ne(_,_+x,x,H,N,_+f,_+f+w,w):f-x/2,A=a==="start"?b:a==="center"?b-M/2:a==="end"?b-M:ne($,$+M,M,S,U,$+b,$+b+i,i),R=Math.max(0,R+_),A=Math.max(0,A+$);else{R=t==="start"?f-s-H:t==="end"?f-d+N+Q:t==="nearest"?ne(s,d,j,H,N+Q,f,f+w,w):f-(s+j/2)+Q/2,A=a==="start"?b-v-S:a==="center"?b-(v+W/2)+G/2:a==="end"?b-u+U+G:ne(v,u,W,S,U+G,b,b+i,i);var B=h.scrollLeft,J=h.scrollTop;f+=J-(R=Math.max(0,Math.min(J+R/K,h.scrollHeight-j/K+Q))),b+=B-(A=Math.max(0,Math.min(B+A/z,h.scrollWidth-W/z+G)))}T.push({el:h,top:R,left:A})}return T};function Ie(e){return e===Object(e)&&Object.keys(e).length!==0}function sr(e,r){r===void 0&&(r="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(l){var t=l.el,a=l.top,c=l.left;t.scroll&&n?t.scroll({top:a,left:c,behavior:r}):(t.scrollTop=a,t.scrollLeft=c)})}function fr(e){return e===!1?{block:"end",inline:"nearest"}:Ie(e)?e:{block:"start",inline:"nearest"}}function dr(e,r){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Ie(r)&&typeof r.behavior=="function")return r.behavior(n?we(e,r):[]);if(n){var l=fr(r);return sr(we(e,l),l.behavior)}}var cr=Math.min;function vr(e,r,n){for(var l=Ce,t=e[0].length,a=e.length,c=a,y=Array(a),P=1/0,k=[];c--;){var I=e[c];c&&r&&(I=ve(I,Ae(r))),P=cr(I.length,P),y[c]=t>=120&&I.length>=120?new Le(c&&I):void 0}I=e[0];var L=-1,C=y[0];e:for(;++L<t&&k.length<P;){var F=I[L],M=F;if(F=F!==0?F:0,!(C?he(C,M):l(k,M))){for(c=a;--c;){var x=y[c];if(!(x?he(x,M):l(e[c],M)))continue e}C&&C.push(M),k.push(F)}}return k}function hr(e,r){return Se(qe(e,r,xe),e+"")}function mr(e){return _e(e)&&Te(e)}function gr(e){return mr(e)?e:[]}var pr=hr(function(e){var r=ve(e,gr);return r.length&&r[0]===e[0]?vr(r):[]});function Fr(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}function br(e,r){return r.length<2?e:We(e,or(r,0,-1))}function yr(e,r){return r=Me(r,e),e=br(e,r),e==null||delete e[Ne(Fr(r))]}function wr(e){return Re(e)?void 0:e}var Or=1,Pr=2,Mr=4,Er=He(function(e,r){var n={};if(e==null)return n;var l=!1;r=ve(r,function(a){return a=Me(a,e),l||(l=a.length>1),a}),Je(e,er(e),n),l&&(n=rr(n,Or|Pr|Mr,wr));for(var t=r.length;t--;)yr(n,r[t]);return n});function Oe(e){var r=!1;return e&&e.length&&e.every(function(n){return n.required?(r=!0,!1):!0}),r}function Pe(e){return e==null?[]:Array.isArray(e)?e:[e]}function de(e,r,n){var l=e;r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,"");for(var t=r.split("."),a=0,c=t.length;a<c-1&&!(!l&&!n);++a){var y=t[a];if(y in l)l=l[y];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:l,k:t[a],v:l?l[t[a]]:null,isValid:l&&t[a]in l}}function Vr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee({}),n=arguments.length>2?arguments[2]:void 0,l=se(X(e)),t=De({}),a=$e([]),c=function(i){re(X(e),Y(Y({},se(l)),i)),ze(function(){Object.keys(t).forEach(function(o){t[o]={autoLink:!1,required:Oe(X(r)[o])}})})},y=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;return o.length?i.filter(function(m){var g=Pe(m.trigger||"change");return pr(g,o).length}):i},P=null,k=function(i){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2?arguments[2]:void 0,g=[],p={},f=function(){var j=i[b],W=de(X(e),j,m);if(!W.isValid)return"continue";p[j]=W.v;var s=y(X(r)[j],Pe(o&&o.trigger));s.length&&g.push(I(j,W.v,s,o||{}).then(function(){return{name:j,errors:[],warnings:[]}}).catch(function(u){var d=[],v=[];return u.forEach(function(O){var S=O.rule.warningOnly,H=O.errors;S?v.push.apply(v,ie(H)):d.push.apply(d,ie(H))}),d.length?Promise.reject({name:j,errors:d,warnings:v}):{name:j,errors:d,warnings:v}}))},b=0;b<i.length;b++)var T=f();var E=ke(g);P=E;var h=E.then(function(){return P===E?Promise.resolve(p):Promise.reject([])}).catch(function(V){var j=V.filter(function(W){return W&&W.errors.length});return Promise.reject({values:p,errorFields:j,outOfDate:P!==E})});return h.catch(function(V){return V}),h},I=function(i,o,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=tr([i],o,m,Y({validateMessages:je},g),!!g.validateFirst);return t[i]?(t[i].validateStatus="validating",p.catch(function(f){return f}).then(function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t[i].validateStatus==="validating"){var b,T=f.filter(function(E){return E&&E.errors.length});t[i].validateStatus=T.length?"error":"success",t[i].help=T.length?T.map(function(E){return E.errors}):null,n==null||(b=n.onValidate)===null||b===void 0||b.call(n,i,!T.length,T.length?me(t[i].help[0]):null)}}),p):p.catch(function(f){return f})},L=function(i,o){var m=[],g=!0;i?Array.isArray(i)?m=i:m=[i]:(g=!1,m=a.value);var p=k(m,o||{},g);return p.catch(function(f){return f}),p},C=function(i){var o=[];i?Array.isArray(i)?o=i:o=[i]:o=a.value,o.forEach(function(m){t[m]&&re(t[m],{validateStatus:"",help:null})})},F=function(i){for(var o={autoLink:!1},m=[],g=Array.isArray(i)?i:[i],p=0;p<g.length;p++){var f=g[p];(f==null?void 0:f.validateStatus)==="error"&&(o.validateStatus="error",f.help&&m.push(f.help)),o.required=o.required||(f==null?void 0:f.required)}return o.help=m,o},M=l,x=!0,$=function(i){var o=[];a.value.forEach(function(m){var g=de(i,m,!1),p=de(M,m,!1),f=x&&(n==null?void 0:n.immediate)&&g.isValid;(f||!Ve(g.v,p.v))&&o.push(m)}),L(o,{trigger:"change"}),x=!1,M=se(me(i))},_=n==null?void 0:n.debounce,D=!0;return ae(r,function(){a.value=r?Object.keys(X(r)):[],!D&&n&&n.validateOnRuleChange&&L(),D=!1},{deep:!0,immediate:!0}),ae(a,function(){var w={};a.value.forEach(function(o){w[o]=re({},t[o],{autoLink:!1,required:Oe(X(r)[o])}),delete t[o]});for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];re(t,w)},{immediate:!0}),ae(e,_&&_.wait?Ye($,_.wait,Er(_,["wait"])):$,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:e,rulesRef:r,initialModel:l,validateInfos:t,resetFields:c,validate:L,validateField:I,mergeValidateInfo:F,clearValidate:C}}var jr=function(){return{layout:ue.oneOf(ge("horizontal","inline","vertical")),labelCol:{type:Object},wrapperCol:{type:Object},colon:{type:Boolean,default:void 0},labelAlign:ue.oneOf(ge("left","right")),labelWrap:{type:Boolean,default:void 0},prefixCls:String,requiredMark:{type:[String,Boolean],default:void 0},hideRequiredMark:{type:Boolean,default:void 0},model:ue.object,rules:{type:Object},validateMessages:{type:Object,default:void 0},validateOnRuleChange:{type:Boolean,default:void 0},scrollToFirstError:{type:[Boolean,Object]},onSubmit:Function,name:String,validateTrigger:{type:[String,Array]},size:{type:String},onValuesChange:{type:Function},onFieldsChange:{type:Function},onFinish:{type:Function},onFinishFailed:{type:Function},onValidate:{type:Function}}};function kr(e,r){return Ve(le(e),le(r))}var Z=Ue({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:Ke(jr(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:nr,useForm:Vr,setup:function(r,n){var l=n.emit,t=n.slots,a=n.expose,c=n.attrs,y=lr(r),P=Xe("form",r),k=P.prefixCls,I=P.direction,L=P.form,C=q(function(){return r.requiredMark===""||r.requiredMark}),F=q(function(){var s;return C.value!==void 0?C.value:L&&((s=L.value)===null||s===void 0?void 0:s.requiredMark)!==void 0?L.value.requiredMark:!r.hideRequiredMark}),M=q(function(){var s,u;return(s=r.colon)!==null&&s!==void 0?s:(u=L.value)===null||u===void 0?void 0:u.colon}),x=Ze(),$=x.validateMessages,_=q(function(){return Y(Y(Y({},je),$.value),r.validateMessages)}),D=q(function(){var s;return Ge(k.value,(s={},te(s,"".concat(k.value,"-").concat(r.layout),!0),te(s,"".concat(k.value,"-hide-required-mark"),F.value===!1),te(s,"".concat(k.value,"-rtl"),I.value==="rtl"),te(s,"".concat(k.value,"-").concat(y.value),y.value),s))}),w=Ee(),i={},o=function(u,d){i[u]=d},m=function(u){delete i[u]},g=function(u){var d=!!u,v=d?le(u).map(Fe):[];return d?Object.values(i).filter(function(O){return v.findIndex(function(S){return kr(S,O.fieldName.value)})>-1}):Object.values(i)},p=function(u){if(!r.model){oe(!1,"Form","model is required for resetFields to work.");return}g(u).forEach(function(d){d.resetField()})},f=function(u){g(u).forEach(function(d){d.clearValidate()})},b=function(u){var d=r.scrollToFirstError;if(l("finishFailed",u),d&&u.errorFields.length){var v={};Be(d)==="object"&&(v=d),E(u.errorFields[0].name,v)}},T=function(){return j.apply(void 0,arguments)},E=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=g(u?[u]:void 0);if(v.length){var O=v[0].fieldId.value,S=O?document.getElementById(O):null;S&&dr(S,Y({scrollMode:"if-needed",block:"nearest"},d))}},h=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u===!0){var d=[];return Object.values(i).forEach(function(v){var O=v.namePath;d.push(O.value)}),pe(r.model,d)}else return pe(r.model,u)},V=function(u,d){if(oe(!(u instanceof Function),"Form","validateFields/validateField/validate not support callback, please use promise instead"),!r.model)return oe(!1,"Form","model is required for validateFields to work."),Promise.reject("Form `model` is required for validateFields to work.");var v=!!u,O=v?le(u).map(Fe):[],S=[];Object.values(i).forEach(function(N){var R;if(v||O.push(N.namePath.value),!!((R=N.rules)!==null&&R!==void 0&&R.value.length)){var A=N.namePath.value;if(!v||ir(O,A)){var G=N.validateRules(Y({validateMessages:_.value},d));S.push(G.then(function(){return{name:A,errors:[],warnings:[]}}).catch(function(Q){var z=[],K=[];return Q.forEach(function(B){var J=B.rule.warningOnly,ee=B.errors;J?K.push.apply(K,ie(ee)):z.push.apply(z,ie(ee))}),z.length?Promise.reject({name:A,errors:z,warnings:K}):{name:A,errors:z,warnings:K}}))}}});var H=ke(S);w.value=H;var U=H.then(function(){return w.value===H?Promise.resolve(h(O)):Promise.reject([])}).catch(function(N){var R=N.filter(function(A){return A&&A.errors.length});return Promise.reject({values:h(O),errorFields:R,outOfDate:w.value!==H})});return U.catch(function(N){return N}),U},j=function(){return V.apply(void 0,arguments)},W=function(u){if(u.preventDefault(),u.stopPropagation(),l("submit",u),r.model){var d=V();d.then(function(v){l("finish",v)}).catch(function(v){b(v)})}};return a({resetFields:p,clearValidate:f,validateFields:V,getFieldsValue:h,validate:T,scrollToField:E}),ar({model:q(function(){return r.model}),name:q(function(){return r.name}),labelAlign:q(function(){return r.labelAlign}),labelCol:q(function(){return r.labelCol}),labelWrap:q(function(){return r.labelWrap}),wrapperCol:q(function(){return r.wrapperCol}),vertical:q(function(){return r.layout==="vertical"}),colon:M,requiredMark:F,validateTrigger:q(function(){return r.validateTrigger}),rules:q(function(){return r.rules}),addField:o,removeField:m,onValidate:function(u,d,v){l("validate",u,d,v)},validateMessages:_}),ae(function(){return r.rules},function(){r.validateOnRuleChange&&V()}),function(){var s;return Qe("form",Y(Y({},c),{},{onSubmit:W,class:[D.value,c.class]}),[(s=t.default)===null||s===void 0?void 0:s.call(t)])}}});Z.useInjectFormItemContext=ur;Z.ItemRest=ce;Z.install=function(e){return e.component(Z.name,Z),e.component(Z.Item.name,Z.Item),e.component(ce.name,ce),e};export{Z as F};
