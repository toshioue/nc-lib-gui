import{cz as q,aM as m,aO as J,f as K,aK as R,bL as Q,F as Z,l as ee,i as ae,c9 as ne,r as G,cn as te,aP as T,aT as U,aL as V,b as _,H,g as j,av as re,aY as ue}from"./BLdk6lRf.js";import{V as le}from"./C0Si9_oy.js";import{u as D}from"./BD_L_KCX.js";function oe(t,a){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=q(t))||a){r&&(t=r);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(o){throw o},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,x=!1,C;return{s:function(){r=r.call(t)},n:function(){var o=r.next();return g=o.done,o},e:function(o){x=!0,C=o},f:function(){try{!g&&r.return!=null&&r.return()}finally{if(x)throw C}}}}var ie=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},ce=function(){return m(m({},ie()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},de=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:J.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},se=function(){return m(m({},de()),{},{indeterminate:{type:Boolean,default:!1}})},L=Symbol("CheckboxGroupContext"),ve=["indeterminate","skipGroup","id"],fe=["onMouseenter","onMouseleave","onInput","class","style"];const P=K({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:se(),setup:function(a,r){var s=r.emit,i=r.attrs,g=r.slots,x=r.expose,C=D(),c=R("checkbox",a),o=c.prefixCls,b=c.direction,u=Q(L,void 0),k=Symbol("checkboxUniId");Z(function(){!a.skipGroup&&u&&u.registerValue(k,a.value)}),ee(function(){u&&u.cancelValue(k)}),ae(function(){ne(a.checked!==void 0||u||a.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var I=function(e){var n=e.target.checked;s("update:checked",n),s("change",e)},S=G(),O=function(){var e;(e=S.value)===null||e===void 0||e.focus()},w=function(){var e;(e=S.value)===null||e===void 0||e.blur()};return x({focus:O,blur:w}),function(){var h,e,n=te((h=g.default)===null||h===void 0?void 0:h.call(g)),d=a.indeterminate,v=a.skipGroup,f=a.id,l=f===void 0?C.id.value:f,y=T(a,ve),A=i.onMouseenter,F=i.onMouseleave;i.onInput;var M=i.class,z=i.style,W=T(i,fe),p=m(m({},y),{},{id:l,prefixCls:o.value},W);u&&!v?(p.onChange=function(){for(var E=arguments.length,N=new Array(E),B=0;B<E;B++)N[B]=arguments[B];s.apply(void 0,["change"].concat(N)),u.toggleOption({label:n,value:a.value})},p.name=u.name.value,p.checked=u.mergedValue.value.indexOf(a.value)!==-1,p.disabled=a.disabled||u.disabled.value,p.indeterminate=d):p.onChange=I;var X=U((e={},V(e,"".concat(o.value,"-wrapper"),!0),V(e,"".concat(o.value,"-rtl"),b.value==="rtl"),V(e,"".concat(o.value,"-wrapper-checked"),p.checked),V(e,"".concat(o.value,"-wrapper-disabled"),p.disabled),e),M),Y=U(V({},"".concat(o.value,"-indeterminate"),d));return _("label",{class:X,style:z,onMouseenter:A,onMouseleave:F},[_(le,m(m({},p),{},{class:Y,ref:S}),null),n.length?_("span",null,[n]):null])}}}),$=K({compatConfig:{MODE:3},name:"ACheckboxGroup",props:ce(),setup:function(a,r){var s=r.slots,i=r.emit,g=r.expose,x=D(),C=R("checkbox",a),c=C.prefixCls,o=C.direction,b=G((a.value===void 0?a.defaultValue:a.value)||[]);H(function(){return a.value},function(){b.value=a.value||[]});var u=j(function(){return a.options.map(function(e){return typeof e=="string"||typeof e=="number"?{label:e,value:e}:e})}),k=G(Symbol()),I=G(new Map),S=function(n){I.value.delete(n),k.value=Symbol()},O=function(n,d){I.value.set(n,d),k.value=Symbol()},w=G(new Map);H(k,function(){var e=new Map,n=oe(I.value.values()),d;try{for(n.s();!(d=n.n()).done;){var v=d.value;e.set(v,!0)}}catch(f){n.e(f)}finally{n.f()}w.value=e});var h=function(n){var d=b.value.indexOf(n.value),v=ue(b.value);d===-1?v.push(n.value):v.splice(d,1),a.value===void 0&&(b.value=v);var f=v.filter(function(l){return w.value.has(l)}).sort(function(l,y){var A=u.value.findIndex(function(M){return M.value===l}),F=u.value.findIndex(function(M){return M.value===y});return A-F});i("update:value",f),i("change",f),x.onFieldChange()};return re(L,{cancelValue:S,registerValue:O,toggleOption:h,mergedValue:b,name:j(function(){return a.name}),disabled:j(function(){return a.disabled})}),g({mergedValue:b}),function(){var e,n=a.id,d=n===void 0?x.id.value:n,v=null,f="".concat(c.value,"-group");return u.value&&u.value.length>0&&(v=u.value.map(function(l){var y;return _(P,{prefixCls:c.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:a.disabled,indeterminate:l.indeterminate,value:l.value,checked:b.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(f,"-item")},{default:function(){return[l.label===void 0?(y=s.label)===null||y===void 0?void 0:y.call(s,l):l.label]}})})),_("div",{class:[f,V({},"".concat(f,"-rtl"),o.value==="rtl")],id:d},[v||((e=s.default)===null||e===void 0?void 0:e.call(s))])}}});P.Group=$;P.install=function(t){return t.component(P.name,P),t.component($.name,$),t};export{P as C,$ as a};
