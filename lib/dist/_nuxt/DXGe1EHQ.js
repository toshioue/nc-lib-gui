import{e as O,L as S,bL as o,aC as V,r as d,h_ as F,hK as L,ha as R,aD as B,g2 as P,ab as A,f,dc as U,N as l,P as $,fm as G,o as m,c as y,O as J,aJ as r,W as s,t as g,aK as T,_ as W}from"./DZZ6t_j4.js";const q=["type"],z={key:1,class:"nc-cell-field nc-null uppercase"},H={key:2,class:"nc-cell-field"},Q=O({__name:"Integer",props:{modelValue:{}},emits:["update:modelValue"],setup(b,{emit:w}){const I=b,N=w,{showNull:k}=S(),v=o(V),i=o(F,d(!1)),C=o(L,d(!1)),D=o(R,d(!1)),p=o(B),K=o(P,null),n=A(I,"modelValue",N),M=f(()=>n.value===null||isNaN(Number(n.value))?null:U(K.value.meta).isLocaleString?Number(n.value).toLocaleString():Number(n.value)),u=f({get:()=>n.value,set:e=>{e===""?n.value=null:p.value&&!i.value?n.value=isNaN(Number(e))?e:Number(e):n.value=e}}),j=f(()=>p.value&&!i.value?"text":"number"),x=e=>!D.value&&!i.value&&!p.value&&(e==null?void 0:e.focus());function E(e){var a,c;if((T()?e.metaKey:e.ctrlKey)&&!e.altKey)switch(e.keyCode){case 90:{e.stopPropagation();break}}if(e.key===".")return e.preventDefault();e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(a=e.target)==null||a.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(c=e.target)==null||c.setSelectionRange(0,0),e.target.type="number")}return(e,t)=>!l(C)&&l(v)?$((m(),y("input",{key:0,ref:x,"onUpdate:modelValue":t[0]||(t[0]=a=>J(u)?u.value=a:null),class:"nc-cell-field outline-none py-1 border-none w-full h-full",type:l(j),style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=a=>v.value=!1),onKeydown:[E,t[2]||(t[2]=r(s(()=>{},["stop"]),["down"])),t[3]||(t[3]=r(s(()=>{},["stop"]),["left"])),t[4]||(t[4]=r(s(()=>{},["stop"]),["right"])),t[5]||(t[5]=r(s(()=>{},["stop"]),["up"])),t[6]||(t[6]=r(s(()=>{},["stop"]),["delete"])),t[7]||(t[7]=s(()=>{},["alt","stop"]))],onSelectstartCapture:t[8]||(t[8]=s(()=>{},["stop"])),onMousedown:t[9]||(t[9]=s(()=>{},["stop"]))},null,40,q)),[[G,l(u)]]):l(u)===null&&l(k)?(m(),y("span",z,g(e.$t("general.null")),1)):(m(),y("span",H,g(l(M)),1))}}),Y=W(Q,[["__scopeId","data-v-08e2ce4c"]]);export{Y as default};
