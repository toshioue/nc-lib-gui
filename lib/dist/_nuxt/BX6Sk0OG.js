import{_ as U}from"./By7kEk8u.js";import{_ as j}from"./DGQVY9pZ.js";import{e as E,f as C,r as N,o as a,c as _,b as c,w as r,a as n,t as l,ao as g,at as F,Q as h,R as w,N as s,W as A,d as m,O as G,z as H,Y as Q,Z as W,ca as Y,_ as Z}from"./DZZ6t_j4.js";import{_ as q}from"./sz1d3zjm.js";import{_ as J}from"./BLgccLvp.js";import{_ as K}from"./vK-WmZ7a.js";import{a as X}from"./va4LPhtg.js";const ee={class:"flex flex-col","data-testid":"nc-setup-list"},te={"data-rec":"true"},se={class:"h-[calc(100%_-_58px)] flex"},oe={class:"w-full"},ne={class:"w-950px px-4 mt-3 mx-auto text-lg font-weight-bold"},ae={class:"container"},le=["data-testid","onClick"],ie={class:"title"},ce={class:"flex flex-col h-full"},re={key:0,class:"text-base font-weight-bold"},ue={key:1,class:"text-base font-weight-bold"},de={class:"flex flex-row mt-2 w-full"},_e={class:"flex mt-6 justify-end space-x-2"},fe=E({__name:"List",props:{category:{}},setup(M){const y=M,{categorizeApps:S,resetPlugin:P,showPluginUninstallModal:f,activePlugin:u}=X(),x=C(()=>{var e,t;return((t=S.value)==null?void 0:t[(e=y.category)==null?void 0:e.toLowerCase()])||[]}),p=C(()=>x.value.find(e=>e.active)),d=N(!1),i=N(null),k=async(e,t=!1)=>{d.value=t,f.value=!0,u.value=e},$=e=>{const t=e!==p.value&&p.value;if(t)return i.value=e,k(t,!0);H(`/account/setup/${y.category}/${e.title}`)},R=async()=>{await P(u.value),d.value&&(await $(i.value),i.value=null,d.value=!1)},B=()=>{u.value=null,i.value=null,d.value=!1,f.value=!1};return(e,t)=>{const V=U,z=j,v=Q,I=q,L=J,T=K,b=W,D=Y;return a(),_("div",ee,[c(V,null,{title:r(()=>[n("span",te,l(e.category),1)]),_:1}),n("div",se,[n("div",oe,[n("div",ne,l(e.category)+" Services",1),n("div",ae,[(a(!0),_(g,null,F(s(x),o=>(a(),_("div",{key:o.title,class:"item group","data-testid":`nc-setup-list-item-${o.title}`,onClick:O=>$(o)},[c(z,{app:o,class:"icon"},null,8,["app"]),n("span",ie,l(o.title),1),t[2]||(t[2]=n("div",{class:"flex-grow"},null,-1)),o.active?(a(),h(v,{key:0,icon:"delete",class:"text-error min-w-6 h-6 bg-white-500 !hidden !group-hover:!inline cursor-pointer"})):w("",!0),o===s(p)?(a(),h(v,{key:1,icon:"circleCheckSolid",class:"text-success min-w-5 h-5 bg-white-500 nc-configured"})):w("",!0),c(T,{trigger:["click"],"overlay-class-name":"!rounded-md",onClick:t[0]||(t[0]=A(()=>{},["stop"]))},{overlay:r(()=>[c(L,{class:"min-w-20"},{default:r(()=>[c(I,{"data-testid":"nc-config-reset",onClick:A(O=>k(o),["stop"])},{default:r(()=>[n("span",null,l(e.$t("general.reset")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[o.active?(a(),h(v,{key:0,icon:"threeDotVertical",class:"min-w-5 h-5 bg-white-500 text-gray-500 hover:text-current nc-setup-plugin-menu"})):w("",!0)]),_:2},1024)],8,le))),128))])])]),c(D,{visible:s(f),"onUpdate:visible":t[1]||(t[1]=o=>G(f)?f.value=o:null),closable:!1,width:"448px",centered:"",footer:null,"wrap-class-name":"nc-modal-plugin-reset-conform"},{default:r(()=>[n("div",ce,[s(d)?(a(),_("div",re," Switch to "+l(s(i)&&s(i).title),1)):(a(),_("div",ue,"Reset "+l(s(u)&&s(u).title)+" Configuration",1)),n("div",de,[s(d)?(a(),_(g,{key:0},[m(" Switching to "+l(s(i)&&s(i).title)+" will reset your "+l(s(u)&&s(u).title)+" settings. Continue? ",1)],64)):(a(),_(g,{key:1},[m("Resetting will erase your current configuration.")],64))]),n("div",_e,[c(b,{size:"small",type:"secondary",onClick:B},{default:r(()=>[m(l(e.$t("general.cancel")),1)]),_:1}),c(b,{size:"small",type:"danger","data-testid":"nc-reset-confirm-btn",onClick:R},{default:r(()=>[m(l(s(d)?`${e.$t("general.reset")} & ${e.$t("general.switch")}`:e.$t("general.reset")),1)]),_:1})])])]),_:1},8,["visible"])])}}}),xe=Z(fe,[["__scopeId","data-v-b1c10443"]]);export{xe as default};
