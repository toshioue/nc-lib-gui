const __vite__fileDeps=["./DnO0ARxW.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./DQfemegE.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as L,K as P,ap as T,ag as q,r as b,ar as z,o as i,c as u,b as o,w as r,a as s,N as n,t,ao as x,d as l,ce as A,R as B,Q as M,T as S,U as D,X as G,z as H,a3 as K,a4 as O}from"./DZZ6t_j4.js";import{_ as Q}from"./CyRMlOXW.js";import{v as W}from"./C3jLTHF4.js";import{_ as X}from"./BeDviXlI.js";import{_ as J}from"./Cr9ZWAG6.js";import"./DKN1hQ6S.js";import{I as Y}from"./BQuyMdA-.js";import{F as Z}from"./BYINaHrJ.js";import{_ as ee}from"./dfem9Uc_.js";import"./B5RRVMt5.js";import"./DGj1ycqW.js";import"./BQQOEPN4.js";import"./vll-Pnjv.js";import"./DyDFI6NE.js";import"./D9tFZoTQ.js";import"./BCJFTkwv.js";const se=G(()=>O(()=>import("./DnO0ARxW.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(p=>p.default||p)),oe={class:"md:bg-primary bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},te={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},ne={class:"self-center flex flex-col justify-center items-center text-center gap-2"},ae={class:"prose-2xl font-bold my-4 w-full"},re={class:"prose-sm"},ie={class:"prose-sm mb-4"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ce={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},me={class:"flex items-center gap-2 justify-center"},ue={class:"break-words"},pe={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},_e={class:"scaling-btn bg-opacity-100",type:"submit"},de={class:"flex items-center gap-2"},fe={class:"text-end prose-sm"},Fe=L({__name:"forgot-password",setup(p){const k=P(),{api:I,isLoading:R,error:c}=T({useGlobalInstance:!0}),{t:_}=q(),g=b(!1),v=b(),m=z({email:""}),$={email:[{required:!0,message:_("msg.error.signUpRules.emailRequired")},{validator:(e,a)=>new Promise((d,f)=>{if(!(a!=null&&a.length)||W(a))return d();f(new Error(_("msg.error.signUpRules.emailInvalid")))}),message:_("msg.error.signUpRules.emailInvalid")}]};async function C(){if(v.value.validate()){y();try{await I.auth.passwordForgot(m).then(()=>{g.value=!0})}catch{}}}function y(){c.value&&(c.value=null)}function h(){H({path:"/signin",query:k.query})}return(e,a)=>{const d=se,f=J,w=Q,E=X,N=Y,U=ee,V=Z,F=K;return i(),u("div",null,[o(F,null,{default:r(()=>[s("div",oe,[s("div",te,[o(d,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:n(R)},null,8,["animate"]),s("div",ne,[s("h1",ae,t(e.$t("title.resetPassword")),1),n(g)?(i(),u(x,{key:1},[s("div",le,[l(t(e.$t("msg.info.passwordRecovery.success"))+" ",1),o(f)]),o(w,{onClick:h},{default:r(()=>[l(t(e.$t("general.signIn")),1)]),_:1})],64)):(i(),u(x,{key:0},[s("div",re,t(e.$t("msg.info.passwordRecovery.message_1")),1),s("div",ie,t(e.$t("msg.info.passwordRecovery.message_2")),1)],64))]),o(V,{ref_key:"formValidator",ref:v,layout:"vertical",model:n(m),"no-style":"",onFinish:C},{default:r(()=>[o(A,{name:"layout"},{default:r(()=>[n(c)?(i(),u("div",ce,[s("div",me,[o(E),s("div",ue,t(n(c)),1)])])):B("",!0)]),_:1}),o(U,{label:e.$t("labels.email"),name:"email",rules:$.email},{default:r(()=>[o(N,{value:n(m).email,"onUpdate:value":a[0]||(a[0]=j=>n(m).email=j),size:"large",placeholder:e.$t("msg.info.signUp.workEmail"),onFocus:y},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s("div",pe,[s("button",_e,[s("span",de,[(i(),M(S(("iconMap"in e?e.iconMap:n(D)).signin))),l(" "+t(e.$t("activity.sendEmail")),1)])]),s("div",fe,[l(t(e.$t("msg.info.signUp.alreadyHaveAccount"))+" ",1),o(w,{onClick:h},{default:r(()=>[l(t(e.$t("general.signIn")),1)]),_:1})])])]),_:1},8,["model"])])])]),_:1})])}}});export{Fe as default};
