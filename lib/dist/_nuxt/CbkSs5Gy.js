import{e as O,r as k,cq as u,ab as N,ba as S,f as T,F as V,g as A,o as r,c as i,N as l,ao as M,at as F,S as G,t as m,a as f,b as D,w as d,Q as R,d as z,R as j,Z as q,$ as P}from"./DZZ6t_j4.js";const W={class:"flex flex-col max-w-[350px]"},I=["data-testid","onClick"],L={key:1},Q={class:"px-2 py-1 box-border flex items-center justify-center gap-2"},Z={class:"text-small"},E={class:"text-small"},U=O({__name:"TimeSelector",props:{selectedDate:{default:null},is12hrFormat:{type:Boolean,default:!1},isMinGranularityPicker:{type:Boolean,default:!1},minGranularity:{default:30},isOpen:{type:Boolean,default:!1},showCurrentDateOption:{type:[Boolean,String]}},emits:["update:selectedDate","currentDate"],setup(w,{emit:x}){const y=w,h=x,v=k(u()),s=N(y,"selectedDate",h),{is12hrFormat:C,isMinGranularityPicker:p,minGranularity:H,isOpen:_}=S(y),c=k(),$=(e,t)=>!e||!t?!1:e.format("HH:mm")===t.format("HH:mm"),b=e=>{v.value=u().set("hour",e.get("hour")).set("minute",e.get("minute")),s.value=v.value},B=T(()=>Array.from({length:24}).flatMap((e,t)=>(p.value?[0,H.value]:Array.from({length:60})).map((o,n)=>u().set("hour",t).set("minute",p.value?o:n)))),g=(e="instant")=>{!c.value||!s.value||setTimeout(()=>{var o,n;const t=(n=c.value)==null?void 0:n.querySelector(`[data-testid="time-option-${(o=s.value)==null?void 0:o.format("HH:mm")}"]`);t==null||t.scrollIntoView({behavior:e,block:"center"})},50)};return V([s,_],()=>{c.value&&_.value&&s.value&&g()}),A(()=>{g()}),(e,t)=>{const o=q,n=P;return r(),i("div",W,[l(p)?(r(),i("div",{key:0,ref_key:"timeOptionsWrapperRef",ref:c,class:"h-[180px] overflow-y-auto nc-scrollbar-thin"},[(r(!0),i(M,null,F(l(B),a=>(r(),i("div",{key:a.format("HH:mm"),class:G(["hover:bg-gray-100 py-1 px-3 text-sm text-gray-600 font-weight-500 text-center cursor-pointer",{"nc-selected bg-gray-100":l(s)&&$(a,l(s))}]),"data-testid":`time-option-${a.format("HH:mm")}`,onClick:J=>b(a)},m(a.format(l(C)?"hh:mm A":"HH:mm")),11,I))),128))],512)):(r(),i("div",L)),f("div",Q,[D(o,{tabindex:-1,class:"!h-7",size:"small",type:"secondary",onClick:t[0]||(t[0]=a=>b(l(u)()))},{default:d(()=>[f("span",Z,m(e.$t("general.now")),1)]),_:1}),e.showCurrentDateOption?(r(),R(n,{key:0,disabled:e.showCurrentDateOption!=="disabled"},{title:d(()=>[z(m(e.$t("tooltip.currentDateNotAvail")),1)]),default:d(()=>[D(o,{class:"nc-date-picker-now-btn !h-7",size:"small",type:"secondary",disabled:e.showCurrentDateOption==="disabled",onClick:t[1]||(t[1]=a=>h("currentDate"))},{default:d(()=>[f("span",E,m(e.$t("labels.currentDate")),1)]),_:1},8,["disabled"])]),_:1},8,["disabled"])):j("",!0)])])}}});export{U as _};
