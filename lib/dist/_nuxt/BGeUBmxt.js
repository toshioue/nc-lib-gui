import{f as h,N as C,bL as o,ay as O,fH as K,r as p,hp as B,hf as L,g as d,ac as U,iF as w,gx as _,az as A,H,P as l,R as J,dd as P,o as c,c as v,Q as T,aF as u,Y as a,t as b,_ as $}from"./B2hUoZAs.js";const z=["step","placeholder","onKeydown"],G={key:1,class:"nc-cell-field nc-null uppercase"},Q={key:2,class:"nc-cell-field"},Y=h({__name:"Decimal",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(N,{emit:I}){const x=N,D=I,{showNull:S}=C(),g=o(O),s=o(K,null),j=o(B,p(!1)),k=o(L,p(!1)),E=p(),f=d(()=>typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}),n=U(x,"modelValue",D),F=d(()=>n.value===null||isNaN(Number(n.value))?null:f.value.isLocaleString?w(Number(n.value),f.value.precision??1).toLocaleString():w(Number(n.value),f.value.precision??1)),i=d({get:()=>n.value,set:e=>{e===""?n.value=null:n.value=e}}),M=d(()=>{const t=(typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}).precision??1;return Number(.1**t).toFixed(t)}),m=o(_,p(!1)),R=o(A),y=e=>{var t,r;e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(t=e.target)==null||t.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(r=e.target)==null||r.setSelectionRange(0,0),e.target.type="number")},V=e=>!m.value&&!j.value&&!R.value&&(e==null?void 0:e.focus());return H(m,()=>{var e;m.value||(e=E.value)==null||e.focus()}),(e,t)=>!l(k)&&l(g)?J((c(),v("input",{key:0,ref:V,"onUpdate:modelValue":t[0]||(t[0]=r=>T(i)?i.value=r:null),class:"nc-cell-field outline-none py-1 border-none rounded-md w-full h-full",type:"number",step:l(M),placeholder:e.placeholder,style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=r=>g.value=!1),onKeydown:[u(a(y,["stop"]),["down"]),t[2]||(t[2]=u(a(()=>{},["stop"]),["left"])),t[3]||(t[3]=u(a(()=>{},["stop"]),["right"])),u(a(y,["stop"]),["up"]),t[4]||(t[4]=u(a(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[5]||(t[5]=a(()=>{},["stop"])),onMousedown:t[6]||(t[6]=a(()=>{},["stop"]))},null,40,z)),[[P,l(i)]]):l(i)===null&&l(S)?(c(),v("span",G,b(e.$t("general.null")),1)):(c(),v("span",Q,b(l(F)),1))}}),W=$(Y,[["__scopeId","data-v-b15d1721"]]);export{W as default};
