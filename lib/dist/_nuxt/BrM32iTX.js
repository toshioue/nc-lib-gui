import{f as R,N as T,bN as n,fP as b,aE as F,r as a,hG as S,hq as B,g as v,de as L,gU as G,aF as A,o as i,c as u,P as s,R as K,dm as x,Q as U,aL as l,Y as t,t as N,T as $,_ as q}from"./3QBYHahY.js";import{d as Q,c as W,a as Y}from"./C9Sjn86N.js";const z={class:"duration-cell-wrapper"},H=["placeholder"],J={key:1,class:"nc-cell-field nc-null uppercase"},X={key:2,class:"nc-cell-field"},Z={key:3,class:"nc-cell-field duration-warning"},ee=R({__name:"Duration",props:{modelValue:{},showValidationError:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(I,{emit:O}){const y=O,{showNull:D}=T(),p=n(b),C=n(F),g=n(S,a(!1)),V=n(B,a(!1)),c=a(!1),w=a(0),f=a(!1),m=v(()=>{var o,e;return((e=L((o=p==null?void 0:p.value)==null?void 0:o.meta))==null?void 0:e.duration)||0}),k=v(()=>Q[m.value].title),d=v({get:()=>W(I.modelValue,m.value),set:o=>{f.value=!0;const e=Y(o,m.value);e._isValid&&(w.value=e._sec)}}),_=o=>{o=o||window.event;const e=o.which?o.which:o.keyCode,r=e>31,P=e<48||e>57;if(r&&P&&e!==58&&e!==46)c.value=!0,o.preventDefault();else return c.value=!1,!0},E=()=>{f.value&&y("update:modelValue",w.value),f.value=!1},h=n(G,a(!1)),j=n(A),M=o=>!h.value&&!g.value&&!j.value&&(o==null?void 0:o.focus());return(o,e)=>(i(),u("div",z,[!s(V)&&s(C)?K((i(),u("input",{key:0,ref:M,"onUpdate:modelValue":e[0]||(e[0]=r=>U(d)?d.value=r:null),class:"nc-cell-field w-full !border-none !outline-none py-1",placeholder:s(k),onBlur:E,onKeypress:e[1]||(e[1]=r=>_(r)),onKeydown:[l(E,["enter"]),e[2]||(e[2]=l(t(()=>{},["stop"]),["down"])),e[3]||(e[3]=l(t(()=>{},["stop"]),["left"])),e[4]||(e[4]=l(t(()=>{},["stop"]),["right"])),e[5]||(e[5]=l(t(()=>{},["stop"]),["up"])),e[6]||(e[6]=l(t(()=>{},["stop"]),["delete"]))],onSelectstartCapture:e[7]||(e[7]=t(()=>{},["stop"])),onMousedown:e[8]||(e[8]=t(()=>{},["stop"]))},null,40,H)),[[x,s(d)]]):o.modelValue===null&&s(D)?(i(),u("span",J,N(o.$t("general.null")),1)):(i(),u("span",X,N(s(d)),1)),s(c)&&o.showValidationError?(i(),u("div",Z,N(o.$t("msg.plsEnterANumber")),1)):$("",!0)]))}}),ae=q(ee,[["__scopeId","data-v-c0786a42"]]);export{ae as default};
