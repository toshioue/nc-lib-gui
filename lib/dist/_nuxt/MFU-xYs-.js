const __vite__fileDeps=["./QEHny6a3.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./QHHXY-Ma.js","./D_MsYLkT.js","./BCJFTkwv.js","./BQQOEPN4.js","./CB1aB6F1.js","./B5RRVMt5.js","./vll-Pnjv.js","./Pagination.D7qN7qzC.css","./Dzpuh1ae.js","./GMLocJHP.js","./BDAIZopQ.js","./bNr_om_C.js","./qW2V2r_p.js","./ByVBARmO.js","./boyBAVNN.js","./CA74dF2b.js","./BCU2uY6p.js","./C3jLTHF4.js","./C4K5fdHe.js","./BYINaHrJ.js","./dfem9Uc_.js","./D9tFZoTQ.js","./Cy6_Pye2.js","./DRJOThhQ.js","./DKN1hQ6S.js","./BQuyMdA-.js","./DGj1ycqW.js","./DyDFI6NE.js","./BLzs_b5A.js","./DXQuLwNn.js","./BmtvKY7O.js","./UnLinkedItems.C1GPHhk-.css","./CR-m5al9.js","./uskrw1rV.js","./LinkedItems.Cz86hlsq.css","./Dj51GQpU.js","./vK-WmZ7a.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as oe,bL as i,g2 as ne,i6 as ae,i5 as le,dJ as se,iw as re,aD as ie,r as c,hK as ue,i_ as me,J as ce,ft as pe,f as L,aA as de,F as U,o as s,Q as v,w as O,N as e,O as R,R as d,a as P,c as y,ao as z,at as _e,d0 as ve,b as fe,W as B,X as g,a4 as V,Y as ye,_ as ke}from"./DZZ6t_j4.js";import{_ as he}from"./C92IAHUV.js";import{a as we}from"./CA74dF2b.js";import{u as Ce}from"./Dzpuh1ae.js";import{u as xe}from"./EqBqqo9-.js";import"./Cyxyb8KW.js";import"./GMLocJHP.js";import"./BDAIZopQ.js";import"./C4K5fdHe.js";import"./qW2V2r_p.js";import"./ByVBARmO.js";import"./boyBAVNN.js";import"./bNr_om_C.js";import"./BCU2uY6p.js";import"./C3jLTHF4.js";import"./BYINaHrJ.js";import"./dfem9Uc_.js";import"./BCJFTkwv.js";import"./vll-Pnjv.js";import"./D9tFZoTQ.js";const Ie=g(()=>V(()=>import("./QEHny6a3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(l=>l.default||l)),Le=g(()=>V(()=>import("./CR-m5al9.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,36,33,37]),import.meta.url).then(l=>l.default||l)),Re=g(()=>V(()=>import("./Dj51GQpU.js"),__vite__mapDeps([38,39,1,2,40]),import.meta.url).then(l=>l.default||l)),ge={class:"nc-cell-field flex items-center gap-1 w-full chips-wrapper min-h-4"},Ve={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},Ae={key:0,class:"flex justify-end gap-1 min-h-4 items-center"},be=oe({__name:"HasMany",async setup(l){let A,b;const p=i(ne),u=i(ae),M=i(le),N=i(re,se()),S=i(ie),F=i(ue,c(!1)),k=i(me,c(!1)),o=c(!1),a=c(!1),m=c(!1),f=c(!1),{isUIAllowed:H}=ce(),{state:h,isNew:w,removeLTARRef:J}=we(),{relatedTableMeta:K,loadRelatedTableMeta:$,relatedTableDisplayValueProp:C,unlink:G}=Ce(p,M,w,N.trigger);[A,b]=pe(()=>$()),await A,b();const j=L(()=>{var t;return u!=null&&u.value?(u==null?void 0:u.value)??[]:w.value?((t=h==null?void 0:h.value)==null?void 0:t[p==null?void 0:p.value.title])??[]:[]}),D=L(()=>j.value.reduce((t,n)=>{if(!C.value)return t;const _=n[C.value];return[...t,{value:_,item:n}]},[])),Q=async t=>{w.value?await J(t,p.value):await G(t)},x=L(()=>{var t,n;return(n=(t=K.value)==null?void 0:t.columns)==null?void 0:n.find(_=>_.title===C.value)}),W=()=>{a.value=!1,o.value=!0,f.value=!1},X=()=>{o.value=!1,a.value=!0},E=()=>{k.value||(a.value=!0,o.value=!1,m.value=!0,f.value=!1)},Y=()=>{k.value||(o.value=!0,a.value=!1,m.value=!0,f.value=!0)};return xe(i(de,c(!1)),t=>{switch(t.key){case"Enter":o.value=!0,t.stopPropagation();break}}),U([a,o],()=>{m.value=a.value||o.value}),U(m,t=>{t||(o.value=!1,a.value=!1)},{flush:"post"}),(t,n)=>{const _=he,T=ye,q=Ie,Z=Le,ee=Re;return s(),v(ee,{"is-open":e(m),"onUpdate:isOpen":n[2]||(n[2]=r=>R(m)?m.value=r:null)},{overlay:O(()=>[e(o)?(s(),v(q,{key:0,modelValue:e(o),"onUpdate:modelValue":n[0]||(n[0]=r=>R(o)?o.value=r:null),column:e(x),"hide-back-btn":e(f),onAttachLinkedRecord:X},null,8,["modelValue","column","hide-back-btn"])):d("",!0),e(a)?(s(),v(Z,{key:1,modelValue:e(a),"onUpdate:modelValue":n[1]||(n[1]=r=>R(a)?a.value=r:null),"cell-value":e(j),column:e(x),onAttachRecord:W},null,8,["modelValue","cell-value","column"])):d("",!0)]),default:O(()=>{var r;return[P("div",ge,[P("div",Ve,[e(D)?(s(),y(z,{key:0},[(s(!0),y(z,null,_e(e(D),(I,te)=>(s(),v(_,{key:te,item:I.item,value:I.value,column:e(x),"show-unlink-button":!0,onUnlink:je=>Q(I.item)},null,8,["item","value","column","onUnlink"]))),128)),((r=e(u))==null?void 0:r.length)===10?(s(),y("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:E}," more... ")):d("",!0)],64)):d("",!0)]),!e(k)&&!e(ve)(e(p))?(s(),y("div",Ae,[fe(T,{icon:"expand",class:"select-none transform text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:B(E,["stop"])}),!e(F)&&e(H)("dataEdit")||e(S)?(s(),v(T,{key:0,icon:"plus",class:"select-none text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:B(Y,["stop"])})):d("",!0)])):d("",!0)])]}),_:1},8,["is-open"])}}}),Ye=ke(be,[["__scopeId","data-v-47ddeda3"]]);export{Ye as default};
