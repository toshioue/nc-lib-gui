import{f as D,r as h,ce as c,ac as $,ba as M,g as O,H as S,i as T,o as r,c as l,P as n,al as A,am as G,T as V,t as v,a as _,b as F,w as N,a2 as P}from"./nEPQs079.js";const R={class:"flex flex-col max-w-[350px]"},j=["data-testid","onClick"],z={key:1},W={class:"px-2 py-1 box-border flex items-center justify-center"},q={class:"text-small"},L=D({__name:"TimeSelector",props:{selectedDate:{default:null},is12hrFormat:{type:Boolean,default:!1},isMinGranularityPicker:{type:Boolean,default:!1},minGranularity:{default:30},isOpen:{type:Boolean,default:!1}},emits:["update:selectedDate"],setup(x,{emit:g}){const u=x,H=g,f=h(c()),s=$(u,"selectedDate",H),{is12hrFormat:k,isMinGranularityPicker:m,minGranularity:b,isOpen:p}=M(u),i=h(),w=(a,e)=>!a||!e?!1:a.format("HH:mm")===e.format("HH:mm"),d=a=>{f.value=c().set("hour",a.get("hour")).set("minute",a.get("minute")),s.value=f.value},B=O(()=>Array.from({length:24}).flatMap((a,e)=>(m.value?[0,b.value]:Array.from({length:60})).map((o,t)=>c().set("hour",e).set("minute",m.value?o:t)))),y=(a="instant")=>{!i.value||!s.value||setTimeout(()=>{var o,t;const e=(t=i.value)==null?void 0:t.querySelector(`[data-testid="time-option-${(o=s.value)==null?void 0:o.format("HH:mm")}"]`);e==null||e.scrollIntoView({behavior:a,block:"center"})},50)};return S([s,p],()=>{i.value&&p.value&&s.value&&y()}),T(()=>{y()}),(a,e)=>{const o=P;return r(),l("div",R,[n(m)?(r(),l("div",{key:0,ref_key:"timeOptionsWrapperRef",ref:i,class:"h-[180px] overflow-y-auto nc-scrollbar-thin"},[(r(!0),l(A,null,G(n(B),t=>(r(),l("div",{key:t.format("HH:mm"),class:V(["hover:bg-gray-100 py-1 px-3 text-sm text-gray-600 font-weight-500 text-center cursor-pointer",{"nc-selected bg-gray-100":n(s)&&w(t,n(s))}]),"data-testid":`time-option-${t.format("HH:mm")}`,onClick:C=>d(t)},v(t.format(n(k)?"hh:mm A":"HH:mm")),11,j))),128))],512)):(r(),l("div",z)),_("div",W,[F(o,{tabindex:-1,class:"!h-7",size:"small",type:"secondary",onClick:e[0]||(e[0]=t=>d(n(c)()))},{default:N(()=>[_("span",q,v(a.$t("general.now")),1)]),_:1})])])}}});export{L as _};
