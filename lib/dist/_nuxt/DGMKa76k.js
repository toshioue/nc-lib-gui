const __vite__fileDeps=["./8spbEvEn.js","./3QBYHahY.js","./entry.Ic44fwRn.css","./BR3I9Rit.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as j,M as q,ar as B,ai as L,r as b,at as M,o as i,c as u,b as t,w as r,a as s,P as n,t as o,aq as x,d as l,cg as S,T,S as A,V as z,W as D,Z as G,B as W,a5 as H,a6 as O}from"./3QBYHahY.js";import{_ as Z}from"./DHn6lT7K.js";import{v as J}from"./CWtzMcwx.js";import{_ as K}from"./CIDCbbCH.js";import{_ as Q}from"./CtRSbdCM.js";import"./kHOslGNR.js";import{I as X}from"./CmN9vPg3.js";import{F as Y}from"./DAKhk9t6.js";import{_ as ee}from"./Bk0xUMNV.js";import"./DPgYHC40.js";import"./BsWDDIqE.js";import"./BQQOEPN4.js";import"./xnDaHwV-.js";import"./ceYq-xax.js";import"./wEQwkVjR.js";import"./CGxepfeV.js";const se=G(()=>O(()=>import("./8spbEvEn.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(_=>_.default||_)),te={class:"md:bg-primary bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},oe={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},ne={class:"self-center flex flex-col justify-center items-center text-center gap-2"},ae={class:"prose-2xl font-bold my-4 w-full"},re={class:"prose-sm"},ie={class:"prose-sm mb-4"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ce={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},me={class:"flex items-center gap-2 justify-center"},ue={class:"break-words"},_e={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},pe={class:"scaling-btn bg-opacity-100",type:"submit"},de={class:"flex items-center gap-2"},fe={class:"text-end prose-sm"},Pe=j({__name:"forgot-password",setup(_){const k=q(),{api:I,isLoading:$,error:c}=B({useGlobalInstance:!0}),{t:p}=L(),g=b(!1),v=b(),m=M({email:""}),R={email:[{required:!0,message:p("msg.error.signUpRules.emailRequired")},{validator:(e,a)=>new Promise((d,f)=>{if(!(a!=null&&a.length)||J(a))return d();f(new Error(p("msg.error.signUpRules.emailInvalid")))}),message:p("msg.error.signUpRules.emailInvalid")}]};async function C(){if(v.value.validate()){y();try{await I.auth.passwordForgot(m).then(()=>{g.value=!0})}catch{}}}function y(){c.value&&(c.value=null)}function h(){W({path:"/signin",query:k.query})}return(e,a)=>{const d=se,f=Q,w=Z,E=K,V=X,F=ee,N=Y,P=H;return i(),u("div",null,[t(P,null,{default:r(()=>[s("div",te,[s("div",oe,[t(d,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:n($)},null,8,["animate"]),s("div",ne,[s("h1",ae,o(e.$t("title.resetPassword")),1),n(g)?(i(),u(x,{key:1},[s("div",le,[l(o(e.$t("msg.info.passwordRecovery.success"))+" ",1),t(f)]),t(w,{onClick:h},{default:r(()=>[l(o(e.$t("general.signIn")),1)]),_:1})],64)):(i(),u(x,{key:0},[s("div",re,o(e.$t("msg.info.passwordRecovery.message_1")),1),s("div",ie,o(e.$t("msg.info.passwordRecovery.message_2")),1)],64))]),t(N,{ref_key:"formValidator",ref:v,layout:"vertical",model:n(m),"no-style":"",onFinish:C},{default:r(()=>[t(S,{name:"layout"},{default:r(()=>[n(c)?(i(),u("div",ce,[s("div",me,[t(E),s("div",ue,o(n(c)),1)])])):T("",!0)]),_:1}),t(F,{label:e.$t("labels.email"),name:"email",rules:R.email},{default:r(()=>[t(V,{value:n(m).email,"onUpdate:value":a[0]||(a[0]=U=>n(m).email=U),size:"large",placeholder:e.$t("msg.info.signUp.workEmail"),onFocus:y},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s("div",_e,[s("button",pe,[s("span",de,[(i(),A(z(("iconMap"in e?e.iconMap:n(D)).signin))),l(" "+o(e.$t("activity.sendEmail")),1)])]),s("div",fe,[l(o(e.$t("msg.info.signUp.alreadyHaveAccount"))+" ",1),t(w,{onClick:h},{default:r(()=>[l(o(e.$t("general.signIn")),1)]),_:1})])])]),_:1},8,["model"])])])]),_:1})])}}});export{Pe as default};
