const __vite__fileDeps=["./BD_VmdZF.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./C4K5fdHe.js","./FormulaWrapperCell.D9jkpMT6.css","./DaRAoaed.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as V,bL as i,g2 as z,i6 as B,cL as S,f as m,j0 as H,j1 as P,f_ as A,r as p,i1 as M,ha as U,i2 as G,N as e,o as a,Q as u,O as $,c as r,w as E,a as h,t as _,R as k,S as Q,X as w,a4 as I,a1 as X}from"./DZZ6t_j4.js";import{I as C}from"./C4K5fdHe.js";import{u as Z}from"./EEzJqQ4V.js";import"./EqBqqo9-.js";const q=w(()=>I(()=>import("./BD_VmdZF.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(s=>s.default||s)),J=w(()=>I(()=>import("./DaRAoaed.js"),__vite__mapDeps([5,1,2]),import.meta.url).then(s=>s.default||s)),K={class:"font-bold"},Y=["innerHTML"],ee={key:2,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},te={key:3,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},le=V({__name:"Formula",setup(s){const t=i(z),o=i(B),{isPg:F}=S(),c=m(()=>F(t.value.source_id)?C(H(o==null?void 0:o.value)):C(o==null?void 0:o.value)),f=m(()=>P(c.value)),{showEditNonEditableFieldWarning:b,showClearNonEditableFieldWarning:L,activateShowEditNonEditableFieldWarning:y}=Z(),N=m(()=>{var l,n;return((n=(l=t.value.colOptions)==null?void 0:l.parsed_tree)==null?void 0:n.dataType)===A.NUMERIC}),O=i(M,p(void 0)),j=i(U,p(!1)),R=i(G,p(!1));return(l,n)=>{var v,x,g;const T=q,W=X,D=J;return(v=e(t).meta)!=null&&v.display_type?(a(),u(T,{key:0,modelValue:e(o),"onUpdate:modelValue":n[0]||(n[0]=d=>$(o)?o.value=d:null),column:{uidt:(x=e(t).meta)==null?void 0:x.display_type,...(g=e(t).meta)==null?void 0:g.display_column_meta}},null,8,["modelValue","column"])):(a(),r("div",{key:1,class:Q(["w-full",{"text-right":e(N)&&e(R)&&!e(j)}])},[e(t)&&e(t).colOptions&&e(t).colOptions.error?(a(),u(W,{key:0,placement:"bottom",class:"text-orange-700"},{title:E(()=>[h("span",K,_(e(t).colOptions.error),1)]),default:E(()=>[n[2]||(n[2]=h("span",null,"ERR!",-1))]),_:1})):(a(),r("div",{key:1,class:"nc-cell-field py-1",onDblclick:n[1]||(n[1]=(...d)=>e(y)&&e(y)(...d))},[e(f)?(a(),r("div",{key:0,innerHTML:e(f)},null,8,Y)):(a(),u(D,{key:1,value:e(c),lines:e(O)},null,8,["value","lines"])),e(b)?(a(),r("div",ee,_(l.$t("msg.info.computedFieldEditWarning")),1)):k("",!0),e(L)?(a(),r("div",te,_(l.$t("msg.info.computedFieldDeleteWarning")),1)):k("",!0)],32))],2))}}});export{le as default};
