import{_ as j}from"./DgSeK08O.js";import{_ as q}from"./C-O9ejkO.js";import{f as E,g as S,r as A,o as a,c as _,b as i,w as r,a as n,t as l,aq as h,av as F,S as w,T as y,P as t,Y as N,d as p,Q as G,B as H,$ as O,a0 as Q,cc as Y,p as J,e as K,_ as W}from"./Cgw6cdOy.js";import{_ as X}from"./DBOeGHNL.js";import{_ as Z}from"./Bxm040c6.js";import{_ as ee}from"./CiTH7PYd.js";import{a as te}from"./C9Wup3nv.js";const se=f=>(J("data-v-b1c10443"),f=f(),K(),f),oe={class:"flex flex-col","data-testid":"nc-setup-list"},ne={"data-rec":"true"},ae={class:"h-[calc(100%_-_58px)] flex"},le={class:"w-full"},ce={class:"w-950px px-4 mt-3 mx-auto text-lg font-weight-bold"},ie={class:"container"},re=["data-testid","onClick"],ue={class:"title"},de=se(()=>n("div",{class:"flex-grow"},null,-1)),_e={class:"flex flex-col h-full"},fe={key:0,class:"text-base font-weight-bold"},me={key:1,class:"text-base font-weight-bold"},pe={class:"flex flex-row mt-2 w-full"},ve={class:"flex mt-6 justify-end space-x-2"},ge=E({__name:"List",props:{category:{}},setup(f){const x=f,{categorizeApps:M,resetPlugin:P,showPluginUninstallModal:m,activePlugin:u}=te(),k=S(()=>{var e,s;return((s=M.value)==null?void 0:s[(e=x.category)==null?void 0:e.toLowerCase()])||[]}),v=S(()=>k.value.find(e=>e.active)),d=A(!1),c=A(null),$=async(e,s=!1)=>{d.value=s,m.value=!0,u.value=e},b=e=>{const s=e!==v.value&&v.value;if(s)return c.value=e,$(s,!0);H(`/account/setup/${x.category}/${e.title}`)},I=async()=>{await P(u.value),d.value&&(await b(c.value),c.value=null,d.value=!1)},B=()=>{u.value=null,c.value=null,d.value=!1,m.value=!1};return(e,s)=>{const R=j,T=q,g=O,V=X,L=Z,z=ee,C=Q,D=Y;return a(),_("div",oe,[i(R,null,{title:r(()=>[n("span",ne,l(e.category),1)]),_:1}),n("div",ae,[n("div",le,[n("div",ce,l(e.category)+" Services",1),n("div",ie,[(a(!0),_(h,null,F(t(k),o=>(a(),_("div",{key:o.title,class:"item group","data-testid":`nc-setup-list-item-${o.title}`,onClick:U=>b(o)},[i(T,{app:o,class:"icon"},null,8,["app"]),n("span",ue,l(o.title),1),de,o.active?(a(),w(g,{key:0,icon:"delete",class:"text-error min-w-6 h-6 bg-white-500 !hidden !group-hover:!inline cursor-pointer"})):y("",!0),o===t(v)?(a(),w(g,{key:1,icon:"circleCheckSolid",class:"text-success min-w-5 h-5 bg-white-500 nc-configured"})):y("",!0),i(z,{trigger:["click"],"overlay-class-name":"!rounded-md",onClick:s[0]||(s[0]=N(()=>{},["stop"]))},{overlay:r(()=>[i(L,{class:"min-w-20"},{default:r(()=>[i(V,{"data-testid":"nc-config-reset",onClick:N(U=>$(o),["stop"])},{default:r(()=>[n("span",null,l(e.$t("general.reset")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[o.active?(a(),w(g,{key:0,icon:"threeDotVertical",class:"min-w-5 h-5 bg-white-500 text-gray-500 hover:text-current nc-setup-plugin-menu"})):y("",!0)]),_:2},1024)],8,re))),128))])])]),i(D,{visible:t(m),"onUpdate:visible":s[1]||(s[1]=o=>G(m)?m.value=o:null),closable:!1,width:"448px",centered:"",footer:null,"wrap-class-name":"nc-modal-plugin-reset-conform"},{default:r(()=>[n("div",_e,[t(d)?(a(),_("div",fe," Switch to "+l(t(c)&&t(c).title),1)):(a(),_("div",me,"Reset "+l(t(u)&&t(u).title)+" Configuration",1)),n("div",pe,[t(d)?(a(),_(h,{key:0},[p(" Switching to "+l(t(c)&&t(c).title)+" will reset your "+l(t(u)&&t(u).title)+" settings. Continue? ",1)],64)):(a(),_(h,{key:1},[p("Resetting will erase your current configuration.")],64))]),n("div",ve,[i(C,{size:"small",type:"secondary",onClick:B},{default:r(()=>[p(l(e.$t("general.cancel")),1)]),_:1}),i(C,{size:"small",type:"danger","data-testid":"nc-reset-confirm-btn",onClick:I},{default:r(()=>[p(l(t(d)?`${e.$t("general.reset")} & ${e.$t("general.switch")}`:e.$t("general.reset")),1)]),_:1})])])]),_:1},8,["visible"])])}}}),Ce=W(ge,[["__scopeId","data-v-b1c10443"]]);export{Ce as default};
