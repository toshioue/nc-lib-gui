const __vite__fileDeps=["./CHb_QL5u.js","./DKhUGBot.js","./entry.B8GgT5QA.css","./C93sHH2i.js","./Overlay.xLwTZrd0.css","./BNDnQ_SZ.js","./CXIEl1K6.js","./CWksAcnS.js","./D-d1Vlq3.js","./DGy9VVU7.js","./DrSobHNn.js","./DO1hNe_j.js","./lyxpGZoZ.js","./boyBAVNN.js","./Ce4Hnuew.js","./BIe2oNDw.js","./DFT4Rrrq.js","./CX32jp6d.js","./_3l2HvaK.js","./Clu_wjSJ.js","./DeleteModal.SEMJ_gSK.css","./Cz8K5PX4.js","./GPQ-Eg6I.js","./BQQOEPN4.js","./CUg8TjpL.js","./BOlDoh1A.js","./BpnlUwoJ.js","./CxxuE4Yq.js","./DyY7ABnl.js","./BY49hpjj.js","./DEJjMRn_.js","./DgXVCOuO.js","./C0-Qcoum.js","./Carousel.Ba7R6i7a.css","./BvBAAA1q.js","./CCwLeFPf.js","./DOSyHa8b.js","./BqRqK2Ui.js","./CNjr3NNT.js","./Bd_WsUAk.js","./D8UTY2yA.js","./Modal.DaJDJzG1.css","./Dn-iHtH1.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{o as y,c as B,a as G,fq as Bn,fr as Gn,f as pn,ai as dn,r as x,aj as hn,ad as jn,i as Vn,U as le,w as K,t as _e,b as ce,P as t,d as Xe,Q as It,a2 as Wn,bL as q,he as Yn,fB as qn,az as Xn,d0 as Kn,fG as Zn,ay as Jn,at as Qn,cB as eo,ag as to,fX as no,N as _n,g as oo,H as Rt,d4 as ao,an as xe,hO as nn,gg as on,fj as io,gv as so,gx as ro,ht as lo,hu as co,gw as uo,gr as mo,hs as fo,aw as an,ix as po,fx as ho,hr as _o,L as go,S as we,T as he,aF as sn,V as qe,W as it,al as rn,am as yo,Y as ln,a8 as cn,Z as st,a5 as rt,ap as To,a1 as vo,$ as Ao}from"./DKhUGBot.js";import{_ as Eo}from"./C93sHH2i.js";import{a as wo}from"./D-d1Vlq3.js";import{u as gn}from"./CXIEl1K6.js";import{a as xo}from"./DrSobHNn.js";import{u as bo}from"./BIe2oNDw.js";import{G as un}from"./DFT4Rrrq.js";import{i as yn,e as So}from"./BNDnQ_SZ.js";import{u as Io}from"./DGy9VVU7.js";import{u as Ro}from"./CX32jp6d.js";import{F as Co}from"./_3l2HvaK.js";import{_ as Oo}from"./Clu_wjSJ.js";import"./Cz8K5PX4.js";import{I as No}from"./GPQ-Eg6I.js";import{F as Do}from"./DyY7ABnl.js";import{_ as Lo}from"./BY49hpjj.js";import{S as Mo}from"./C0-Qcoum.js";const ko={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Po=G("path",{fill:"currentColor",d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zM6 20V4h7v5h5v11z"},null,-1),Fo=[Po];function zo(p,j){return y(),B("svg",ko,[...Fo])}const Tn={name:"ic-outline-insert-drive-file",render:zo},Ho={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Uo=G("path",{fill:"currentColor",d:"M18 15.75q0 2.6-1.825 4.425T11.75 22t-4.425-1.825T5.5 15.75V6.5q0-1.875 1.313-3.187T10 2t3.188 1.313T14.5 6.5v8.75q0 1.15-.8 1.95t-1.95.8t-1.95-.8t-.8-1.95V6h2v9.25q0 .325.213.538t.537.212t.538-.213t.212-.537V6.5q-.025-1.05-.737-1.775T10 4t-1.775.725T7.5 6.5v9.25q-.025 1.775 1.225 3.013T11.75 20q1.75 0 2.975-1.237T16 15.75V6h2z"},null,-1),$o=[Uo];function Bo(p,j){return y(),B("svg",Ho,[...$o])}const Go={name:"material-symbols-attach-file",render:Bo},jo={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vo=G("path",{fill:"currentColor",d:"M19 19H8q-.825 0-1.412-.587T6 17V3q0-.825.588-1.412T8 1h7l6 6v10q0 .825-.587 1.413T19 19M14 8V3H8v14h11V8zM4 23q-.825 0-1.412-.587T2 21V7h2v14h11v2zM8 3v5zv14z"},null,-1),Wo=[Vo];function Yo(p,j){return y(),B("svg",jo,[...Wo])}const qo={name:"material-symbols-file-copy-outline",render:Yo};var St={exports:{}};/*! @license DOMPurify 3.0.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.8/LICENSE */var mn;function fn(){return mn||(mn=1,function(p,j){(function(Z,U){p.exports=U()})(Bn,function(){const{entries:Z,setPrototypeOf:U,isFrozen:J,getPrototypeOf:Q,getOwnPropertyDescriptor:R}=Object;let{freeze:h,seal:S,create:r}=Object,{apply:M,construct:C}=typeof Reflect<"u"&&Reflect;h||(h=function(a){return a}),S||(S=function(a){return a}),M||(M=function(a,d,m){return a.apply(d,m)}),C||(C=function(a,d){return new a(...d)});const D=O(Array.prototype.forEach),ee=O(Array.prototype.pop),ue=O(Array.prototype.push),me=O(String.prototype.toLowerCase),se=O(String.prototype.toString),b=O(String.prototype.match),te=O(String.prototype.replace),ge=O(String.prototype.indexOf),fe=O(String.prototype.trim),T=O(RegExp.prototype.test),ye=Ue(TypeError);function O(f){return function(a){for(var d=arguments.length,m=new Array(d>1?d-1:0),$=1;$<d;$++)m[$-1]=arguments[$];return M(f,a,m)}}function Ue(f){return function(){for(var a=arguments.length,d=new Array(a),m=0;m<a;m++)d[m]=arguments[m];return C(f,d)}}function c(f,a){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:me;U&&U(f,null);let m=a.length;for(;m--;){let $=a[m];if(typeof $=="string"){const pe=d($);pe!==$&&(J(a)||(a[m]=pe),$=pe)}f[$]=!0}return f}function $e(f){for(let a=0;a<f.length;a++)R(f,a)===void 0&&(f[a]=null);return f}function V(f){const a=r(null);for(const[d,m]of Z(f))R(f,d)!==void 0&&(Array.isArray(m)?a[d]=$e(m):m&&typeof m=="object"&&m.constructor===Object?a[d]=V(m):a[d]=m);return a}function re(f,a){for(;f!==null;){const m=R(f,a);if(m){if(m.get)return O(m.get);if(typeof m.value=="function")return O(m.value)}f=Q(f)}function d(m){return console.warn("fallback value for",m),null}return d}const Oe=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A=h(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ne=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),g=h(["#text"]),ie=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),be=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Te=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ne=S(/\{\{[\w\W]*|[\w\W]*\}\}/gm),De=S(/<%[\w\W]*|[\w\W]*%>/gm),s=S(/\${[\w\W]*}/gm),v=S(/^data-[\-\w.\u00B7-\uFFFF]/),E=S(/^aria-[\-\w]+$/),ve=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Se=S(/^(?:\w+script|data):/i),l=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),L=S(/^html$/i);var Ke=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ne,ERB_EXPR:De,TMPLIT_EXPR:s,DATA_ATTR:v,ARIA_ATTR:E,IS_ALLOWED_URI:ve,IS_SCRIPT_OR_DATA:Se,ATTR_WHITESPACE:l,DOCTYPE_NAME:L});const lt=function(){return typeof window>"u"?null:window},ct=function(a,d){if(typeof a!="object"||typeof a.createPolicy!="function")return null;let m=null;const $="data-tt-policy-suffix";d&&d.hasAttribute($)&&(m=d.getAttribute($));const pe="dompurify"+(m?"#"+m:"");try{return a.createPolicy(pe,{createHTML(I){return I},createScriptURL(I){return I}})}catch{return console.warn("TrustedTypes policy "+pe+" could not be created."),null}};function Ze(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lt();const a=i=>Ze(i);if(a.version="3.0.8",a.removed=[],!f||!f.document||f.document.nodeType!==9)return a.isSupported=!1,a;let{document:d}=f;const m=d,$=m.currentScript,{DocumentFragment:pe,HTMLTemplateElement:I,Node:Le,Element:Je,NodeFilter:ut,NamedNodeMap:vn=f.NamedNodeMap||f.MozNamedAttrMap,HTMLFormElement:An,DOMParser:En,trustedTypes:Qe}=f,et=Je.prototype,wn=re(et,"cloneNode"),xn=re(et,"nextSibling"),bn=re(et,"childNodes"),mt=re(et,"parentNode");if(typeof I=="function"){const i=d.createElement("template");i.content&&i.content.ownerDocument&&(d=i.content.ownerDocument)}let X,Ge="";const{implementation:ft,createNodeIterator:Sn,createDocumentFragment:In,getElementsByTagName:Rn}=d,{importNode:Cn}=m;let de={};a.isSupported=typeof Z=="function"&&typeof mt=="function"&&ft&&ft.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pt,ERB_EXPR:dt,TMPLIT_EXPR:ht,DATA_ATTR:On,ARIA_ATTR:Nn,IS_SCRIPT_OR_DATA:Dn,ATTR_WHITESPACE:Ct}=Ke;let{IS_ALLOWED_URI:Ot}=Ke,F=null;const Nt=c({},[...Oe,...u,..._,...k,...g]);let z=null;const Dt=c({},[...ie,...P,...be,...Te]);let N=Object.seal(r(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),je=null,_t=null,Lt=!0,gt=!0,Mt=!1,kt=!0,Me=!1,Ie=!1,yt=!1,Tt=!1,ke=!1,tt=!1,nt=!1,Pt=!0,Ft=!1;const Ln="user-content-";let vt=!0,Ve=!1,Pe={},Fe=null;const zt=c({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ht=null;const Ut=c({},["audio","video","img","source","image","track"]);let At=null;const $t=c({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ot="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",Ae="http://www.w3.org/1999/xhtml";let ze=Ae,Et=!1,wt=null;const Mn=c({},[ot,at,Ae],se);let We=null;const kn=["application/xhtml+xml","text/html"],Pn="text/html";let H=null,He=null;const Fn=d.createElement("form"),Bt=function(e){return e instanceof RegExp||e instanceof Function},xt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(He&&He===e)){if((!e||typeof e!="object")&&(e={}),e=V(e),We=kn.indexOf(e.PARSER_MEDIA_TYPE)===-1?Pn:e.PARSER_MEDIA_TYPE,H=We==="application/xhtml+xml"?se:me,F="ALLOWED_TAGS"in e?c({},e.ALLOWED_TAGS,H):Nt,z="ALLOWED_ATTR"in e?c({},e.ALLOWED_ATTR,H):Dt,wt="ALLOWED_NAMESPACES"in e?c({},e.ALLOWED_NAMESPACES,se):Mn,At="ADD_URI_SAFE_ATTR"in e?c(V($t),e.ADD_URI_SAFE_ATTR,H):$t,Ht="ADD_DATA_URI_TAGS"in e?c(V(Ut),e.ADD_DATA_URI_TAGS,H):Ut,Fe="FORBID_CONTENTS"in e?c({},e.FORBID_CONTENTS,H):zt,je="FORBID_TAGS"in e?c({},e.FORBID_TAGS,H):{},_t="FORBID_ATTR"in e?c({},e.FORBID_ATTR,H):{},Pe="USE_PROFILES"in e?e.USE_PROFILES:!1,Lt=e.ALLOW_ARIA_ATTR!==!1,gt=e.ALLOW_DATA_ATTR!==!1,Mt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=e.SAFE_FOR_TEMPLATES||!1,Ie=e.WHOLE_DOCUMENT||!1,ke=e.RETURN_DOM||!1,tt=e.RETURN_DOM_FRAGMENT||!1,nt=e.RETURN_TRUSTED_TYPE||!1,Tt=e.FORCE_BODY||!1,Pt=e.SANITIZE_DOM!==!1,Ft=e.SANITIZE_NAMED_PROPS||!1,vt=e.KEEP_CONTENT!==!1,Ve=e.IN_PLACE||!1,Ot=e.ALLOWED_URI_REGEXP||ve,ze=e.NAMESPACE||Ae,N=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Bt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(N.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Bt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(N.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(N.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(gt=!1),tt&&(ke=!0),Pe&&(F=c({},g),z=[],Pe.html===!0&&(c(F,Oe),c(z,ie)),Pe.svg===!0&&(c(F,u),c(z,P),c(z,Te)),Pe.svgFilters===!0&&(c(F,_),c(z,P),c(z,Te)),Pe.mathMl===!0&&(c(F,k),c(z,be),c(z,Te))),e.ADD_TAGS&&(F===Nt&&(F=V(F)),c(F,e.ADD_TAGS,H)),e.ADD_ATTR&&(z===Dt&&(z=V(z)),c(z,e.ADD_ATTR,H)),e.ADD_URI_SAFE_ATTR&&c(At,e.ADD_URI_SAFE_ATTR,H),e.FORBID_CONTENTS&&(Fe===zt&&(Fe=V(Fe)),c(Fe,e.FORBID_CONTENTS,H)),vt&&(F["#text"]=!0),Ie&&c(F,["html","head","body"]),F.table&&(c(F,["tbody"]),delete je.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ye('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ye('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');X=e.TRUSTED_TYPES_POLICY,Ge=X.createHTML("")}else X===void 0&&(X=ct(Qe,$)),X!==null&&typeof Ge=="string"&&(Ge=X.createHTML(""));h&&h(e),He=e}},Gt=c({},["mi","mo","mn","ms","mtext"]),jt=c({},["foreignobject","desc","title","annotation-xml"]),zn=c({},["title","style","font","a","script"]),Vt=c({},[...u,..._,...A]),Wt=c({},[...k,...ne]),Hn=function(e){let n=mt(e);(!n||!n.tagName)&&(n={namespaceURI:ze,tagName:"template"});const o=me(e.tagName),w=me(n.tagName);return wt[e.namespaceURI]?e.namespaceURI===at?n.namespaceURI===Ae?o==="svg":n.namespaceURI===ot?o==="svg"&&(w==="annotation-xml"||Gt[w]):!!Vt[o]:e.namespaceURI===ot?n.namespaceURI===Ae?o==="math":n.namespaceURI===at?o==="math"&&jt[w]:!!Wt[o]:e.namespaceURI===Ae?n.namespaceURI===at&&!jt[w]||n.namespaceURI===ot&&!Gt[w]?!1:!Wt[o]&&(zn[o]||!Vt[o]):!!(We==="application/xhtml+xml"&&wt[e.namespaceURI]):!1},Re=function(e){ue(a.removed,{element:e});try{e.parentNode.removeChild(e)}catch{e.remove()}},bt=function(e,n){try{ue(a.removed,{attribute:n.getAttributeNode(e),from:n})}catch{ue(a.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is"&&!z[e])if(ke||tt)try{Re(n)}catch{}else try{n.setAttribute(e,"")}catch{}},Yt=function(e){let n=null,o=null;if(Tt)e="<remove></remove>"+e;else{const Y=b(e,/^[\r\n\t ]+/);o=Y&&Y[0]}We==="application/xhtml+xml"&&ze===Ae&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const w=X?X.createHTML(e):e;if(ze===Ae)try{n=new En().parseFromString(w,We)}catch{}if(!n||!n.documentElement){n=ft.createDocument(ze,"template",null);try{n.documentElement.innerHTML=Et?Ge:w}catch{}}const W=n.body||n.documentElement;return e&&o&&W.insertBefore(d.createTextNode(o),W.childNodes[0]||null),ze===Ae?Rn.call(n,Ie?"html":"body")[0]:Ie?n.documentElement:W},qt=function(e){return Sn.call(e.ownerDocument||e,e,ut.SHOW_ELEMENT|ut.SHOW_COMMENT|ut.SHOW_TEXT,null)},Un=function(e){return e instanceof An&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof vn)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},Xt=function(e){return typeof Le=="function"&&e instanceof Le},Ee=function(e,n,o){de[e]&&D(de[e],w=>{w.call(a,n,o,He)})},Kt=function(e){let n=null;if(Ee("beforeSanitizeElements",e,null),Un(e))return Re(e),!0;const o=H(e.nodeName);if(Ee("uponSanitizeElement",e,{tagName:o,allowedTags:F}),e.hasChildNodes()&&!Xt(e.firstElementChild)&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return Re(e),!0;if(!F[o]||je[o]){if(!je[o]&&Jt(o)&&(N.tagNameCheck instanceof RegExp&&T(N.tagNameCheck,o)||N.tagNameCheck instanceof Function&&N.tagNameCheck(o)))return!1;if(vt&&!Fe[o]){const w=mt(e)||e.parentNode,W=bn(e)||e.childNodes;if(W&&w){const Y=W.length;for(let oe=Y-1;oe>=0;--oe)w.insertBefore(wn(W[oe],!0),xn(e))}}return Re(e),!0}return e instanceof Je&&!Hn(e)||(o==="noscript"||o==="noembed"||o==="noframes")&&T(/<\/no(script|embed|frames)/i,e.innerHTML)?(Re(e),!0):(Me&&e.nodeType===3&&(n=e.textContent,D([pt,dt,ht],w=>{n=te(n,w," ")}),e.textContent!==n&&(ue(a.removed,{element:e.cloneNode()}),e.textContent=n)),Ee("afterSanitizeElements",e,null),!1)},Zt=function(e,n,o){if(Pt&&(n==="id"||n==="name")&&(o in d||o in Fn))return!1;if(!(gt&&!_t[n]&&T(On,n))){if(!(Lt&&T(Nn,n))){if(!z[n]||_t[n]){if(!(Jt(e)&&(N.tagNameCheck instanceof RegExp&&T(N.tagNameCheck,e)||N.tagNameCheck instanceof Function&&N.tagNameCheck(e))&&(N.attributeNameCheck instanceof RegExp&&T(N.attributeNameCheck,n)||N.attributeNameCheck instanceof Function&&N.attributeNameCheck(n))||n==="is"&&N.allowCustomizedBuiltInElements&&(N.tagNameCheck instanceof RegExp&&T(N.tagNameCheck,o)||N.tagNameCheck instanceof Function&&N.tagNameCheck(o))))return!1}else if(!At[n]){if(!T(Ot,te(o,Ct,""))){if(!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&ge(o,"data:")===0&&Ht[e])){if(!(Mt&&!T(Dn,te(o,Ct,"")))){if(o)return!1}}}}}}return!0},Jt=function(e){return e.indexOf("-")>0},Qt=function(e){Ee("beforeSanitizeAttributes",e,null);const{attributes:n}=e;if(!n)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};let w=n.length;for(;w--;){const W=n[w],{name:Y,namespaceURI:oe,value:Ce}=W,Ye=H(Y);let ae=Y==="value"?Ce:fe(Ce);if(o.attrName=Ye,o.attrValue=ae,o.keepAttr=!0,o.forceKeepAttr=void 0,Ee("uponSanitizeAttribute",e,o),ae=o.attrValue,o.forceKeepAttr||(bt(Y,e),!o.keepAttr))continue;if(!kt&&T(/\/>/i,ae)){bt(Y,e);continue}Me&&D([pt,dt,ht],tn=>{ae=te(ae,tn," ")});const en=H(e.nodeName);if(Zt(en,Ye,ae)){if(Ft&&(Ye==="id"||Ye==="name")&&(bt(Y,e),ae=Ln+ae),X&&typeof Qe=="object"&&typeof Qe.getAttributeType=="function"&&!oe)switch(Qe.getAttributeType(en,Ye)){case"TrustedHTML":{ae=X.createHTML(ae);break}case"TrustedScriptURL":{ae=X.createScriptURL(ae);break}}try{oe?e.setAttributeNS(oe,Y,ae):e.setAttribute(Y,ae),ee(a.removed)}catch{}}}Ee("afterSanitizeAttributes",e,null)},$n=function i(e){let n=null;const o=qt(e);for(Ee("beforeSanitizeShadowDOM",e,null);n=o.nextNode();)Ee("uponSanitizeShadowNode",n,null),!Kt(n)&&(n.content instanceof pe&&i(n.content),Qt(n));Ee("afterSanitizeShadowDOM",e,null)};return a.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=null,o=null,w=null,W=null;if(Et=!i,Et&&(i="<!-->"),typeof i!="string"&&!Xt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw ye("dirty is not a string, aborting")}else throw ye("toString is not a function");if(!a.isSupported)return i;if(yt||xt(e),a.removed=[],typeof i=="string"&&(Ve=!1),Ve){if(i.nodeName){const Ce=H(i.nodeName);if(!F[Ce]||je[Ce])throw ye("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof Le)n=Yt("<!---->"),o=n.ownerDocument.importNode(i,!0),o.nodeType===1&&o.nodeName==="BODY"||o.nodeName==="HTML"?n=o:n.appendChild(o);else{if(!ke&&!Me&&!Ie&&i.indexOf("<")===-1)return X&&nt?X.createHTML(i):i;if(n=Yt(i),!n)return ke?null:nt?Ge:""}n&&Tt&&Re(n.firstChild);const Y=qt(Ve?i:n);for(;w=Y.nextNode();)Kt(w)||(w.content instanceof pe&&$n(w.content),Qt(w));if(Ve)return i;if(ke){if(tt)for(W=In.call(n.ownerDocument);n.firstChild;)W.appendChild(n.firstChild);else W=n;return(z.shadowroot||z.shadowrootmode)&&(W=Cn.call(m,W,!0)),W}let oe=Ie?n.outerHTML:n.innerHTML;return Ie&&F["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&T(L,n.ownerDocument.doctype.name)&&(oe="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+oe),Me&&D([pt,dt,ht],Ce=>{oe=te(oe,Ce," ")}),X&&nt?X.createHTML(oe):oe},a.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xt(i),yt=!0},a.clearConfig=function(){He=null,yt=!1},a.isValidAttribute=function(i,e,n){He||xt({});const o=H(i),w=H(e);return Zt(o,w,n)},a.addHook=function(i,e){typeof e=="function"&&(de[i]=de[i]||[],ue(de[i],e))},a.removeHook=function(i){if(de[i])return ee(de[i])},a.removeHooks=function(i){de[i]&&(de[i]=[])},a.removeAllHooks=function(){de={}},a}var Be=Ze();return Be})}(St)),St.exports}var Xo=window.DOMPurify||(window.DOMPurify=fn().default||fn());const Ko=Gn(Xo),Zo={class:"flex flex-col items-center justify-center h-full p-6"},Jo={class:"text-lg font-semibold self-start mb-5"},Qo={class:"flex flex-row gap-x-2 mt-2.5 pt-2.5 justify-end"},ea=pn({__name:"RenameFile",props:{title:{}},emits:["rename","cancel"],setup(p,{emit:j}){const Z=p,U=j,{t:J}=dn(),Q=x(),R=x(!0),h=hn({title:Z.title});function S(C){R.value=!1,U("rename",C)}const r={title:[{required:!0,message:J("labels.titleRequired")}]};function M(){R.value=!1,U("cancel")}return jn("Escape",M),Vn(()=>{Q.value.select(),Q.value.focus()}),(C,D)=>{const ee=No,ue=Lo,me=Wn,se=Do,b=Oo;return y(),le(b,{visible:t(R),"onUpdate:visible":D[2]||(D[2]=te=>It(R)?R.value=te:null),class:"nc-attachment-rename-modal",size:"small"},{default:K(()=>[G("div",Zo,[G("div",Jo,_e(C.$t("title.renameFile")),1),ce(se,{class:"w-full h-full","no-style":"",model:t(h),onFinish:D[1]||(D[1]=te=>S(t(h).title))},{default:K(()=>[ce(ue,{class:"w-full !mb-0",name:"title",rules:r.title},{default:K(()=>[ce(ee,{ref_key:"inputEl",ref:Q,value:t(h).title,"onUpdate:value":D[0]||(D[0]=te=>t(h).title=te),class:"w-full nc-input-sm nc-input-shadow",placeholder:C.$t("general.rename")},null,8,["value","placeholder"])]),_:1},8,["rules"]),G("div",Qo,[ce(me,{key:"back","html-type":"back",size:"small",type:"secondary"},{default:K(()=>[Xe(_e(C.$t("general.cancel")),1)]),_:1}),ce(me,{key:"submit","html-type":"submit",size:"small",type:"primary"},{default:K(()=>[Xe(_e(C.$t("general.confirm")),1)]),_:1})])]),_:1},8,["model"])])]),_:1},8,["visible"])}}}),ta={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},na=G("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-9.5 8.5c0 .8-.7 1.5-1.5 1.5H7v2H5.5V9H8c.8 0 1.5.7 1.5 1.5zm5 2c0 .8-.7 1.5-1.5 1.5h-2.5V9H13c.8 0 1.5.7 1.5 1.5zm4-3H17v1h1.5V13H17v2h-1.5V9h3zm-6.5 0h1v3h-1zm-5 0h1v1H7z"},null,-1),oa=[na];function aa(p,j){return y(),B("svg",ta,[...oa])}const ia={name:"mdi-pdf-box",render:aa},sa={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ra=G("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-.65-10l-2.1 9h-1.4l-1.8-6.79l-1.8 6.79h-1.4l-2.2-9h1.5l1.4 6.81l1.8-6.81h1.3l1.8 6.81l1.4-6.81z"},null,-1),la=[ra];function ca(p,j){return y(),B("svg",sa,[...la])}const ua={name:"mdi-file-word-outline",render:ca},ma={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fa=G("path",{fill:"currentColor",d:"M9.8 13.4h2.5c1.5 0 2.16-.28 2.8-.82c.64-.55.9-1.33.9-2.35c0-.97-.25-1.73-.9-2.35c-.65-.59-1.27-.88-2.8-.88H8v10h1.8zM19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-9.2 9V8.4h2.3c.66 0 1.17.25 1.5.6s.5.72.5 1.24c0 .56-.18.95-.5 1.26s-.7.5-1.38.5z"},null,-1),pa=[fa];function da(p,j){return y(),B("svg",ma,[...pa])}const ha={name:"mdi-file-powerpoint-box",render:da},_a={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ga=G("path",{fill:"currentColor",d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8zm4 18H6V4h7v5h5zm-5.1-5.5l2.9 4.5H14l-2-3.4l-2 3.4H8.2l2.9-4.5L8.2 10H10l2 3.4l2-3.4h1.8z"},null,-1),ya=[ga];function Ta(p,j){return y(),B("svg",_a,[...ya])}const va={name:"mdi-file-excel-outline",render:Ta},[Aa,ni]=Io(p=>{const j=q(Yn,x(!1)),{t:Z}=dn(),U=q(qn,x(!1)),J=q(Xn,x(!1)),Q=q(Kn,x()),R=q(Zn,x()),h=q(Jn,x(!1)),S=x([]),r=x([]),M=x(!1),C=x(),{base:D}=Qn(eo()),{api:ee,isLoading:ue}=to(),{files:me,open:se}=no({reset:!0}),{appInfo:b}=_n(),{getAttachmentSrc:te}=gn(),ge={...b.value.ee&&{maxNumberOfAttachments:Math.max(1,+b.value.ncMaxAttachmentsAllowed||50)||50,maxAttachmentSize:Math.max(1,+b.value.ncAttachmentFieldSize||20)||20,supportedAttachmentMimeTypes:["*"]}},fe=oo(()=>U.value&&J.value?S.value:r.value),T=x(Array.from({length:fe.value.length},()=>!1));function ye(u){U.value?(S.value.splice(u,1),r.value.splice(u,1),T.value.splice(u,1),p(S.value)):(r.value.splice(u,1),T.value.splice(u,1),p(JSON.stringify(r.value)))}async function O(u,_){var ie,P,be,Te,Ne,De;if(!u.length&&!(_!=null&&_.length))return;const A={...ge,...ao((ie=R==null?void 0:R.value)==null?void 0:ie.meta)},k=[],ne=[],g=[];for(const s of u.length?u:_||[]){if(b.value.ee){if(fe.value.length+(u.length||(_==null?void 0:_.length)||0)>A.maxNumberOfAttachments){xe.error(`You can only upload at most ${A.maxNumberOfAttachments} file${A.maxNumberOfAttachments>1?"s":""} to this cell.`);return}if(s!=null&&s.size&&s.size>A.maxAttachmentSize*1024*1024){xe.error(`The size of ${(s==null?void 0:s.name)||(s==null?void 0:s.fileName)} exceeds the maximum file size ${A.maxAttachmentSize} MB.`);continue}if(!A.supportedAttachmentMimeTypes.includes("*")&&!A.supportedAttachmentMimeTypes.includes(s.type||s.mimetype)&&!A.supportedAttachmentMimeTypes.includes((P=(s==null?void 0:s.type)||s.mimetype)==null?void 0:P.split("/")[0])){xe.error(`${(s==null?void 0:s.name)||(s==null?void 0:s.fileName)} has the mime type ${(s==null?void 0:s.type)||(s==null?void 0:s.mimetype)} which is not allowed in this column.`);continue}}if(u.length)ne.push(s);else{const v=nn(s.fileName??"",[...r.value,...g].map(E=>(E==null?void 0:E.title)||(E==null?void 0:E.fileName)),(s==null?void 0:s.type)||(s==null?void 0:s.mimetype)||"");g.push({...s,fileName:v,title:v})}}if(ne.length&&U.value&&J.value){const s=await Promise.all(Array.from(ne).map(v=>new Promise(E=>{const ve={...v,file:v,title:v.name,mimetype:v.type};if(yn(v.name,v.mimetype??v.type)){const Se=new FileReader;Se.onload=l=>{var L;ve.data=(L=l.target)==null?void 0:L.result,E(ve)},Se.onerror=()=>{E(ve)},Se.readAsDataURL(v)}else E(ve)})));return r.value=[...r.value,...s],p(r.value)}else if(U.value&&J.value)return r.value=[...r.value,...g],p(r.value);if(u.length)try{const s=await ee.storage.upload({path:[on,D.value.id,(be=Q.value)==null?void 0:be.id,(Te=R.value)==null?void 0:Te.id].join("/")},{files:ne});for(const v of s)k.push({...v,title:nn(v==null?void 0:v.title,[...r.value,...k].map(E=>(E==null?void 0:E.title)||(E==null?void 0:E.fileName)),v==null?void 0:v.mimetype)})}catch(s){xe.error(s.message||Z("msg.error.internalError"))}else if(g.length)try{const s=await ee.storage.uploadByUrl({path:[on,D.value.id,(Ne=Q.value)==null?void 0:Ne.id,(De=R.value)==null?void 0:De.id].join("/")},g);k.push(...s)}catch(s){xe.error(s.message||Z("msg.error.internalError"))}p(JSON.stringify([...r.value,...k]))}async function Ue(u,_){return new Promise(A=>{const{close:k}=Ro(ea,{title:u.title,onRename:ne=>{r.value[_].title=ne,p(JSON.stringify(r.value)),k(),A(!0)},onCancel:()=>{k(),A(!0)}})})}async function c(u,_){var A,k,ne;if(!j.value)if(u)await O(u);else{_.preventDefault();const g=Ko.sanitize(((A=_.dataTransfer)==null?void 0:A.getData("text/html"))??"")??"",ie=So(g)??"";if(!ie){xe.error(Z("msg.error.draggedContentIsNotTypeOfImage"));return}const P=await re(ie);P!=null&&P.mimetype?await O([],[{...P,url:ie,fileName:`image.${(k=P==null?void 0:P.mimetype)==null?void 0:k.split("/")[1]}`,title:`image.${(ne=P==null?void 0:P.mimetype)==null?void 0:ne.split("/")[1]}`}]):xe.error(Z("msg.error.fieldToParseImageData"))}}async function $e(){await Promise.all(T.value.map(async(u,_)=>u&&await V(fe.value[_]))),T.value=Array.from({length:fe.value.length},()=>!1)}async function V(u){const _=await te(u);_?Co.saveAs(_,u.title):xe.error("Failed to download file")}async function re(u){var _;try{const A=await fetch(u);if(A.ok){if((_=A.headers.get("content-type"))!=null&&_.startsWith("image/"))return{mimetype:A.headers.get("content-type")||void 0,size:+(A.headers.get("content-length")||0)||void 0};if(u.slice(u.lastIndexOf(".")+1).toLowerCase().length)return{mimetype:`image/${u.slice(u.lastIndexOf(".")+1).toLowerCase()}`,size:+(A.headers.get("content-length")||0)||void 0}}}catch(A){console.log(A)}}const Oe=u=>{switch(u){case"mdi-pdf-box":return ia;case"mdi-file-word-outline":return ua;case"mdi-file-powerpoint-box":return ha;case"mdi-file-excel-outline":return va;default:return Tn}};return Rt(me,u=>u&&O(u)),{attachments:r,visibleItems:fe,isPublic:U,isForm:J,isReadonly:j,meta:Q,column:R,editEnabled:h,isLoading:ue,api:ee,open:()=>se(),onDrop:c,modalVisible:M,FileIcon:Oe,removeFile:ye,renameFile:Ue,downloadFile:V,updateModelValue:p,selectedImage:C,selectedVisibleItems:T,storedFiles:S,bulkDownloadFiles:$e,defaultAttachmentMeta:ge}},"useAttachmentCell");function Ea(p,j,Z,U=!1){const J=x(!1);function Q(r){r.stopImmediatePropagation(),r.preventDefault(),J.value=!0}async function R(r){r.stopImmediatePropagation(),r.preventDefault(),J.value=!1;const M=t(j);if(M.length<2)return;const{newIndex:C=0,oldIndex:D=0}=r;C!==D&&(M.splice(C,0,...M.splice(D,1)),Z(M))}let h;const S=r=>{h=new Mo(r,{handle:".nc-attachment",ghostClass:"ghost",onStart:Q,onEnd:R})};return io(r=>{const M=t(p);r(()=>{M&&(h!=null&&h.el)&&h.destroy()}),M&&!t(U)&&S(M)}),{dragging:J,initSortable:S}}const wa=st(()=>rt(()=>import("./CHb_QL5u.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]),import.meta.url).then(p=>p.default||p)),xa=st(()=>rt(()=>import("./BvBAAA1q.js"),__vite__mapDeps([34,1,2]),import.meta.url).then(p=>p.default||p)),ba=st(()=>rt(()=>import("./CCwLeFPf.js"),__vite__mapDeps([35,1,2,3,4,36,19,20,8,9,6,5,37,38,24,39,40,10,11,12,13,14,15,16,17,18,21,22,23,25,26,27,28,29,30,31,32,41]),import.meta.url).then(p=>p.default||p)),Sa=st(()=>rt(()=>import("./Dn-iHtH1.js"),__vite__mapDeps([42,36,1,2,19,20]),import.meta.url).then(p=>p.default||p)),Ia={"data-rec":"true"},Ra={key:0,class:"flex items-center gap-1 xs:w-full xs:min-w-12 xs:h-7 xs:justify-center"},Ca={key:0,"data-rec":"true",class:"group-hover:text-primary text-gray-500 dark:text-gray-200 dark:group-hover:!text-white text-tiny xs:justify-center xs:rounded-lg xs:text-sm"},Oa={key:2,class:"flex"},Na={class:"text-center w-full"},Da={key:0},La=["onClick"],Ma=["onClick"],ka={key:0,class:"xs:hidden h-6 w-5.5 group cursor-pointer flex gap-1 items-center active:ring active:ring-accent active:ring-opacity-100 rounded border-none p-1 hover:bg-primary hover:bg-opacity-10 !dark:bg-slate-500"},Pa={class:"flex flex-row items-center py-2.25 px-2.5 bg-gray-50 rounded-lg text-gray-700 mb-4"},Fa={class:"capitalize text-ellipsis overflow-hidden select-none w-full pl-1.75",style:{wordBreak:"keep-all",whiteSpace:"nowrap",display:"inline"}},za=pn({__name:"index",props:{modelValue:{},rowIndex:{}},emits:["update:modelValue"],setup(p,{emit:j}){const Z=j,U=q(so,x()),J=x(),Q=x(),R=q(ro,U.value),h=q(lo,x(!1)),S=q(co,x(!1)),r=q(uo,x(!1)),M=q(mo,x(!1)),C=q(fo,x(!1)),{isSharedForm:D}=wo(),{isMobileMode:ee}=_n(),{getPossibleAttachmentSrc:ue,openAttachment:me}=gn(),{isPublic:se,isForm:b,column:te,modalVisible:ge,attachments:fe,visibleItems:T,onDrop:ye,isLoading:O,open:Ue,FileIcon:c,selectedImage:$e,isReadonly:V,storedFiles:re,removeFile:Oe}=Aa(ne),{dragging:u}=Ea(Q,T,ne,V),_=q(an,x(!1)),{state:A}=xo(),{isOverDropZone:k}=po(R,ye);Rt(()=>p.modelValue,async l=>{if(l)try{const L=((typeof l=="string"?JSON.parse(l):l)||[]).filter(Boolean);se.value&&b.value?re.value=L:fe.value=L}catch(L){console.error(L),se.value&&b.value?re.value=[]:fe.value=[]}else se.value&&b.value?re.value=[]:fe.value=[]},{immediate:!0});function ne(l){Z("update:modelValue",l)}ho("Escape",()=>{ge.value=!1,k.value=!1}),Rt(()=>re.value.length||0,()=>{A.value[te.value.title]=re.value}),bo(q(an,x(!1)),l=>{var L;l.key==="Enter"&&!V.value&&(l.stopPropagation(),!ge.value&&!ee.value?ge.value=!0:(L=document.querySelector(".nc-attachment-modal.active .nc-attach-file"))==null||L.click())});const g=q(_o,x()),ie=l=>{l.stopPropagation(),Ue()},P=l=>{if(ee.value&&!r.value){r.value=!0;return}me(l)},be=()=>{ee.value||(ge.value=!0)},Te=l=>{ee.value&&!r.value||!ee.value&&(h.value||S.value)&&!r.value||($e.value=l)},Ne=l=>{M.value||(ie(l),l.stopPropagation())},De=l=>{M.value&&(ie(l),l.stopPropagation())},{isUIAllowed:s}=go(),v=x(!1),E=hn({title:"",i:0});function ve(l,L){v.value=!0,E.i=L,E.title=l}const Se=l=>{Oe(l),v.value=!1,E.i=0,E.title=""};return(l,L)=>{const Ke=wa,lt=qo,ct=Eo,Ze=Go,Be=To,f=xa,a=Tn,d=vo,m=ba,$=Ao,pe=Sa;return y(),B("div",{ref_key:"attachmentCellRef",ref:J,style:cn({height:t(b)||t(r)?void 0:`max(${!t(g)||t(g)===1?("rowHeightInPx"in l?l.rowHeightInPx:t(un))[1]-10:("rowHeightInPx"in l?l.rowHeightInPx:t(un))[`${t(g)}`]-18}px, ${t(C)?"22px":"32px"})`}),class:he(["nc-attachment-cell relative flex color-transition flex items-center w-full xs:min-h-12 xs:max-h-32",{"justify-center":!t(_),"justify-between":t(_),"px-2":t(r)}])},[ce(Ke),t(D)||!t(V)&&!t(u)&&t(R)?(y(),le(ct,{key:0,modelValue:t(k),"onUpdate:modelValue":L[0]||(L[0]=I=>It(k)?k.value=I:null),inline:"",target:t(R),"data-rec":"true",class:"nc-attachment-cell-dropzone text-white text-lg ring ring-accent ring-opacity-100 bg-gray-700/75 flex items-center justify-center gap-2 backdrop-blur-xl"},{default:K(()=>[ce(lt,{class:"text-accent"}),Xe(" "+_e(l.$t("labels.dropHere")),1)]),_:1},8,["modelValue","target"])):we("",!0),t(V)?(y(),B("div",Oa)):(y(),B("div",{key:1,class:he([{"sm:mx-auto sm:px-4 xs:w-full xs:min-w-8":!t(T).length},"group cursor-pointer py-1 flex gap-1 items-center active:ring active:ring-accent active:ring-opacity-100 rounded border-none shadow-sm hover:bg-primary hover:bg-opacity-10 !dark:bg-slate-500"]),"data-testid":"attachment-cell-file-picker-button",tabindex:"0",onClick:ie,onKeydown:[sn(Ne,["enter"]),sn(De,["space"])]},[t(O)?(y(),le(qe(("iconMap"in l?l.iconMap:t(it)).reload),{key:0,class:he({"animate-infinite animate-spin":t(O)})},null,8,["class"])):we("",!0),ce(Be,{placement:"bottom",class:"xs:w-full"},{title:K(()=>[G("span",Ia,_e(l.$t("activity.attachmentDrop")),1)]),default:K(()=>[t(_)||!t(T).length||t(b)&&t(T).length?(y(),B("div",Ra,[ce(Ze,{class:"transform !dark:text-white !group-hover:text-accent group-hover:scale-120 text-gray-500 text-tiny"}),t(T).length?we("",!0):(y(),B("div",Ca,_e(l.$t("activity.addFiles")),1))])):we("",!0)]),_:1})],34)),t(T).length?(y(),B(rn,{key:3},[G("div",{ref_key:"sortableRef",ref:Q,class:he([{"justify-center":!t(r)&&!t(h)&&!t(S),"py-1":t(g)===1&&!t(b)&&!t(r),"py-1.5":t(g)!==1||t(b)||t(r)},"nc-attachment-wrapper flex cursor-pointer w-full items-center flex-wrap gap-2 nc-scrollbar-thin mt-0 items-start px-[1px]"]),style:cn({maxHeight:t(b)||t(r)?void 0:`max(100%, ${t(C)?"22px":"32px"})`})},[(y(!0),B(rn,null,yo(t(T),(I,Le)=>(y(),le(Be,{key:I.url||I.title,placement:"bottom",class:"nc-attachment-item"},{title:K(()=>[G("div",Na,_e(I.title),1)]),default:K(()=>[("isImage"in l?l.isImage:t(yn))(I.title,I.mimetype??I.type)?(y(),B("div",Da,[G("div",{class:he(["nc-attachment flex items-center flex-col flex-wrap justify-center flex-auto",{"ml-2":t(_),"!w-30":t(b)||t(r)}]),onClick:()=>Te(I)},[ce(f,{alt:I.title||`#${Le}`,class:he(["rounded",{"h-5.5":!t(C)&&(!t(g)||t(g)===1),"h-4.5":t(C)&&(!t(g)||t(g)===1),"h-8":t(g)===2,"h-16.8":t(g)===4,"h-20.8":t(g)===6||t(b)||t(r)}]),srcs:t(ue)(I)},null,8,["alt","class","srcs"])],10,La)])):(y(),B("div",{key:1,class:he(["nc-attachment flex items-center justify-center px-4",{"h-5.5":!t(C)&&(!t(g)||t(g)===1),"h-4.5":t(C)&&(!t(g)||t(g)===1),"h-8":t(g)===2,"h-16.8":t(g)===4,"h-20.8 !w-30":t(g)===6||t(b)||t(r),"ml-2":t(_)}]),onClick:Je=>P(I)},[I.icon?(y(),le(qe(t(c)(I.icon)),{key:0,class:he({"h-13 w-13":t(b)||t(r)})},null,8,["class"])):(y(),le(a,{key:1,class:he({"h-13 w-13":t(b)||t(r)})},null,8,["class"]))],10,Ma)),!t(V)&&(t(b)||t(r))?(y(),le(d,{key:2},{title:K(()=>[Xe(_e(l.$t("title.removeFile")),1)]),default:K(()=>[t(D)||t(s)("dataEdit")&&!t(se)?(y(),le(qe(("iconMap"in l?l.iconMap:t(it)).closeCircle),{key:0,class:"nc-attachment-remove",onClick:ln(Je=>ve(I.title,Le),["stop"])},null,8,["onClick"])):we("",!0)]),_:2},1024)):we("",!0)]),_:2},1024))),128))],6),t(_)||t(b)&&t(T).length?(y(),B("div",ka,[t(O)?(y(),le(qe(("iconMap"in l?l.iconMap:t(it)).reload),{key:0,class:he({"animate-infinite animate-spin":t(O)})},null,8,["class"])):(y(),le(Be,{key:1,placement:"bottom",class:"flex"},{title:K(()=>[Xe(_e(l.$t("activity.viewAttachment")),1)]),default:K(()=>[(y(),le(qe(("iconMap"in l?l.iconMap:t(it)).expand),{class:"flex-none transform !dark:text-white !group-hover:text-grey-800 group-hover:scale-120 text-gray-500 text-sm",onClick:ln(be,["stop"])}))]),_:1}))])):we("",!0)],64)):we("",!0),ce(m),t(b)||t(r)?(y(),le(pe,{key:4,visible:t(v),"onUpdate:visible":L[1]||(L[1]=I=>It(v)?v.value=I:null),"entity-name":"File","on-delete":()=>Se(t(E).i)},{"entity-preview":K(()=>[G("span",null,[G("div",Pa,[ce($,{icon:"file",class:"nc-view-icon"}),G("div",Fa,_e(t(E).title),1)])])]),_:1},8,["visible","on-delete"])):we("",!0)],6)}}}),oi=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"}));export{Go as _,Ea as a,qo as b,Tn as c,oi as i,ni as u};
