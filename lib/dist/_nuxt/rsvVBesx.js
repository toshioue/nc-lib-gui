const __vite__fileDeps=["./DQfYvTkb.js","./Cgw6cdOy.js","./entry.DxI7QTvq.css","./r2PN1Hfg.js","./CO8XXsKl.js","./vIgbYHAs.js","./DpDIhxXu.js","./boyBAVNN.js","./D7yS5JAk.js","./BBXMuneh.js","./Cell.DUBzJZSm.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as z,aB as E,r as u,hH as P,ad as $,bN as R,da as j,i as L,H as O,az as q,cN as A,g as w,d2 as o,P as a,o as p,c as b,b as m,w as M,a as n,t as f,Y as H,d as Y,T as B,S as F,V as G,W,Z,a6 as J,$ as K,a0 as Q}from"./Cgw6cdOy.js";import{_ as X}from"./Cw6_lRNR.js";import{u as ee}from"./r2PN1Hfg.js";import"./CO8XXsKl.js";import"./vIgbYHAs.js";import"./DpDIhxXu.js";import"./boyBAVNN.js";import"./D7yS5JAk.js";const te=Z(()=>J(()=>import("./DQfYvTkb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(i=>i.default||i)),ae={key:0},se={class:"flex items-center gap-2"},le={key:1},oe={class:"w-full flex items-center gap-2 mb-2"},ne={class:"text-small leading-[18px] flex-1 text-gray-700"},ue={class:"flex flex-row gap-2 relative"},ie={class:"nc-default-value-wrapper border-1 flex items-center w-full px-3 border-gray-300 rounded-lg sm:min-h-[32px] xs:min-h-13 flex items-center focus-within:border-brand-500 focus-within:shadow-selected focus-within:ring-0 transition-all duration-0.3s"},re={class:"relative flex-grow"},de={key:0,class:"absolute pointer-events-none h-full w-full bg-white z-2 top-0 left-0 rounded-full items-center flex bg-white"},ce={class:"-ml-2"},ge=z({__name:"DefaultValue",props:{value:{},isVisibleDefaultValueInput:{type:Boolean}},emits:["update:value","update:isVisibleDefaultValueInput"],setup(i,{emit:I}){var k;const g=i,V=I;E(P,u(!0));const l=$(g,"value",V),v=R(j,u()),x=$(g,"isVisibleDefaultValueInput",V),N=u({row:{},oldRow:{},rowMeta:{isUpdatedFromCopyNPaste:[(k=l.value)==null?void 0:k.title]}});ee(N);const r=u(null),y=u(!1),_=e=>{l.value={...l.value,cdf:e},r.value=e};L(()=>{var e;_(((e=l.value)==null?void 0:e.cdf)??null)}),O(()=>l.value.cdf,e=>{r.value=e});const{sqlUis:h}=q(A()),D=w(()=>{var e,t,s;return(e=v.value)!=null&&e.source_id&&h.value[(t=v.value)==null?void 0:t.source_id]?h.value[(s=v.value)==null?void 0:s.source_id]:Object.values(h.value)[0]}),S=w(()=>{var e,t,s;return[o.Date,o.DateTime].includes((e=l.value)==null?void 0:e.uidt)&&((s=(t=D.value)==null?void 0:t.getCurrentDateDefault)==null?void 0:s.call(t,l.value))}),C=w(()=>{var e,t,s,d;return S.value&&((t=(e=r.value)==null?void 0:e.toUpperCase)==null?void 0:t.call(e))===((d=(s=D.value)==null?void 0:s.getCurrentDateDefault)==null?void 0:d.call(s,l.value))});return(e,t)=>{const s=K,d=Q,T=X,U=te;return a(x)?(p(),b("div",le,[n("div",oe,[n("div",ne,f(e.$t("placeholder.defaultValue")),1)]),n("div",ue,[n("div",ie,[n("div",re,[a(C)?(p(),b("div",de,[n("div",ce,[m(T,null,{default:M(()=>[Y(f(e.$t("labels.currentDate")),1)]),_:1})])])):B("",!0),m(U,{"edit-enabled":!0,"model-value":a(r),column:a(l),class:"!border-none h-auto my-auto","onUpdate:cdf":_,"onUpdate:editEnabled":t[1]||(t[1]=c=>y.value=c),onClick:t[2]||(t[2]=c=>y.value=!0)},null,8,["model-value","column"])]),![a(o).Year,a(o).Date,a(o).Time,a(o).DateTime,a(o).SingleSelect,a(o).MultiSelect].includes(a(l).uidt)||a(C)?(p(),F(G(("iconMap"in e?e.iconMap:a(W)).close),{key:0,class:"w-4 h-4 cursor-pointer rounded-full z-3 !text-black-500 text-gray-500 cursor-pointer hover:bg-gray-50",onClick:t[3]||(t[3]=c=>_(null))})):B("",!0)])])])):(p(),b("div",ae,[m(d,{size:"small",type:"text",class:"!text-gray-700","data-testid":"nc-show-default-value-btn",onClick:t[0]||(t[0]=H(c=>x.value=!0,["stop"]))},{default:M(()=>[n("div",se,[m(s,{icon:"plus",class:"flex-none h-4 w-4"}),n("span",null,f(e.$t("general.set"))+" "+f(e.$t("placeholder.defaultValue").toLowerCase()),1)])]),_:1})]))}}});export{ge as default};
