const __vite__fileDeps=["./fm4Ai8Gq.js","./3QBYHahY.js","./entry.Ic44fwRn.css","./T74iQZdg.js","./CSl6euFG.js","./Bj2FvocX.js","./DPqnb67u.js","./boyBAVNN.js","./BYmqikBK.js","./D4iSzjWt.js","./Cell.DUBzJZSm.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as N,cY as V,bN as m,hO as w,fP as S,r as W,d9 as I,g as s,iH as R,d1 as j,o as i,c as u,P as l,t as _,S as A,Q as B,a as D,T as C,Z as P,a6 as L}from"./3QBYHahY.js";import{u as M}from"./C4ATMIyO.js";import{a as U}from"./DPqnb67u.js";import"./DGM-hiY9.js";const z=P(()=>L(()=>import("./fm4Ai8Gq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(d=>d.default||d)),$={key:0},H={key:0,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},Q={key:1,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},J=N({__name:"Rollup",setup(d){const{metas:b}=V(),r=m(w),o=m(S),c=m(I,W()),{showEditNonEditableFieldWarning:h,showClearNonEditableFieldWarning:F,activateShowEditNonEditableFieldWarning:p}=M(),f=s(()=>{var e,t,n,a,g;return(t=(e=o==null?void 0:o.value)==null?void 0:e.colOptions)!=null&&t.fk_relation_column_id?(g=(a=(n=c==null?void 0:c.value)==null?void 0:n.columns)==null?void 0:a.find(T=>{var y,E;return T.id===((E=(y=o==null?void 0:o.value)==null?void 0:y.colOptions)==null?void 0:E.fk_relation_column_id)}))==null?void 0:g.colOptions:null}),v=s(()=>{var e,t,n;return((e=f.value)==null?void 0:e.fk_related_model_id)&&((n=b.value)==null?void 0:n[(t=f.value)==null?void 0:t.fk_related_model_id])}),x=s(()=>{var e;return(e=o.value)==null?void 0:e.colOptions}),k=s(()=>{var e,t;return(e=v.value)!=null&&e.columns&&U(o.value)?(t=v.value)==null?void 0:t.columns.find(n=>n.id===x.value.fk_rollup_column_id):""}),O=s(()=>{var e;return R(((e=k.value)==null?void 0:e.uidt)||j.SingleLineText)});return(e,t)=>{const n=z;return i(),u("div",{class:"nc-cell-field",onDblclick:t[1]||(t[1]=(...a)=>l(p)&&l(p)(...a))},[l(O).includes(l(x).rollup_function)?(i(),u("div",$,_(l(r)),1)):(i(),A(n,{key:1,modelValue:l(r),"onUpdate:modelValue":t[0]||(t[0]=a=>B(r)?r.value=a:null),column:l(k),"edit-enabled":!1,"read-only":!0},null,8,["modelValue","column"])),D("div",null,[l(h)?(i(),u("div",H,_(e.$t("msg.info.computedFieldEditWarning")),1)):C("",!0),l(F)?(i(),u("div",Q,_(e.$t("msg.info.computedFieldDeleteWarning")),1)):C("",!0)])],32)}}});export{J as default};
