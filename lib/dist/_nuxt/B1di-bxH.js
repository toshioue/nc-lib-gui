const __vite__fileDeps=["./8spbEvEn.js","./3QBYHahY.js","./entry.Ic44fwRn.css","./BR3I9Rit.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as M,ar as B,ai as E,M as F,u as L,at as S,r as q,o as u,c as v,b as s,w as r,a as t,P as o,t as i,d as _,cg as I,T,S as U,V as A,W as D,Z as z,aj as W,ak as G,a0 as O,a5 as Z,a6 as H}from"./3QBYHahY.js";import{_ as J}from"./DHn6lT7K.js";import{_ as K}from"./CIDCbbCH.js";import{_ as Q}from"./CtRSbdCM.js";import{v as X}from"./BtEbFxXZ.js";import{F as Y}from"./DAKhk9t6.js";import{_ as ee}from"./ceYq-xax.js";import{_ as se}from"./Bk0xUMNV.js";import"./wEQwkVjR.js";import"./xnDaHwV-.js";import"./CmN9vPg3.js";import"./BQQOEPN4.js";import"./CGxepfeV.js";const oe=z(()=>H(()=>import("./8spbEvEn.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(c=>c.default||c)),ae={class:"md:bg-primary signin bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},te={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},re={class:"self-center flex flex-col justify-center items-center text-center gap-2"},ne={class:"prose-2xl font-bold my-4 w-full"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ie={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},ce={class:"flex items-center gap-2 justify-center"},de={class:"break-words"},pe={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},me={class:"flex items-center gap-2"},ke=M({__name:"[id]",setup(c){const{api:y,isLoading:f,error:n}=B(),{t:w}=E(),x=F(),b=L(),a=S({password:"",newPassword:""}),P=q();async function $(){if(a.newPassword!==a.password){n.value="password does not match";return}const{error:e,valid:l}=X(a.password);if(!l){n.value=e.includes("8")?"password should be atleast 8 characters":e;return}d();try{await y.auth.passwordReset(x.params.id,{password:a.password}),b.push("/#/sigin")}catch(p){W.error(await G(p))}}function d(){n.value&&(n.value=null)}return(e,l)=>{const p=oe,R=Q,k=J,V=K,g=ee,h=se,N=O,j=Y,C=Z;return u(),v("div",null,[s(C,null,{default:r(()=>[t("div",ae,[t("div",te,[s(p,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:o(f)},null,8,["animate"]),t("div",re,[t("h1",ne,i(e.$t("title.resetPassword")),1),t("div",le,[_(i(e.$t("msg.info.passwordRecovery.success"))+" ",1),s(R)]),s(k,{to:"/signin"},{default:r(()=>[_(i(e.$t("general.signIn")),1)]),_:1})]),s(j,{ref_key:"formValidator",ref:P,layout:"vertical",model:o(a),"no-style":"",onFinish:$},{default:r(()=>[s(I,{name:"layout"},{default:r(()=>[o(n)?(u(),v("div",ie,[t("div",ce,[s(V),t("div",de,i(o(n)),1)])])):T("",!0)]),_:1}),s(h,{label:e.$t("placeholder.password.new"),name:"password",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:r(()=>[s(g,{value:o(a).password,"onUpdate:value":l[0]||(l[0]=m=>o(a).password=m),placeholder:e.$t("placeholder.password.new"),class:"password",onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s(h,{label:e.$t("placeholder.password.confirm"),name:"newPassword",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:r(()=>[s(g,{value:o(a).newPassword,"onUpdate:value":l[1]||(l[1]=m=>o(a).newPassword=m),type:"password",class:"password",placeholder:e.$t("placeholder.password.confirm"),onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),t("div",pe,[s(N,{type:"primary","is-loading":o(f),"html-type":"submit"},{default:r(()=>[t("span",me,[(u(),U(A(("iconMap"in e?e.iconMap:o(D)).signin))),_(" "+i(e.$t("general.reset")),1)])]),_:1},8,["is-loading"])])]),_:1},8,["model"])])])]),_:1})])}}});export{ke as default};
