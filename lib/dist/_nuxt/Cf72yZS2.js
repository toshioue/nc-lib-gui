const __vite__fileDeps=["./Cas0zRmJ.js","./3QBYHahY.js","./entry.Ic44fwRn.css","./D4iSzjWt.js","./FormulaWrapperCell.D9jkpMT6.css","./DWGVxFka.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as P,bN as i,fP as V,hO as z,cM as B,g as m,iI as S,iJ as U,fN as H,r as p,hJ as M,gU as A,hK as G,P as e,o as n,S as u,Q as J,c as r,w as g,a as C,t as c,T as E,U as Z,Z as I,a6 as w,a3 as $}from"./3QBYHahY.js";import{I as k}from"./D4iSzjWt.js";import{u as K}from"./C4ATMIyO.js";import"./DGM-hiY9.js";const Q=I(()=>w(()=>import("./Cas0zRmJ.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(s=>s.default||s)),q=I(()=>w(()=>import("./DWGVxFka.js"),__vite__mapDeps([5,1,2]),import.meta.url).then(s=>s.default||s)),X={class:"font-bold"},Y=C("span",null,"ERR!",-1),ee=["innerHTML"],te={key:2,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},oe={key:3,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},ie=P({__name:"Formula",setup(s){const t=i(V),o=i(z),{isPg:F}=B(),_=m(()=>F(t.value.source_id)?k(S(o==null?void 0:o.value)):k(o==null?void 0:o.value)),f=m(()=>U(_.value)),{showEditNonEditableFieldWarning:N,showClearNonEditableFieldWarning:b,activateShowEditNonEditableFieldWarning:y}=K(),O=m(()=>{var l,a;return((a=(l=t.value.colOptions)==null?void 0:l.parsed_tree)==null?void 0:a.dataType)===H.NUMERIC}),T=i(M,p(void 0)),W=i(A,p(!1)),L=i(G,p(!1));return(l,a)=>{var h,v,x;const R=Q,j=$,D=q;return(h=e(t).meta)!=null&&h.display_type?(n(),u(R,{key:0,modelValue:e(o),"onUpdate:modelValue":a[0]||(a[0]=d=>J(o)?o.value=d:null),column:{uidt:(v=e(t).meta)==null?void 0:v.display_type,...(x=e(t).meta)==null?void 0:x.display_column_meta}},null,8,["modelValue","column"])):(n(),r("div",{key:1,class:Z(["w-full",{"text-right":e(O)&&e(L)&&!e(W)}])},[e(t)&&e(t).colOptions&&e(t).colOptions.error?(n(),u(j,{key:0,placement:"bottom",class:"text-orange-700"},{title:g(()=>[C("span",X,c(e(t).colOptions.error),1)]),default:g(()=>[Y]),_:1})):(n(),r("div",{key:1,class:"nc-cell-field py-1",onDblclick:a[1]||(a[1]=(...d)=>e(y)&&e(y)(...d))},[e(f)?(n(),r("div",{key:0,innerHTML:e(f)},null,8,ee)):(n(),u(D,{key:1,value:e(_),lines:e(T)},null,8,["value","lines"])),e(N)?(n(),r("div",te,c(l.$t("msg.info.computedFieldEditWarning")),1)):E("",!0),e(b)?(n(),r("div",oe,c(l.$t("msg.info.computedFieldDeleteWarning")),1)):E("",!0)],32))],2))}}});export{ie as default};
