import{f as S,N as V,bL as o,ay as F,r as d,hp as O,hf as R,gx as B,az as L,fH as P,ac as A,g as f,d4 as U,P as s,R as $,fe as z,o as m,c,Q as G,aF as r,Y as l,t as g,cN as H,_ as Q}from"./nEPQs079.js";const T=["type"],Y={key:1,class:"nc-cell-field nc-null uppercase"},q={key:2,class:"nc-cell-field"},J=S({__name:"Integer",props:{modelValue:{}},emits:["update:modelValue"],setup(b,{emit:w}){const N=b,I=w,{showNull:k}=V(),y=o(F),i=o(O,d(!1)),x=o(R,d(!1)),C=o(B,d(!1)),p=o(L),D=o(P,null),n=A(N,"modelValue",I),M=f(()=>n.value===null||isNaN(Number(n.value))?null:U(D.value.meta).isLocaleString?Number(n.value).toLocaleString():Number(n.value)),u=f({get:()=>n.value,set:e=>{e===""?n.value=null:p.value&&!i.value?n.value=isNaN(Number(e))?e:Number(e):n.value=e}}),j=f(()=>p.value&&!i.value?"text":"number"),E=e=>!C.value&&!i.value&&!p.value&&(e==null?void 0:e.focus());function K(e){var a,v;if((H()?e.metaKey:e.ctrlKey)&&!e.altKey)switch(e.keyCode){case 90:{e.stopPropagation();break}}if(e.key===".")return e.preventDefault();e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(a=e.target)==null||a.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(v=e.target)==null||v.setSelectionRange(0,0),e.target.type="number")}return(e,t)=>!s(x)&&s(y)?$((m(),c("input",{key:0,ref:E,"onUpdate:modelValue":t[0]||(t[0]=a=>G(u)?u.value=a:null),class:"nc-cell-field outline-none py-1 border-none w-full h-full",type:s(j),style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=a=>y.value=!1),onKeydown:[K,t[2]||(t[2]=r(l(()=>{},["stop"]),["down"])),t[3]||(t[3]=r(l(()=>{},["stop"]),["left"])),t[4]||(t[4]=r(l(()=>{},["stop"]),["right"])),t[5]||(t[5]=r(l(()=>{},["stop"]),["up"])),t[6]||(t[6]=r(l(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[7]||(t[7]=l(()=>{},["stop"])),onMousedown:t[8]||(t[8]=l(()=>{},["stop"]))},null,40,T)),[[z,s(u)]]):s(u)===null&&s(k)?(m(),c("span",Y,g(e.$t("general.null")),1)):(m(),c("span",q,g(s(M)),1))}}),X=Q(J,[["__scopeId","data-v-99e6cbcf"]]);export{X as default};
