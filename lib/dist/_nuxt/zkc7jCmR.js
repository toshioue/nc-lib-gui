const __vite__fileDeps=["./BvBAAA1q.js","./DKhUGBot.js","./entry.B8GgT5QA.css","./CTx5LjCF.js","./lyxpGZoZ.js","./Ce4Hnuew.js","./VirtualCell.BsQKIqYj.css","./OuUYKboO.js","./DL47xb_5.js","./DFT4Rrrq.js","./Cell.CYBwEWH5.css","./CjzcE-AP.js","./VirtualCell.CZh3Dt_h.css","./THlkrJVo.js","./DrSobHNn.js","./DGy9VVU7.js","./DO1hNe_j.js","./boyBAVNN.js","./Cell.DV_4HH8i.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{o as t,c as l,a as m,f as H,av as P,r as p,gw as Z,hr as G,bL as V,az as J,ac as Y,fB as q,he as K,g as T,hZ as Q,cU as W,O as X,b as c,w as i,al as x,P as e,am as z,U as d,S as _,t as L,fF as E,d as A,R as ee,Y as te,i_ as ae,T as C,Z as f,a5 as h,$ as ne,ap as oe,dt as le,_ as se}from"./DKhUGBot.js";import{u as re}from"./CXIEl1K6.js";import{i as ie}from"./BNDnQ_SZ.js";import{j as ce}from"./Ce4Hnuew.js";import{_ as de}from"./CWksAcnS.js";const me={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ue=m("path",{fill:"currentColor",d:"M12 4V2A10 10 0 0 0 2 12h2a8 8 0 0 1 8-8"},null,-1),pe=[ue];function _e(n,s){return t(),l("svg",me,[...pe])}const fe={name:"mdi-loading",render:_e},he=f(()=>h(()=>import("./BvBAAA1q.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>n.default||n)),ye=f(()=>h(()=>import("./CTx5LjCF.js"),__vite__mapDeps([3,1,2,4,5,6]),import.meta.url).then(n=>n.default||n)),xe=f(()=>h(()=>import("./OuUYKboO.js"),__vite__mapDeps([7,1,2,8,9,10]),import.meta.url).then(n=>n.default||n)),ge=f(()=>h(()=>import("./CjzcE-AP.js"),__vite__mapDeps([11,1,2,4,9,12]),import.meta.url).then(n=>n.default||n)),ve=f(()=>h(()=>import("./THlkrJVo.js"),__vite__mapDeps([13,1,2,14,15,16,4,17,5,9,18]),import.meta.url).then(n=>n.default||n)),we={class:"nc-list-item-wrapper group px-[1px] hover:bg-gray-50 border-y-1 border-gray-200 border-t-transparent"},ke={class:"flex items-center gap-3"},be={key:0},Ve={key:1,class:"h-11 w-11 !min-h-11 !min-w-11 !max-h-11 !max-w-11 !flex flex-row items-center !rounded-l-xl justify-center"},Le={class:"flex-1 flex flex-col gap-1 justify-center overflow-hidden"},Ie={class:"flex justify-start"},Pe={class:"font-semibold text-brand-500 nc-display-value truncate leading-[20px]"},Te={key:0,class:"flex ml-[-0.25rem] sm:flex-row xs:flex-col xs:mt-2 gap-4 min-h-5"},ze={key:0,class:"flex flex-col gap-[-1]"},Ee={class:"nc-link-record-cell flex w-full max-w-full"},Ae={key:1,class:"flex flex-row w-full max-w-72 h-5 pl-1 items-center justify-start"},Ce={key:1,class:"flex-none flex items-center w-7"},De={key:0,class:"flex"},$e=H({__name:"ListItem",props:{row:{},fields:{},attachment:{},relatedTableDisplayValueProp:{},displayValueTypeAndFormatProp:{},isLoading:{type:Boolean,default:!1},isLinked:{type:Boolean}},emits:["expand","linkOrUnlink"],setup(n){const s=n;P(Z,p(!0)),P(G,p(1));const g=V(J,p(!1)),r=Y(s,"row"),v=V(q,p(!1)),w=V(K,p(!1)),{getPossibleAttachmentSrc:D}=re(),k=T(()=>{try{return s.attachment&&r.value[s.attachment.title]?typeof r.value[s.attachment.title]=="string"?JSON.parse(r.value[s.attachment.title]):r.value[s.attachment.title]:[]}catch{return[]}}),$=T(()=>r.value[s.relatedTableDisplayValueProp]&&s.displayValueTypeAndFormatProp.type&&s.displayValueTypeAndFormatProp.format?Q(r.value[s.relatedTableDisplayValueProp],s.displayValueTypeAndFormatProp.format,s.displayValueTypeAndFormatProp.format!==W.Time):r.value[s.relatedTableDisplayValueProp]);return(o,y)=>{const R=he,F=de,I=ne,U=ye,j=xe,S=ge,B=ve,b=oe,O=fe,N=le,M=X("e");return t(),l("div",we,[c(N,{tabindex:"0",class:C(["nc-list-item !outline-none transition-all relative group-hover:bg-gray-50 cursor-auto",{"!bg-white":o.isLoading,"!hover:bg-white":e(w)}]),"body-style":{padding:"6px 10px !important",borderRadius:0},hoverable:!1},{default:i(()=>[m("div",ke,[o.attachment?(t(),l(x,{key:0},[e(k)&&e(k).length?(t(),l("div",be,[c(F,{autoplay:"",class:"!w-11 !h-11 !max-h-11 !max-w-11"},{customPaging:i(()=>[]),default:i(()=>[(t(!0),l(x,null,z(e(k),(a,u)=>(t(),l(x,null,[("isImage"in o?o.isImage:e(ie))(a.title,a.mimetype??a.type)?(t(),d(R,{key:`carousel-${a.title}-${u}`,class:"!w-11 !h-11 !max-h-11 !max-w-11object-cover !rounded-l-xl",srcs:e(D)(a)},null,8,["srcs"])):_("",!0)],64))),256))]),_:1})])):(t(),l("div",Ve,[c(I,{class:"w-full h-full !text-6xl !leading-10 !text-transparent rounded-lg",icon:"fileImage"})]))],64)):_("",!0),m("div",Le,[m("div",Ie,[m("span",Pe,L(e($)),1)]),o.fields.length>0&&!e(v)&&!e(g)?(t(),l("div",Te,[(t(!0),l(x,null,z(o.fields,a=>(t(),l("div",{key:a.id,class:"sm:w-1/3 sm:max-w-1/3 sm:overflow-hidden"},[("isRowEmpty"in o?o.isRowEmpty:e(ce))({row:e(r)},a)?(t(),l("div",Ae,"-")):(t(),l("div",ze,[c(b,{class:"z-10 flex",placement:"bottomLeft","arrow-point-at-center":!1},{title:i(()=>[e(E)(a)?(t(),d(U,{key:0,class:"text-gray-100 !text-sm nc-link-record-cell-tooltip",column:a,"hide-menu":!0},null,8,["column"])):(t(),d(j,{key:1,class:"text-gray-100 !text-sm nc-link-record-cell-tooltip",column:a,"hide-menu":!0},null,8,["column"]))]),default:i(()=>[m("div",Ee,[e(E)(a)?(t(),d(S,{key:0,modelValue:e(r)[a.title],"onUpdate:modelValue":u=>e(r)[a.title]=u,row:e(r),column:a},null,8,["modelValue","onUpdate:modelValue","row","column"])):(t(),d(B,{key:1,modelValue:e(r)[a.title],"onUpdate:modelValue":u=>e(r)[a.title]=u,column:a,"edit-enabled":!1,"read-only":!0},null,8,["modelValue","onUpdate:modelValue","column"]))])]),_:2},1024)]))]))),128))])):_("",!0)]),!e(g)&&!e(v)&&!e(w)?(t(),l("div",Ce,[c(b,{class:"flex"},{title:i(()=>[A(L(o.$t("title.expand")),1)]),default:i(()=>[ee((t(),l("button",{tabindex:-1,class:"z-10 flex items-center justify-center nc-expand-item !group-hover:visible !invisible !h-7 !w-7 transition-all !hover:children:w-4.5 !hover:children:h-4.5",onClick:y[0]||(y[0]=te(a=>o.$emit("expand",e(r)),["stop"]))},[c(e(ae),{class:"flex-none w-4 h-4 scale-125"})])),[[M,["c:row-expand:open"]]])]),_:1})])):_("",!0),!e(v)&&!e(w)||e(g)?(t(),d(b,{key:2,class:"z-10 flex"},{title:i(()=>[A(L(o.isLinked?"Unlink":"Link"),1)]),default:i(()=>[m("button",{tabindex:"-1",class:C(["nc-list-item-link-unlink-btn p-1.5 flex rounded-lg transition-all",{"bg-gray-200 text-gray-800 hover:bg-red-100 hover:text-red-500":o.isLinked,"bg-green-[#D4F7E0] text-[#17803D] hover:bg-green-200":!o.isLinked}]),onClick:y[1]||(y[1]=a=>o.$emit("linkOrUnlink"))},[o.isLoading?(t(),l("div",De,[c(O,{class:"flex-none w-4 h-4 !text-brand-500 animate-spin"})])):(t(),d(I,{key:1,icon:o.isLinked?"minus":"plus",class:"flex-none w-4 h-4 !font-extrabold"},null,8,["icon"]))],2)]),_:1})):_("",!0)])]),_:1},8,["class"])])}}}),Be=se($e,[["__scopeId","data-v-d31181f3"]]);export{Be as default};
