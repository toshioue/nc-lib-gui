const __vite__fileDeps=["./B5rihkxQ.js","./DKhUGBot.js","./entry.B8GgT5QA.css","./ItBATpwr.js","./CX4Cv_ut.js","./DEJjMRn_.js","./BQQOEPN4.js","./DX_5E9FR.js","./BOlDoh1A.js","./CUg8TjpL.js","./Pagination.D7qN7qzC.css","./JdDANzIQ.js","./DGy9VVU7.js","./BTAX7aIF.js","./DO1hNe_j.js","./lyxpGZoZ.js","./boyBAVNN.js","./Ce4Hnuew.js","./DrSobHNn.js","./DFT4Rrrq.js","./P2GfGWnR.js","./u8rUVe3y.js","./DyY7ABnl.js","./BY49hpjj.js","./DgXVCOuO.js","./C9SskyTm.js","./B-qzO8jF.js","./Cz8K5PX4.js","./GPQ-Eg6I.js","./BpnlUwoJ.js","./CxxuE4Yq.js","./Bd_WsUAk.js","./D8UTY2yA.js","./BjDxmU3z.js","./UnLinkedItems.B3o594vW.css","./wnhftTZl.js","./B5mlyM8k.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as Z,bL as a,fG as q,dS as J,h_ as W,r as m,hw as X,hv as ee,aw as te,he as oe,az as ne,is as se,L as ae,fl as le,g,H as w,o as c,c as T,b as h,w as L,P as e,U as V,Q as j,S as y,a as A,T as E,aF as re,Y as P,Z as U,a5 as D,$ as ie,_ as ue}from"./DKhUGBot.js";import{_ as pe}from"./CqlgBdCJ.js";import{a as me}from"./DrSobHNn.js";import{u as ce}from"./JdDANzIQ.js";import{u as de}from"./BIe2oNDw.js";import"./Tw6PiqUh.js";import"./DGy9VVU7.js";import"./Ce4Hnuew.js";import"./DFT4Rrrq.js";import"./DO1hNe_j.js";import"./lyxpGZoZ.js";import"./boyBAVNN.js";import"./BTAX7aIF.js";import"./P2GfGWnR.js";import"./u8rUVe3y.js";import"./DyY7ABnl.js";import"./BY49hpjj.js";import"./DEJjMRn_.js";import"./CUg8TjpL.js";import"./DgXVCOuO.js";const _e=U(()=>D(()=>import("./B5rihkxQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(r=>r.default||r)),fe=U(()=>D(()=>import("./wnhftTZl.js"),__vite__mapDeps([35,36,1,2,37]),import.meta.url).then(r=>r.default||r)),ve={class:"flex items-center w-full"},we=Z({__name:"BelongsTo",async setup(r){let k,x;const l=a(q),z=a(W,J()),i=a(X,m(null)),B=a(ee),C=a(te),O=a(oe,m(!1)),S=a(ne,m(!1)),I=a(se,m(!1)),{isUIAllowed:$}=ae(),n=m(!1),u=m(!1),{state:d,isNew:_,removeLTARRef:N}=me(),{relatedTableMeta:F,loadRelatedTableMeta:H,relatedTableDisplayValueProp:f,relatedTableDisplayValuePropId:b,unlink:K}=ce(l,B,_,z.trigger);[k,x]=le(()=>H()),await k,x();const s=g(()=>{var t;return i!=null&&i.value?i==null?void 0:i.value:_.value?(t=d==null?void 0:d.value)==null?void 0:t[l==null?void 0:l.value.title]:null}),M=async t=>{_.value?await N(t,l==null?void 0:l.value):await K(t)};de(C,t=>{switch(t.key){case"Enter":n.value=!0,t.stopPropagation();break}});const R=g(()=>{var t,o;return(o=(t=F.value)==null?void 0:t.columns)==null?void 0:o.find(v=>v.title===f.value)});return w(n,()=>{u.value=n.value}),w(u,t=>{t||(n.value=!1)},{flush:"post"}),w(s,t=>{t&&(u.value=!1)}),(t,o)=>{const v=pe,G=ie,Q=_e,Y=fe;return c(),T("div",{class:E(["flex w-full chips-wrapper items-center",{active:e(C)}])},[h(Y,{"is-open":e(u),"onUpdate:isOpen":o[4]||(o[4]=p=>j(u)?u.value=p:null)},{overlay:L(()=>[e(n)?(c(),V(Q,{key:0,modelValue:e(n),"onUpdate:modelValue":o[3]||(o[3]=p=>j(n)?n.value=p:null),column:e(R),"hide-back-btn":""},null,8,["modelValue","column"])):y("",!0)]),default:L(()=>[A("div",ve,[A("div",{class:E(["nc-cell-field chips flex items-center flex-1",{"max-w-[calc(100%_-_16px)]":!e(I)}])},[e(s)&&(e(f)||e(b))?(c(),V(v,{key:0,item:e(s),value:!Array.isArray(e(s))&&typeof e(s)=="object"?e(s)[e(f)]??e(s)[e(b)]:e(s),column:e(R),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=p=>M(e(s)))},null,8,["item","value","column"])):y("",!0)],2),!e(O)&&(e($)("dataEdit")||e(S))&&!e(I)?(c(),T("div",{key:0,class:"flex-none flex group items-center min-w-4",tabindex:"0",onKeydown:o[2]||(o[2]=re(P(p=>n.value=!0,["stop"]),["enter"]))},[h(G,{icon:"plus",class:"flex-none select-none !text-md text-gray-700 nc-action-icon nc-plus invisible group-hover:visible group-focus:visible",onClick:o[1]||(o[1]=P(p=>n.value=!0,["stop"]))})],32)):y("",!0)])]),_:1},8,["is-open"])],2)}}}),Oe=ue(we,[["__scopeId","data-v-c4bb045d"]]);export{Oe as default};
