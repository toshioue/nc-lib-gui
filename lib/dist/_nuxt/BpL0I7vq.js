const __vite__fileDeps=["./BVHyv0aP.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./Co32XBKZ.js","./ByVBARmO.js","./BDAIZopQ.js","./VirtualCell.Dgszrgh-.css","./Dby8gS7l.js","./37hePIet.js","./C4K5fdHe.js","./Cell.CE2XxAOg.css","./BIhr-Z4C.js","./VirtualCell.BYk4C8Tn.css","./DG2ZH8TR.js","./CA74dF2b.js","./GMLocJHP.js","./qW2V2r_p.js","./boyBAVNN.js","./Cell.DUBzJZSm.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{o as t,c as l,a as d,e as J,az as z,r as _,ha as K,i1 as Q,bL as I,aD as W,ab as X,ba as Y,dz as q,hK as Z,f as D,iv as ee,c$ as te,M as ae,b as c,w as i,ao as v,N as e,at as E,Q as m,R as f,t as L,f$ as A,d as C,P as ne,W as oe,ju as le,S as $,X as h,a4 as y,Y as se,$ as re,fF as ie,_ as ce}from"./DZZ6t_j4.js";import{u as me}from"./RXURfzjs.js";import{i as de}from"./C00NHga8.js";import{k as ue}from"./BDAIZopQ.js";import{_ as pe}from"./CVMW45vd.js";const _e={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fe=d("path",{fill:"currentColor",d:"M12 4V2A10 10 0 0 0 2 12h2a8 8 0 0 1 8-8"},null,-1),he=[fe];function ye(n,o){return t(),l("svg",_e,[...he])}const xe={name:"mdi-loading",render:ye},ve=h(()=>y(()=>import("./BVHyv0aP.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(n=>n.default||n)),ge=h(()=>y(()=>import("./Co32XBKZ.js"),__vite__mapDeps([3,1,2,4,5,6]),import.meta.url).then(n=>n.default||n)),we=h(()=>y(()=>import("./Dby8gS7l.js"),__vite__mapDeps([7,1,2,8,9,10]),import.meta.url).then(n=>n.default||n)),be=h(()=>y(()=>import("./BIhr-Z4C.js"),__vite__mapDeps([11,1,2,4,9,12]),import.meta.url).then(n=>n.default||n)),ke=h(()=>y(()=>import("./DG2ZH8TR.js"),__vite__mapDeps([13,1,2,14,15,16,4,17,5,9,18]),import.meta.url).then(n=>n.default||n)),Ve={class:"nc-list-item-wrapper group px-[1px] hover:bg-gray-50 border-y-1 border-gray-200 border-t-transparent"},Ie={class:"flex items-center gap-3"},Le={key:0},Pe={key:1,class:"h-11 w-11 !min-h-11 !min-w-11 !max-h-11 !max-w-11 !flex flex-row items-center !rounded-l-xl justify-center"},Te={class:"flex-1 flex flex-col gap-1 justify-center overflow-hidden"},ze={class:"flex justify-start"},De={class:"font-semibold text-brand-500 nc-display-value truncate leading-[20px]"},Ee={key:0,class:"flex ml-[-0.25rem] sm:flex-row xs:flex-col xs:mt-2 gap-4 min-h-5"},Ae={key:0,class:"flex flex-col gap-[-1]"},Ce={class:"nc-link-record-cell flex w-full max-w-full"},$e={key:1,class:"flex flex-row w-full max-w-72 h-5 pl-1 items-center justify-start"},Re={key:1,class:"flex-none flex items-center w-7"},Fe={key:0,class:"flex"},je=J({__name:"ListItem",props:{row:{},fields:{},attachment:{},relatedTableDisplayValueProp:{},displayValueTypeAndFormatProp:{},isLoading:{type:Boolean,default:!1},isLinked:{type:Boolean}},emits:["expand","linkOrUnlink"],setup(n){const o=n;z(K,_(!0)),z(Q,_(1));const g=I(W,_(!1)),s=X(o,"row"),{isLinked:x,isLoading:P}=Y(o),w=I(q,_(!1)),b=I(Z,_(!1)),{getPossibleAttachmentSrc:R}=me(),k=D(()=>{try{return o.attachment&&s.value[o.attachment.title]?typeof s.value[o.attachment.title]=="string"?JSON.parse(s.value[o.attachment.title]):s.value[o.attachment.title]:[]}catch{return[]}}),F=D(()=>s.value[o.relatedTableDisplayValueProp]&&o.displayValueTypeAndFormatProp.type&&o.displayValueTypeAndFormatProp.format?ee(s.value[o.relatedTableDisplayValueProp],o.displayValueTypeAndFormatProp.format,o.displayValueTypeAndFormatProp.format!==te.Time):s.value[o.relatedTableDisplayValueProp]);return(r,u)=>{const j=ve,S=pe,T=se,U=ge,B=we,N=be,M=ke,V=re,O=xe,H=ie,G=ae("e");return t(),l("div",Ve,[c(H,{tabindex:"0",class:$(["nc-list-item !outline-none transition-all relative group-hover:bg-gray-50 cursor-auto",{"!bg-white":e(P),"!hover:bg-white":e(b)}]),"body-style":{padding:"6px 10px !important",borderRadius:0},hoverable:!1},{default:i(()=>[d("div",Ie,[r.attachment?(t(),l(v,{key:0},[e(k)&&e(k).length?(t(),l("div",Le,[c(S,{autoplay:"",class:"!w-11 !h-11 !max-h-11 !max-w-11"},{customPaging:i(()=>u[2]||(u[2]=[])),default:i(()=>[(t(!0),l(v,null,E(e(k),(a,p)=>(t(),l(v,null,[("isImage"in r?r.isImage:e(de))(a.title,a.mimetype??a.type)?(t(),m(j,{key:`carousel-${a.title}-${p}`,class:"!w-11 !h-11 !max-h-11 !max-w-11object-cover !rounded-l-xl",srcs:e(R)(a,"tiny")},null,8,["srcs"])):f("",!0)],64))),256))]),_:1})])):(t(),l("div",Pe,[c(T,{class:"w-full h-full !text-6xl !leading-10 !text-transparent rounded-lg",icon:"fileImage"})]))],64)):f("",!0),d("div",Te,[d("div",ze,[d("span",De,L(e(F)),1)]),r.fields.length>0&&!e(w)&&!e(g)?(t(),l("div",Ee,[(t(!0),l(v,null,E(r.fields,a=>(t(),l("div",{key:a.id,class:"sm:w-1/3 sm:max-w-1/3 sm:overflow-hidden"},[("isRowEmpty"in r?r.isRowEmpty:e(ue))({row:e(s)},a)?(t(),l("div",$e,"-")):(t(),l("div",Ae,[c(V,{class:"z-10 flex",placement:"bottomLeft","arrow-point-at-center":!1},{title:i(()=>[e(A)(a)?(t(),m(U,{key:0,class:"text-gray-100 !text-sm nc-link-record-cell-tooltip",column:a,"hide-menu":!0},null,8,["column"])):(t(),m(B,{key:1,class:"text-gray-100 !text-sm nc-link-record-cell-tooltip",column:a,"hide-menu":!0},null,8,["column"]))]),default:i(()=>[d("div",Ce,[e(A)(a)?(t(),m(N,{key:0,modelValue:e(s)[a.title],"onUpdate:modelValue":p=>e(s)[a.title]=p,row:e(s),column:a},null,8,["modelValue","onUpdate:modelValue","row","column"])):(t(),m(M,{key:1,modelValue:e(s)[a.title],"onUpdate:modelValue":p=>e(s)[a.title]=p,column:a,"edit-enabled":!1,"read-only":!0},null,8,["modelValue","onUpdate:modelValue","column"]))])]),_:2},1024)]))]))),128))])):f("",!0)]),!e(g)&&!e(w)&&!e(b)?(t(),l("div",Re,[c(V,{class:"flex"},{title:i(()=>[C(L(r.$t("title.expand")),1)]),default:i(()=>[ne((t(),l("button",{tabindex:-1,class:"z-10 flex items-center justify-center nc-expand-item !group-hover:visible !invisible !h-7 !w-7 transition-all !hover:children:w-4.5 !hover:children:h-4.5",onClick:u[0]||(u[0]=oe(a=>r.$emit("expand",e(s)),["stop"]))},[c(e(le),{class:"flex-none w-4 h-4 scale-125"})])),[[G,["c:row-expand:open"]]])]),_:1})])):f("",!0),!e(w)&&!e(b)||e(g)?(t(),m(V,{key:2,class:"z-10 flex"},{title:i(()=>[C(L(e(x)?"Unlink":"Link"),1)]),default:i(()=>[d("button",{tabindex:"-1",class:$(["nc-list-item-link-unlink-btn p-1.5 flex rounded-lg transition-all",{"bg-gray-200 text-gray-800 hover:bg-red-100 hover:text-red-500":e(x),"bg-green-[#D4F7E0] text-[#17803D] hover:bg-green-200":!e(x)}]),onClick:u[1]||(u[1]=a=>r.$emit("linkOrUnlink"))},[e(P)?(t(),l("div",Fe,[c(O,{class:"flex-none w-4 h-4 !text-brand-500 animate-spin"})])):(t(),m(T,{key:1,icon:e(x)?"minus":"plus",class:"flex-none w-4 h-4 !font-extrabold"},null,8,["icon"]))],2)]),_:1})):f("",!0)])]),_:1},8,["class"])])}}}),Oe=ce(je,[["__scopeId","data-v-e3cf7fcd"]]);export{Oe as default};
