const __vite__fileDeps=["./CWWVlA2w.js","./BLdk6lRf.js","./entry.B8GgT5QA.css","./ColGkCL0.js","./BrF0EXdL.js","./CBNgcPSC.js","./BQQOEPN4.js","./DTv03lbO.js","./C-Z2v8Hi.js","./BD_L_KCX.js","./Pagination.D7qN7qzC.css","./CDfEp2AO.js","./DTl_5Njz.js","./lY7N86Qy.js","./DoWzg9_J.js","./CSxPNiqH.js","./boyBAVNN.js","./CwqgNcWF.js","./BPK89SF_.js","./DV47GYLy.js","./BQZLjQkv.js","./DD6KJAAC.js","./JCToPTxN.js","./BLwY008C.js","./wBAlULwF.js","./lVny1V8X.js","./DRzWZSQU.js","./JimKVLH8.js","./DWFLnnq8.js","./BTh9o-aK.js","./ETGzLqdt.js","./CozY7RfR.js","./L-4v1RNB.js","./ByxI50E5.js","./UnLinkedItems.B3o594vW.css","./CsaHBUMC.js","./BaHXy0hV.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as Z,bL as a,fH as q,dS as J,h$ as W,r as m,hx as X,hw as ee,aw as te,hf as oe,az as ne,it as se,L as ae,fl as le,g,H as w,o as c,c as T,b as h,w as L,P as e,U as V,Q as j,S as y,a as A,T as E,aF as re,Y as P,Z as U,a5 as D,$ as ie,_ as ue}from"./BLdk6lRf.js";import{_ as pe}from"./By_HjLkt.js";import{a as me}from"./BPK89SF_.js";import{u as ce}from"./CDfEp2AO.js";import{u as de}from"./CdmoJR0j.js";import"./Da2OU9E7.js";import"./DTl_5Njz.js";import"./CwqgNcWF.js";import"./DV47GYLy.js";import"./DoWzg9_J.js";import"./CSxPNiqH.js";import"./boyBAVNN.js";import"./lY7N86Qy.js";import"./BQZLjQkv.js";import"./DD6KJAAC.js";import"./JCToPTxN.js";import"./BLwY008C.js";import"./CBNgcPSC.js";import"./BD_L_KCX.js";import"./wBAlULwF.js";const fe=U(()=>D(()=>import("./CWWVlA2w.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(r=>r.default||r)),_e=U(()=>D(()=>import("./CsaHBUMC.js"),__vite__mapDeps([35,36,1,2,37]),import.meta.url).then(r=>r.default||r)),ve={class:"flex items-center w-full"},we=Z({__name:"BelongsTo",async setup(r){let x,k;const l=a(q),z=a(W,J()),i=a(X,m(null)),B=a(ee),C=a(te),O=a(oe,m(!1)),S=a(ne,m(!1)),I=a(se,m(!1)),{isUIAllowed:$}=ae(),n=m(!1),u=m(!1),{state:d,isNew:f,removeLTARRef:H}=me(),{relatedTableMeta:N,loadRelatedTableMeta:F,relatedTableDisplayValueProp:_,relatedTableDisplayValuePropId:b,unlink:K}=ce(l,B,f,z.trigger);[x,k]=le(()=>F()),await x,k();const s=g(()=>{var t;return i!=null&&i.value?i==null?void 0:i.value:f.value?(t=d==null?void 0:d.value)==null?void 0:t[l==null?void 0:l.value.title]:null}),M=async t=>{f.value?await H(t,l==null?void 0:l.value):await K(t)};de(C,t=>{switch(t.key){case"Enter":n.value=!0,t.stopPropagation();break}});const R=g(()=>{var t,o;return(o=(t=N.value)==null?void 0:t.columns)==null?void 0:o.find(v=>v.title===_.value)});return w(n,()=>{u.value=n.value}),w(u,t=>{t||(n.value=!1)},{flush:"post"}),w(s,t=>{t&&(u.value=!1)}),(t,o)=>{const v=pe,G=ie,Q=fe,Y=_e;return c(),T("div",{class:E(["flex w-full chips-wrapper items-center",{active:e(C)}])},[h(Y,{"is-open":e(u),"onUpdate:isOpen":o[4]||(o[4]=p=>j(u)?u.value=p:null)},{overlay:L(()=>[e(n)?(c(),V(Q,{key:0,modelValue:e(n),"onUpdate:modelValue":o[3]||(o[3]=p=>j(n)?n.value=p:null),column:e(R),"hide-back-btn":""},null,8,["modelValue","column"])):y("",!0)]),default:L(()=>[A("div",ve,[A("div",{class:E(["nc-cell-field chips flex items-center flex-1",{"max-w-[calc(100%_-_16px)]":!e(I)}])},[e(s)&&(e(_)||e(b))?(c(),V(v,{key:0,item:e(s),value:!Array.isArray(e(s))&&typeof e(s)=="object"?e(s)[e(_)]??e(s)[e(b)]:e(s),column:e(R),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=p=>M(e(s)))},null,8,["item","value","column"])):y("",!0)],2),!e(O)&&(e($)("dataEdit")||e(S))&&!e(I)?(c(),T("div",{key:0,class:"flex-none flex group items-center min-w-4",tabindex:"0",onKeydown:o[2]||(o[2]=re(P(p=>n.value=!0,["stop"]),["enter"]))},[h(G,{icon:"plus",class:"flex-none select-none !text-md text-gray-700 nc-action-icon nc-plus invisible group-hover:visible group-focus:visible",onClick:o[1]||(o[1]=P(p=>n.value=!0,["stop"]))})],32)):y("",!0)])]),_:1},8,["is-open"])],2)}}}),Oe=ue(we,[["__scopeId","data-v-c4bb045d"]]);export{Oe as default};
