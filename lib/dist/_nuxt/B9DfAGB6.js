const __vite__fileDeps=["./6mcUywm-.js","./3QBYHahY.js","./entry.Ic44fwRn.css","./BSepFqtU.js","./BEpKpjF5.js","./CGxepfeV.js","./BQQOEPN4.js","./3ezdMRmZ.js","./DPgYHC40.js","./xnDaHwV-.js","./Pagination.D7qN7qzC.css","./BxvO7O59.js","./CSl6euFG.js","./DJaxC30e.js","./Bj2FvocX.js","./DPqnb67u.js","./boyBAVNN.js","./BYmqikBK.js","./T74iQZdg.js","./D4iSzjWt.js","./CryEDKiL.js","./CWtzMcwx.js","./DAKhk9t6.js","./Bk0xUMNV.js","./wEQwkVjR.js","./D2TOauTv.js","./HnlR1fDL.js","./kHOslGNR.js","./CmN9vPg3.js","./BsWDDIqE.js","./ceYq-xax.js","./DiVAloGI.js","./DEVpQDRz.js","./Giw8WUI1.js","./UnLinkedItems.C1GPHhk-.css","./bonmKy5q.js","./BH8oNBwT.js","./LinkedItems.Cz86hlsq.css","./D19lU_qo.js","./Kma333Sh.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as oe,bN as i,fP as ne,hO as ae,hN as le,dJ as se,ib as re,aF as ie,r as c,hq as ue,iG as me,L as ce,fb as pe,g as L,aC as de,H as P,o as s,S as v,w as U,P as e,Q as g,T as d,a as O,c as y,aq as z,av as _e,d2 as ve,b as fe,Y as B,Z as R,a6 as V,$ as ye,_ as he}from"./3QBYHahY.js";import{_ as ke}from"./CVqi9hyL.js";import{a as Ce}from"./T74iQZdg.js";import{u as we}from"./BxvO7O59.js";import{u as xe}from"./DGM-hiY9.js";import"./B7E-dSAd.js";import"./CSl6euFG.js";import"./BYmqikBK.js";import"./D4iSzjWt.js";import"./Bj2FvocX.js";import"./DPqnb67u.js";import"./boyBAVNN.js";import"./DJaxC30e.js";import"./CryEDKiL.js";import"./CWtzMcwx.js";import"./DAKhk9t6.js";import"./Bk0xUMNV.js";import"./CGxepfeV.js";import"./xnDaHwV-.js";import"./wEQwkVjR.js";const Ie=R(()=>V(()=>import("./6mcUywm-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(l=>l.default||l)),Le=R(()=>V(()=>import("./bonmKy5q.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,36,33,37]),import.meta.url).then(l=>l.default||l)),ge=R(()=>V(()=>import("./D19lU_qo.js"),__vite__mapDeps([38,39,1,2,40]),import.meta.url).then(l=>l.default||l)),Re={class:"nc-cell-field flex items-center gap-1 w-full chips-wrapper min-h-4"},Ve={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},be={key:0,class:"flex justify-end gap-1 min-h-4 items-center"},Ae=oe({__name:"HasMany",async setup(l){let b,A;const p=i(ne),u=i(ae),M=i(le),N=i(re,se()),S=i(ie),H=i(ue,c(!1)),h=i(me,c(!1)),o=c(!1),a=c(!1),m=c(!1),f=c(!1),{isUIAllowed:F}=ce(),{state:k,isNew:C,removeLTARRef:$}=Ce(),{relatedTableMeta:q,loadRelatedTableMeta:G,relatedTableDisplayValueProp:w,unlink:J}=we(p,M,C,N.trigger);[b,A]=pe(()=>G()),await b,A();const T=L(()=>{var t;return u!=null&&u.value?(u==null?void 0:u.value)??[]:C.value?((t=k==null?void 0:k.value)==null?void 0:t[p==null?void 0:p.value.title])??[]:[]}),j=L(()=>T.value.reduce((t,n)=>{if(!w.value)return t;const _=n[w.value];return[...t,{value:_,item:n}]},[])),K=async t=>{C.value?await $(t,p.value):await J(t)},x=L(()=>{var t,n;return(n=(t=q.value)==null?void 0:t.columns)==null?void 0:n.find(_=>_.title===w.value)}),Q=()=>{a.value=!1,o.value=!0,f.value=!1},Y=()=>{o.value=!1,a.value=!0},E=()=>{h.value||(a.value=!0,o.value=!1,m.value=!0,f.value=!1)},Z=()=>{h.value||(o.value=!0,a.value=!1,m.value=!0,f.value=!0)};return xe(i(de,c(!1)),t=>{switch(t.key){case"Enter":o.value=!0,t.stopPropagation();break}}),P([a,o],()=>{m.value=a.value||o.value}),P(m,t=>{t||(o.value=!1,a.value=!1)},{flush:"post"}),(t,n)=>{const _=ke,D=ye,W=Ie,X=Le,ee=ge;return s(),v(ee,{"is-open":e(m),"onUpdate:isOpen":n[2]||(n[2]=r=>g(m)?m.value=r:null)},{overlay:U(()=>[e(o)?(s(),v(W,{key:0,modelValue:e(o),"onUpdate:modelValue":n[0]||(n[0]=r=>g(o)?o.value=r:null),column:e(x),"hide-back-btn":e(f),onAttachLinkedRecord:Y},null,8,["modelValue","column","hide-back-btn"])):d("",!0),e(a)?(s(),v(X,{key:1,modelValue:e(a),"onUpdate:modelValue":n[1]||(n[1]=r=>g(a)?a.value=r:null),"cell-value":e(T),column:e(x),onAttachRecord:Q},null,8,["modelValue","cell-value","column"])):d("",!0)]),default:U(()=>{var r;return[O("div",Re,[O("div",Ve,[e(j)?(s(),y(z,{key:0},[(s(!0),y(z,null,_e(e(j),(I,te)=>(s(),v(_,{key:te,item:I.item,value:I.value,column:e(x),"show-unlink-button":!0,onUnlink:Te=>K(I.item)},null,8,["item","value","column","onUnlink"]))),128)),((r=e(u))==null?void 0:r.length)===10?(s(),y("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:E}," more... ")):d("",!0)],64)):d("",!0)]),!e(h)&&!e(ve)(e(p))?(s(),y("div",be,[fe(D,{icon:"expand",class:"select-none transform text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:B(E,["stop"])}),!e(H)&&e(F)("dataEdit")||e(S)?(s(),v(D,{key:0,icon:"plus",class:"select-none text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:B(Z,["stop"])})):d("",!0)])):d("",!0)])]}),_:1},8,["is-open"])}}}),Ze=he(Ae,[["__scopeId","data-v-47ddeda3"]]);export{Ze as default};
