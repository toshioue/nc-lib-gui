import{f as Me,az as oe,ay as Se,aA as st,r as A,gn as ot,g as $e,cr as G,aG as at,i as Ue,ae as J,o as d,c as y,a,b as l,w as c,P as t,Q as ae,U as g,S as x,aq as se,av as Ie,aa as Ce,d as p,t as r,T as C,gd as Q,X as lt,Y as nt,fl as H,R as ct,aH as rt,au as Te,aL as it,aj as dt,ak as pt,dc as ut,aM as _t,$ as Re,a1 as mt,a0 as ft,aN as yt,aO as vt,p as Le,e as ze,A as gt,_ as le,L as De,g1 as ht,H as bt,ge as xt,fZ as wt,eA as kt,fH as $t}from"./3QBYHahY.js";import{_ as It}from"./KpkGjOx_.js";import{u as Ct,_ as Tt,c as Dt,a as Mt,b as St}from"./jpVQnSic.js";import{_ as Ut}from"./DHsWytsD.js";import{_ as Rt}from"./DmzaAQYu.js";import{_ as Lt}from"./DdUr8XSo.js";import{_ as zt}from"./leimKhvx.js";import{_ as Et}from"./PcgFfkcK.js";import{_ as Nt}from"./Kma333Sh.js";import{_ as At}from"./BSepFqtU.js";import{_ as Bt}from"./BrEnaVC0.js";import{_ as Pt}from"./BkiSZLeF.js";import{_ as jt}from"./C95Svpv6.js";import{u as Ot}from"./CdQRhxEe.js";import{_ as Gt}from"./WrawXyJR.js";import"./kHOslGNR.js";import{I as Wt}from"./CmN9vPg3.js";import{S as Yt}from"./Giw8WUI1.js";import{_ as Vt}from"./2yzrrcqg.js";import"./S6k-HM05.js";import"./DiZ67kIC.js";import"./BsWDDIqE.js";import"./BQQOEPN4.js";import"./xnDaHwV-.js";import"./D7hrRKCy.js";import"./BEpKpjF5.js";import"./CGxepfeV.js";import"./3ezdMRmZ.js";import"./DPgYHC40.js";import"./BKGO7k13.js";import"./boyBAVNN.js";import"./BHEjdcp1.js";import"./C726Gdw3.js";import"./CSl6euFG.js";import"./CWtzMcwx.js";import"./C00NHga8.js";import"./DgfVJyEd.js";import"./G4Pt-Lbf.js";import"./DAKhk9t6.js";import"./Bk0xUMNV.js";import"./wEQwkVjR.js";import"./DbU9XkQ5.js";import"./CPUhUHn0.js";import"./ceYq-xax.js";import"./DD1BMgnW.js";import"./CyuhXrst.js";import"./CJ26qO3d.js";import"./CsJPQclb.js";import"./B4uVmeYG.js";import"./DEVpQDRz.js";const w=$=>(Le("data-v-7ff54616"),$=$(),ze(),$),Kt={class:"h-full flex flex-col gap-6 nc-workspace-connections"},Qt={class:"flex flex-col justify-between gap-2 mx-1"},qt=w(()=>a("div",{class:"text-sm font-normal text-gray-600"},[a("div",null,[p(" Manage connections for your integrations. "),a("a",{target:"_blank",href:"https://docs.nocodb.com/integrations/actions-on-connection",rel:"noopener noreferrer"}," Learn more ")])],-1)),Ft={class:"flex items-center gap-3"},Xt={class:"table-container relative flex-1"},Zt={class:"!sticky top-0 z-5 w-full"},Jt=w(()=>a("div",null,"Name",-1)),Ht={class:"flex items-center gap-3"},es=w(()=>a("div",null,"Type",-1)),ts={class:"flex items-center gap-3"},ss=w(()=>a("div",null,"Date added",-1)),os={class:"flex items-center gap-3"},as=w(()=>a("div",null,"Added by",-1)),ls={class:"flex items-center gap-3"},ns=w(()=>a("div",null,"Usage",-1)),cs=w(()=>a("th",{class:"cell-actions"},[a("div",null,"Actions")],-1)),rs={key:0,class:"h-full max-h-[calc(100%_-_55px)] w-full"},is=["onClick"],ds={class:"cell-title"},ps={key:0},us={class:"cell-type"},_s={class:"cell-created-date"},ms={class:"cell-added-by"},fs={key:0,class:"w-full flex gap-3 items-center"},ys={class:"flex-1 flex flex-col max-w-[calc(100%_-_44px)]"},vs={class:"w-full flex gap-3"},gs={key:1,class:"w-full truncate text-gray-500"},hs={class:"cell-usage"},bs={class:"justify-end"},xs={class:"flex items-center justify-center absolute left-0 top-0 w-full h-full z-10 pb-10 pointer-events-none"},ws={class:"flex flex-col justify-center items-center gap-2"},ks={class:"text-center"},$s={key:0,class:"flex-none integration-table-empty flex items-center justify-center py-8 px-6 h-full max-h-[calc(100%_-_94px)]"},Is={key:0,class:"px-2 py-6 text-gray-500 flex flex-col items-center gap-6 text-center"},Cs=w(()=>a("img",{src:Gt,class:"!w-[164px] flex-none",alt:"No search results found"},null,-1)),Ts={key:1,class:"flex-none text-center flex flex-col items-center gap-3"},Ds={class:"flex justify-between items-center w-full px-6"},Ms=w(()=>a("div",null," ",-1)),Ss={class:"text-gray-500 text-xs"},Us={class:"rounded-lg overflow-hidden"},Rs={class:"rounded-lg overflow-hidden mt-2"},Ls={key:1,class:"w-full flex flex-col text-gray-800"},zs={class:"flex flex-row items-center py-2 px-3.25 bg-gray-50 rounded-lg text-gray-700 mb-4"},Es={class:"text-ellipsis overflow-hidden select-none w-full pl-3",style:{wordBreak:"keep-all",whiteSpace:"nowrap",display:"inline"}},Ns={key:0,class:"flex flex-col pb-2 text-small leading-[18px] text-gray-500"},As=w(()=>a("div",{class:"mb-1"},"Following external data sources using this connection will also be removed",-1)),Bs={class:"!list-disc ml-6 mb-0"},Ps={class:"flex items-center gap-1"},js={class:"flex items-center"},Os=w(()=>a("div",{class:"mt-2"},"Do you want to proceed anyway?",-1)),Gs={class:"flex gap-4"},Ws={class:"flex flex-col gap-3"},Ys={class:"flex"},Vs={class:"!m-0 text-base font-weight-700 flex-1"},Ks={class:"text-sm text-gray-700"},Qs=w(()=>a("a",{target:"_blank",href:"https://docs.nocodb.com/data-sources/connect-to-data-source/",rel:"noopener noreferrer"}," Learn more ",-1)),qs=Me({__name:"ConnectionsTab",setup($){const{integrations:T,isLoadingIntegrations:D,deleteConfirmText:ee,integrationPaginationData:v,successConfirmModal:S,searchQuery:B,loadIntegrations:W,deleteIntegration:R,editIntegration:q,duplicateIntegration:L,getIntegration:u}=Ct(),{$api:P,$e:Y}=gt();oe(Se());const{bases:V}=oe(st()),j=A(!1),b=A(null),O=A(!1),U=A(),F=A(),i=A({}),z=A([]),{width:Ee}=ot(F),h=$e(()=>{var o;const e=new Map;return(o=z.value)==null||o.forEach(n=>{n!=null&&n.id&&e.set(n.id,n)}),e}),I=$e(()=>(T.value||[]).sort((e,o)=>{var n,m,_,k;if(i.value.title){if(e.title&&o.title)return i.value.title==="asc"?e.title<o.title?-1:1:e.title>o.title?-1:1}else if(i.value.sub_type){if(e.sub_type&&o.sub_type)return i.value.sub_type==="asc"?e.sub_type<o.sub_type?-1:1:e.sub_type>o.sub_type?-1:1}else if(i.value.created_at){if(e!=null&&e.created_at&&(o!=null&&o.created_at))return i.value.created_at==="asc"?G(e.created_at).local().isBefore(G(o.created_at).local())?-1:1:G(e.created_at).local().isAfter(G(o.created_at).local())?-1:1}else if(i.value.created_by){if(e.created_by&&o.created_by&&h.value.get(e.created_by)&&h.value.get(o.created_by))return i.value.created_by==="asc"?((n=h.value.get(e.created_by))==null?void 0:n.email)<((m=h.value.get(o.created_by))==null?void 0:m.email)?-1:1:((_=h.value.get(e.created_by))==null?void 0:_.email)>((k=h.value.get(o.created_by))==null?void 0:k.email)?-1:1}else if(i.value.source_count&&e.source_count!==void 0&&o.source_count!==void 0)return i.value.source_count==="asc"?e.source_count-o.source_count:o.source_count-e.source_count;return 0}));async function X(e=v.value.page,o=v.value.pageSize,n=!0){try{n&&(v.value.page=1),await W(void 0,void 0,n?1:e,o)}catch{}}const Ne=async e=>{v.value.page=e,await X(void 0,void 0,!1)},{onLeft:Ae,onRight:Be,onUp:Pe,onDown:je}=Ot({paginationDataRef:v,changePage:Ne,isViewDataLoading:D}),Oe=async e=>{O.value=!0,Y("c:integration:delete"),ee.value=null,j.value=!0,b.value=e;const o=await u(e,{includeSources:!0});b.value.sources=(o==null?void 0:o.sources)||[],O.value=!1},Ge=async()=>{var o;if(await R(b.value,!0))for(const n of((o=b.value)==null?void 0:o.sources)||[]){if(!n.base_id||!n.id||n.base_id&&!V.value.get(n.base_id))continue;const m=V.value.get(n.base_id);Array.isArray(m==null?void 0:m.sources)&&V.value.set(n.base_id,{...m||{},sources:[...m.sources.filter(_=>_.id!==n.id)]})}},We=async()=>{try{const e=await P.orgUsers.list();if(!(e!=null&&e.list))return;z.value=e.list}catch(e){dt.error(await pt(e))}},K=e=>{var o,n,m;(o=T.value)!=null&&o.length&&(((n=i.value)==null?void 0:n[e])==="asc"?i.value={[e]:"desc"}:((m=i.value)==null?void 0:m[e])==="desc"?i.value={[e]:void 0}:i.value={[e]:"asc"})},Ye=ut(()=>{X()},250),Z=()=>_t()?"⌥":"ALT",M=e=>{var o;return e?!((o=h.value.get(e))!=null&&o.email):!1},ne=e=>{var o,n,m,_,k;return((o=h.value.get(e))==null?void 0:o.display_name)||((k=(n=h.value.get(e))==null?void 0:n.email)==null?void 0:k.slice(0,(_=(m=h.value.get(e))==null?void 0:m.email)==null?void 0:_.indexOf("@")))};return at(U,"scroll",()=>{var n,m,_,k;const e=(n=U.value)==null?void 0:n.querySelector("th.cell-title"),o=(m=U.value)==null?void 0:m.querySelector("th.cell-type");!(e!=null&&e.getBoundingClientRect().right)||!(o!=null&&o.getBoundingClientRect().left)||((o==null?void 0:o.getBoundingClientRect().left)<(e==null?void 0:e.getBoundingClientRect().right)?(_=U.value)==null||_.classList.add("sticky-shadow"):(k=U.value)==null||k.classList.remove("sticky-shadow"))}),Ue(async()=>{await Promise.allSettled([!T.value.length&&W(),We()])}),J("ArrowLeft",Ae),J("ArrowRight",Be),J("ArrowUp",Pe),J("ArrowDown",je),(e,o)=>{var de,pe,ue,_e,me,fe,ye,ve,ge,he,be,xe,we,ke;const n=Re,m=Wt,_=mt,k=Ut,ce=Tt,Ve=Rt,re=ft,te=Lt,Ke=zt,Qe=Et,qe=Nt,Fe=yt,Xe=Te,Ze=At,ie=Yt,Je=vt,He=Bt,et=Pt,tt=jt;return d(),y("div",Kt,[a("div",Qt,[qt,a("div",Ft,[l(m,{value:t(B),"onUpdate:value":o[0]||(o[0]=s=>ae(B)?B.value=s:null),type:"text",class:"nc-search-integration-input !min-w-[300px] !max-w-[400px] nc-input-sm flex-none",placeholder:`${e.$t("general.search")} ${e.$t("general.connections").toLowerCase()}`,"allow-clear":"",onInput:t(Ye)},{prefix:c(()=>[l(n,{icon:"search",class:"mr-2 h-4 w-4 text-gray-500"})]),_:1},8,["value","placeholder","onInput"])])]),a("div",Xt,[a("div",{ref_key:"tableWrapper",ref:U,class:g(["nc-workspace-integration-table relative nc-scrollbar-thin !overflow-auto max-h-[calc(100%_-_40px)]",{"h-full":(de=t(I))==null?void 0:de.length}])},[a("table",Zt,[a("thead",null,[a("tr",null,[a("th",{class:g(["cell-title !hover:bg-gray-100 select-none cursor-pointer",{"cursor-not-allowed":!((pe=t(I))!=null&&pe.length),"!text-gray-700":t(i).title}]),onClick:o[1]||(o[1]=s=>K("title"))},[a("div",{ref_key:"titleHeaderCellRef",ref:F,class:"flex items-center gap-3"},[Jt,t(i).title?(d(),x(n,{key:0,icon:"chevronDown",class:g(["flex-none",{"transform rotate-180":((ue=t(i))==null?void 0:ue.title)==="asc"}])},null,8,["class"])):(d(),x(n,{key:1,icon:"chevronUpDown",class:"flex-none"}))],512)],2),a("th",{class:g(["cell-type !hover:bg-gray-100 select-none cursor-pointer",{"cursor-not-allowed":!((_e=t(I))!=null&&_e.length),"!text-gray-700":t(i).sub_type}]),onClick:o[2]||(o[2]=s=>K("sub_type"))},[a("div",Ht,[es,t(i).sub_type?(d(),x(n,{key:0,icon:"chevronDown",class:g(["flex-none",{"transform rotate-180":t(i).sub_type==="asc"}])},null,8,["class"])):(d(),x(n,{key:1,icon:"chevronUpDown",class:"flex-none"}))])],2),a("th",{class:g(["cell-created-date !hover:bg-gray-100 select-none cursor-pointer",{"cursor-not-allowed":!((me=t(I))!=null&&me.length),"!text-gray-700":t(i).created_at}]),onClick:o[3]||(o[3]=s=>K("created_at"))},[a("div",ts,[ss,t(i).created_at?(d(),x(n,{key:0,icon:"chevronDown",class:g(["flex-none",{"transform rotate-180":t(i).created_at==="asc"}])},null,8,["class"])):(d(),x(n,{key:1,icon:"chevronUpDown",class:"flex-none"}))])],2),a("th",{class:g(["cell-added-by !hover:bg-gray-100 select-none cursor-pointer",{"cursor-not-allowed":!((fe=t(I))!=null&&fe.length),"!text-gray-700":t(i).created_by}]),onClick:o[4]||(o[4]=s=>K("created_by"))},[a("div",os,[as,t(i).created_by?(d(),x(n,{key:0,icon:"chevronDown",class:g(["flex-none",{"transform rotate-180":t(i).created_by==="asc"}])},null,8,["class"])):(d(),x(n,{key:1,icon:"chevronUpDown",class:"flex-none"}))])],2),a("th",{class:g(["cell-usage !hover:bg-gray-100 select-none cursor-pointer",{"cursor-not-allowed":!((ye=t(I))!=null&&ye.length)}]),onClick:o[5]||(o[5]=s=>K("source_count"))},[a("div",ls,[ns,(ve=t(i))!=null&&ve.source_count?(d(),x(n,{key:0,icon:"chevronDown",class:g(["flex-none",{"transform rotate-180":((ge=t(i))==null?void 0:ge.source_count)==="asc"}])},null,8,["class"])):(d(),x(n,{key:1,icon:"chevronUpDown",class:"flex-none"}))])],2),cs])])]),(he=t(I))!=null&&he.length?(d(),y("table",rs,[a("tbody",null,[(d(!0),y(se,null,Ie(t(I),s=>(d(),y("tr",{key:s.id,onClick:f=>t(q)(s)},[a("td",ds,[a("div",{class:"gap-3",style:Ce({maxWidth:`${t(Ee)}px`})},[l(_,{placement:"bottom",class:"truncate","show-on-truncate-only":""},{title:c(()=>[p(r(s.title),1)]),default:c(()=>[p(" "+r(s.title),1)]),_:2},1024),s.is_private?(d(),y("span",ps,[l(k,{border:!1,class:"text-primary !h-4.5 bg-brand-50 text-xs"},{default:c(()=>[p(r(e.$t("general.private")),1)]),_:1})])):C("",!0)],4)]),a("td",us,[a("div",null,[l(k,{rounded:"lg",class:"flex items-center gap-2 px-0 py-1 !h-7 truncate !border-transparent"},{default:c(()=>[l(ce,{type:s.sub_type},null,8,["type"]),l(_,{placement:"bottom","show-on-truncate-only":"",class:"text-sm truncate"},{title:c(()=>{var f;return[p(r(((f=("clientTypesMap"in e?e.clientTypesMap:t(Q))[s==null?void 0:s.sub_type])==null?void 0:f.text)||(s==null?void 0:s.sub_type)),1)]}),default:c(()=>{var f;return[p(" "+r(s.sub_type&&("clientTypesMap"in e?e.clientTypesMap:t(Q))[s.sub_type]?(f=("clientTypesMap"in e?e.clientTypesMap:t(Q))[s.sub_type])==null?void 0:f.text:s.sub_type),1)]}),_:2},1024)]),_:2},1024)])]),a("td",_s,[a("div",null,[l(_,{placement:"bottom","show-on-truncate-only":""},{title:c(()=>[p(r(t(G)(s.created_at).local().format("DD MMM YYYY")),1)]),default:c(()=>[p(" "+r(t(G)(s.created_at).local().format("DD MMM YYYY")),1)]),_:2},1024)])]),a("td",ms,[a("div",null,[l(_,{disabled:!M(s.created_by),class:"w-full"},{title:c(()=>[p(r(`User not part of this ${("isEeUI"in e?e.isEeUI:t(lt))?"workspace":"organisation"} anymore`),1)]),default:c(()=>{var f,E;return[s.created_by&&((f=t(h).get(s.created_by))!=null&&f.email)?(d(),y("div",fs,[l(Ve,{email:(E=t(h).get(s.created_by))==null?void 0:E.email,size:"base",class:g(["flex-none",{"!grayscale":M(s.created_by)}]),style:Ce(M(s.created_by)?{filter:"grayscale(100%) brightness(115%)"}:{})},null,8,["email","class","style"]),a("div",ys,[a("div",vs,[l(_,{class:g(["text-sm !leading-5 capitalize font-semibold truncate",{"text-gray-800":!M(s.created_by),"text-gray-500":M(s.created_by)}]),disabled:M(s.created_by),"show-on-truncate-only":"",placement:"bottom"},{title:c(()=>[p(r(ne(s.created_by)),1)]),default:c(()=>[p(" "+r(ne(s.created_by)),1)]),_:2},1032,["class","disabled"])]),l(_,{class:g(["text-xs !leading-4 truncate",{"text-gray-600":!M(s.created_by),"text-gray-500":M(s.created_by)}]),disabled:M(s.created_by),"show-on-truncate-only":"",placement:"bottom"},{title:c(()=>{var N;return[p(r((N=t(h).get(s.created_by))==null?void 0:N.email),1)]}),default:c(()=>{var N;return[p(" "+r((N=t(h).get(s.created_by))==null?void 0:N.email),1)]}),_:2},1032,["class","disabled"])])])):(d(),y("div",gs,r(s.created_by),1))]}),_:2},1032,["disabled"])])]),a("td",hs,[a("div",null,r((s==null?void 0:s.source_count)??0),1)]),a("td",{class:"cell-actions",onClick:o[6]||(o[6]=nt(()=>{},["stop"]))},[a("div",bs,[l(qe,{placement:"bottomRight"},{overlay:c(()=>[l(Qe,null,{default:c(()=>[l(te,{onClick:f=>t(q)(s)},{default:c(()=>[l(n,{class:"text-gray-800",icon:"edit"}),a("span",null,r(e.$t("general.edit")),1)]),_:2},1032,["onClick"]),l(_,{disabled:(s==null?void 0:s.sub_type)!==("ClientType"in e?e.ClientType:t(H)).SQLITE},{title:c(()=>{var f;return[p(" Not allowed for type "+r(s.sub_type&&("clientTypesMap"in e?e.clientTypesMap:t(Q))[s.sub_type]?(f=("clientTypesMap"in e?e.clientTypesMap:t(Q))[s.sub_type])==null?void 0:f.text:s.sub_type),1)]}),default:c(()=>[l(te,{disabled:(s==null?void 0:s.sub_type)===("ClientType"in e?e.ClientType:t(H)).SQLITE,onClick:f=>t(L)(s)},{default:c(()=>[l(n,{class:g({"text-current":(s==null?void 0:s.sub_type)===("ClientType"in e?e.ClientType:t(H)).SQLITE,"text-gray-800":(s==null?void 0:s.sub_type)!==("ClientType"in e?e.ClientType:t(H)).SQLITE}),icon:"duplicate"},null,8,["class"]),a("span",null,r(e.$t("general.duplicate")),1)]),_:2},1032,["disabled","onClick"])]),_:2},1032,["disabled"]),l(Ke),l(te,{class:"!text-red-500 !hover:bg-red-50",onClick:f=>Oe(s)},{default:c(()=>[l(n,{icon:"delete"}),p(" "+r(e.$t("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:c(()=>[l(re,{size:"small",type:"secondary"},{default:c(()=>[l(n,{icon:"threeDotVertical"})]),_:1})]),_:2},1024)])])],8,is))),128))])])):C("",!0)],2),ct(a("div",xs,[a("div",ws,[l(Fe,{size:"xlarge"}),a("span",ks,r(e.$t("general.loading")),1)])],512),[[rt,t(D)]]),!t(D)&&(!((be=t(T))!=null&&be.length)||!t(I).length)?(d(),y("div",$s,[(xe=t(T))!=null&&xe.length&&!t(I).length?(d(),y("div",Is,[Cs,p(" "+r(e.$t("title.noResultsMatchedYourSearch")),1)])):(d(),y("div",Ts,[l(Xe,{image:("Empty"in e?e.Empty:t(Te)).PRESENTED_IMAGE_SIMPLE,description:e.$t("labels.noData"),class:"!my-0"},null,8,["image","description"])]))])):C("",!0),t(v).totalRows?(d(),y("div",{key:1,class:g(["flex flex-row justify-center items-center bg-gray-50 min-h-10",{"pointer-events-none":t(D)}])},[a("div",Ds,[Ms,l(Ze,{current:t(v).page,"onUpdate:current":[o[7]||(o[7]=s=>t(v).page=s),o[9]||(o[9]=s=>X(void 0,void 0,!1))],"page-size":t(v).pageSize,"onUpdate:pageSize":[o[8]||(o[8]=s=>t(v).pageSize=s),o[10]||(o[10]=s=>X(t(v).page,s,!1))],total:+t(v).totalRows,"show-size-changer":"","use-stored-page-size":!1,"prev-page-tooltip":`${Z()}+←`,"next-page-tooltip":`${Z()}+→`,"first-page-tooltip":`${Z()}+↓`,"last-page-tooltip":`${Z()}+↑`},null,8,["current","page-size","total","prev-page-tooltip","next-page-tooltip","first-page-tooltip","last-page-tooltip"]),a("div",Ss,r(t(v).totalRows)+" "+r(t(v).totalRows===1?"record":"records"),1)])],2)):C("",!0)]),l(et,{visible:t(j),"onUpdate:visible":o[11]||(o[11]=s=>ae(j)?j.value=s:null),"entity-name":e.$t("general.connection"),"on-delete":Ge,"delete-label":e.$t("general.delete"),"show-default-delete-msg":!t(O)&&!((ke=(we=t(b))==null?void 0:we.sources)!=null&&ke.length)},{"entity-preview":c(()=>{var s,f;return[t(O)?(d(),y(se,{key:0},[a("div",Us,[l(ie,{active:"",class:"h-9 !rounded-md !w-full"})]),a("div",Rs,[l(ie,{active:"",class:"h-9 !rounded-md !w-full"})])],64)):t(b)?(d(),y("div",Ls,[a("div",zs,[l(ce,{type:t(b).sub_type},null,8,["type"]),a("div",Es,r(t(b).title),1)]),(f=(s=t(b))==null?void 0:s.sources)!=null&&f.length?(d(),y("div",Ns,[As,a("ul",Bs,[(d(!0),y(se,null,Ie(t(b).sources,(E,N)=>(d(),y("li",{key:N,class:"marker:text-gray-500 !marker:flex !marker:items-center !!marker:-mt-1"},[a("div",Ps,[a("div",js,[p("   "),l(Je,{type:"database",class:"!grayscale min-w-4 flex-none -ml-1",style:{filter:"grayscale(100%) brightness(115%)"}})]),l(_,{class:"!truncate !max-w-[45%] flex-none","show-on-truncate-only":""},{title:c(()=>[p(r(E.project_title),1)]),default:c(()=>[p(" "+r(E.project_title),1)]),_:2},1024),p(" > "),l(He,{class:"!grayscale min-w-4 flex-none",style:{filter:"grayscale(100%) brightness(115%)"}}),l(_,{class:"truncate !max-w-[45%] capitalize","show-on-truncate-only":""},{title:c(()=>[p(r(E.alias),1)]),default:c(()=>[p(" "+r(E.alias),1)]),_:2},1024)])]))),128))]),Os])):C("",!0)])):C("",!0)]}),_:1},8,["visible","entity-name","delete-label","show-default-delete-msg"]),l(tt,{visible:t(S).isOpen,"onUpdate:visible":o[13]||(o[13]=s=>t(S).isOpen=s),centered:"",size:"small",onKeydown:o[14]||(o[14]=it(s=>t(S).isOpen=!1,["esc"]))},{default:c(()=>[a("div",Gs,[a("div",null,[l(n,{icon:"circleCheckSolid",class:"flex-none !text-green-700 mt-0.5 !h-6 !w-6"})]),a("div",Ws,[a("div",Ys,[a("h3",Vs,r(t(S).title),1),l(re,{size:"xsmall",type:"text",onClick:o[12]||(o[12]=s=>t(S).isOpen=!1)},{default:c(()=>[l(n,{icon:"close",class:"text-gray-600"})]),_:1})]),a("div",Ks,r(t(S).description),1),Qs])])]),_:1},8,["visible"])])}}}),Fs=le(qs,[["__scopeId","data-v-7ff54616"]]),Xs=$=>(Le("data-v-202a565d"),$=$(),ze(),$),Zs={key:0,class:"flex w-full flex-col nc-workspace-integrations"},Js={class:"flex gap-2 items-center min-w-0 p-2 h-[var(--topbar-height)] border-b-1 border-gray-200"},Hs={class:"flex-1 nc-breadcrumb nc-no-negative-margin pl-1"},eo={class:"nc-breadcrumb-item capitalize"},to={class:"nc-breadcrumb-item active"},so=Xs(()=>a("div",{class:"w-3"},null,-1)),oo={class:"tab-title","data-testid":"nc-workspace-settings-tab-integrations"},ao={class:"h-[calc(100vh-92px)]"},lo={class:"tab-title","data-testid":"nc-workspace-settings-tab-integrations"},no={class:"h-[calc(100vh-92px)] p-6"},co=Me({__name:"view",setup($){const{isUIAllowed:T}=De(),D=Se(),{loadRoles:ee}=De(),{activeWorkspace:v}=oe(D),{loadCollaborators:S}=D,{isFromIntegrationPage:B,integrationPaginationData:W,activeViewTab:R,loadIntegrations:q}=Dt(),L=ht(async()=>{var u;return await ee(void 0,{},(u=v.value)==null?void 0:u.id),v.value});return bt(()=>{var u;return(u=L.value)==null?void 0:u.title},u=>{if(!u)return;const P=u.charAt(0).toUpperCase()+u.slice(1);xt(P)},{immediate:!0}),Ue(()=>{B.value=!0,wt(()=>{var u;return(u=L.value)==null?void 0:u.id}).toMatch(u=>!!u).then(async()=>{await Promise.all([S({includeDeleted:!0},L.value.id),q()])})}),kt(()=>{B.value=!1}),(u,P)=>{var i;const Y=Re,V=It,j=Mt,b=$t,O=Fs,U=Vt,F=St;return t(L)?(d(),y("div",Zs,[a("div",Js,[a("div",Hs,[a("div",eo,r((i=t(L))==null?void 0:i.title),1),l(Y,{icon:"ncSlash1",class:"nc-breadcrumb-divider"}),a("h1",to,r(u.$t("general.integrations")),1)]),l(V)]),l(U,{activeKey:t(R),"onUpdate:activeKey":P[0]||(P[0]=z=>ae(R)?R.value=z:null)},{leftExtra:c(()=>[so]),default:c(()=>[t(T)("workspaceIntegrations")?(d(),x(b,{key:"integrations",class:"w-full"},{tab:c(()=>[a("div",oo,[l(Y,{icon:"integration"}),p(" "+r(u.$t("general.integrations")),1)])]),default:c(()=>[a("div",ao,[l(j)])]),_:1})):C("",!0),t(T)("workspaceIntegrations")?(d(),x(b,{key:"connections",class:"w-full"},{tab:c(()=>{var z;return[a("div",lo,[l(Y,{icon:"gitCommit"}),p(" "+r(u.$t("general.connections"))+" ",1),(z=t(W))!=null&&z.totalRows?(d(),y("div",{key:0,class:g(["tab-info flex-none",{"bg-primary-selected":t(R)==="connections","bg-gray-50":t(R)!=="connections"}])},r(t(W).totalRows),3)):C("",!0)])]}),default:c(()=>[a("div",no,[l(O)])]),_:1})):C("",!0)]),_:1},8,["activeKey"]),l(F)])):C("",!0)}}}),ro=le(co,[["__scopeId","data-v-202a565d"]]),io={};function po($,T){const D=ro;return d(),x(D)}const ra=le(io,[["render",po]]);export{ra as default};
