const __vite__fileDeps=["./IGu0Zjkh.js","./BLdk6lRf.js","./entry.B8GgT5QA.css","./ColGkCL0.js","./BrF0EXdL.js","./CBNgcPSC.js","./BQQOEPN4.js","./DTv03lbO.js","./C-Z2v8Hi.js","./BD_L_KCX.js","./Pagination.D7qN7qzC.css","./CDfEp2AO.js","./DTl_5Njz.js","./lY7N86Qy.js","./DoWzg9_J.js","./CSxPNiqH.js","./boyBAVNN.js","./CwqgNcWF.js","./BPK89SF_.js","./DV47GYLy.js","./BQZLjQkv.js","./DD6KJAAC.js","./JCToPTxN.js","./BLwY008C.js","./wBAlULwF.js","./lVny1V8X.js","./JimKVLH8.js","./DWFLnnq8.js","./BTh9o-aK.js","./ETGzLqdt.js","./CozY7RfR.js","./L-4v1RNB.js","./COuU2_EE.js","./ByxI50E5.js","./LinkedItems.BYmrEeHr.css","./CWWVlA2w.js","./DRzWZSQU.js","./UnLinkedItems.B3o594vW.css","./CsaHBUMC.js","./BaHXy0hV.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as oe,bL as i,fH as ne,hw as ae,hx as le,dS as se,h$ as re,az as ie,r as m,hf as ue,it as me,L as ce,fl as pe,g,aw as de,H as P,o as s,U as v,w as z,P as t,Q as R,S as p,a as M,c as y,al as O,am as _e,Y as V,b as ve,Z as T,a5 as b,$ as fe,_ as ye}from"./BLdk6lRf.js";import{_ as he}from"./By_HjLkt.js";import{a as ke}from"./BPK89SF_.js";import{u as we}from"./CDfEp2AO.js";import{u as xe}from"./CdmoJR0j.js";import"./Da2OU9E7.js";import"./DTl_5Njz.js";import"./CwqgNcWF.js";import"./DV47GYLy.js";import"./DoWzg9_J.js";import"./CSxPNiqH.js";import"./boyBAVNN.js";import"./lY7N86Qy.js";import"./BQZLjQkv.js";import"./DD6KJAAC.js";import"./JCToPTxN.js";import"./BLwY008C.js";import"./CBNgcPSC.js";import"./BD_L_KCX.js";import"./wBAlULwF.js";const Ce=T(()=>b(()=>import("./IGu0Zjkh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(l=>l.default||l)),Le=T(()=>b(()=>import("./CWWVlA2w.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,36,26,27,28,29,30,31,33,37]),import.meta.url).then(l=>l.default||l)),Ie=T(()=>b(()=>import("./CsaHBUMC.js"),__vite__mapDeps([38,39,1,2,40]),import.meta.url).then(l=>l.default||l)),ge={class:"flex items-center gap-1 w-full chips-wrapper min-h-4"},Re={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},Ve={key:0,class:"flex justify-end gap-1 min-h-4 items-center"},Te=oe({__name:"ManyToMany",async setup(l){let A,j;const d=i(ne),B=i(ae),c=i(le),S=i(re,se()),H=i(ie),N=i(ue,m(!1)),h=i(me,m(!1)),o=m(!1),a=m(!1),u=m(!1),f=m(!1),{isUIAllowed:$}=ce(),{state:k,isNew:w,removeLTARRef:F}=ke(),{relatedTableMeta:G,loadRelatedTableMeta:K,relatedTableDisplayValueProp:x,unlink:Q}=we(d,B,w,S.trigger);[A,j]=pe(()=>K()),await A,j();const E=g(()=>{var e;return c!=null&&c.value?(c==null?void 0:c.value)??[]:w.value?((e=k==null?void 0:k.value)==null?void 0:e[d==null?void 0:d.value.title])??[]:[]}),C=g(()=>E.value.reduce((e,n)=>{if(!x.value)return e;const _=n[x.value];return[...e,{value:_,item:n}]},[])),Y=async e=>{w.value?await F(e,d.value):await Q(e)},Z=()=>{a.value=!1,o.value=!0,f.value=!1},q=()=>{o.value=!1,a.value=!0},U=()=>{h.value||(a.value=!0,o.value=!1,u.value=!0,f.value=!1)},J=()=>{h.value||(o.value=!0,a.value=!1,u.value=!0,f.value=!0)};xe(i(de,m(!1)),e=>{switch(e.key){case"Enter":o.value=!0,e.stopPropagation();break}});const L=g(()=>{var e,n;return(n=(e=G.value)==null?void 0:e.columns)==null?void 0:n.find(_=>_.title===x.value)});return P([a,o],()=>{u.value=a.value||o.value}),P(u,e=>{e||(o.value=!1,a.value=!1)},{flush:"post"}),(e,n)=>{const _=he,D=fe,W=Ce,X=Le,ee=Ie;return s(),v(ee,{"is-open":t(u),"onUpdate:isOpen":n[2]||(n[2]=r=>R(u)?u.value=r:null)},{overlay:z(()=>[t(a)?(s(),v(W,{key:0,modelValue:t(a),"onUpdate:modelValue":n[0]||(n[0]=r=>R(a)?a.value=r:null),"cell-value":t(E),column:t(L),onAttachRecord:Z},null,8,["modelValue","cell-value","column"])):p("",!0),t(o)?(s(),v(X,{key:1,modelValue:t(o),"onUpdate:modelValue":n[1]||(n[1]=r=>R(o)?o.value=r:null),column:t(L),"hide-back-btn":t(f),onAttachLinkedRecord:q},null,8,["modelValue","column","hide-back-btn"])):p("",!0)]),default:z(()=>{var r;return[M("div",ge,[M("div",Re,[t(C)?(s(),y(O,{key:0},[(s(!0),y(O,null,_e(t(C),(I,te)=>(s(),v(_,{key:te,item:I.item,value:I.value,column:t(L),"show-unlink-button":!0,onUnlink:be=>Y(I.item)},null,8,["item","value","column","onUnlink"]))),128)),((r=t(C))==null?void 0:r.length)===10?(s(),y("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:V(U,["stop"])}," more... ")):p("",!0)],64)):p("",!0)]),!t(h)||t(H)?(s(),y("div",Ve,[ve(D,{icon:"expand",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:V(U,["stop"])}),!t(N)&&t($)("dataEdit")?(s(),v(D,{key:0,icon:"plus",class:"text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:V(J,["stop"])})):p("",!0)])):p("",!0)])]}),_:1},8,["is-open"])}}}),qe=ye(Te,[["__scopeId","data-v-c63c8274"]]);export{qe as default};
