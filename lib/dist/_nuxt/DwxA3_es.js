const __vite__fileDeps=["./B5rihkxQ.js","./DKhUGBot.js","./entry.B8GgT5QA.css","./ItBATpwr.js","./CX4Cv_ut.js","./DEJjMRn_.js","./BQQOEPN4.js","./DX_5E9FR.js","./BOlDoh1A.js","./CUg8TjpL.js","./Pagination.D7qN7qzC.css","./JdDANzIQ.js","./DGy9VVU7.js","./BTAX7aIF.js","./DO1hNe_j.js","./lyxpGZoZ.js","./boyBAVNN.js","./Ce4Hnuew.js","./DrSobHNn.js","./DFT4Rrrq.js","./P2GfGWnR.js","./u8rUVe3y.js","./DyY7ABnl.js","./BY49hpjj.js","./DgXVCOuO.js","./C9SskyTm.js","./B-qzO8jF.js","./Cz8K5PX4.js","./GPQ-Eg6I.js","./BpnlUwoJ.js","./CxxuE4Yq.js","./Bd_WsUAk.js","./D8UTY2yA.js","./BjDxmU3z.js","./UnLinkedItems.B3o594vW.css","./DCUWHR5G.js","./D2ktNk99.js","./LinkedItems.BYmrEeHr.css","./wnhftTZl.js","./B5mlyM8k.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as oe,bL as i,fG as ne,hw as ae,hv as le,dS as se,h_ as re,az as ie,r as c,he as ue,is as me,L as ce,fl as pe,g as I,aw as de,H as D,o as s,U as v,w as P,P as e,Q as g,S as d,a as z,c as y,al as O,am as _e,cV as ve,b as fe,Y as S,Z as R,a5 as V,$ as ye,_ as he}from"./DKhUGBot.js";import{_ as ke}from"./CqlgBdCJ.js";import{a as we}from"./DrSobHNn.js";import{u as Ce}from"./JdDANzIQ.js";import{u as xe}from"./BIe2oNDw.js";import"./Tw6PiqUh.js";import"./DGy9VVU7.js";import"./Ce4Hnuew.js";import"./DFT4Rrrq.js";import"./DO1hNe_j.js";import"./lyxpGZoZ.js";import"./boyBAVNN.js";import"./BTAX7aIF.js";import"./P2GfGWnR.js";import"./u8rUVe3y.js";import"./DyY7ABnl.js";import"./BY49hpjj.js";import"./DEJjMRn_.js";import"./CUg8TjpL.js";import"./DgXVCOuO.js";const Le=R(()=>V(()=>import("./B5rihkxQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(l=>l.default||l)),Ie=R(()=>V(()=>import("./DCUWHR5G.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,36,33,37]),import.meta.url).then(l=>l.default||l)),ge=R(()=>V(()=>import("./wnhftTZl.js"),__vite__mapDeps([38,39,1,2,40]),import.meta.url).then(l=>l.default||l)),Re={class:"flex items-center gap-1 w-full chips-wrapper min-h-4"},Ve={class:"chips flex items-center img-container flex-1 hm-items flex-nowrap min-w-0 overflow-hidden"},be={key:0,class:"flex justify-end gap-1 min-h-4 items-center"},Ae=oe({__name:"HasMany",async setup(l){let b,A;const p=i(ne),u=i(ae),B=i(le),M=i(re,se()),H=i(ie),N=i(ue,c(!1)),h=i(me,c(!1)),o=c(!1),a=c(!1),m=c(!1),f=c(!1),{isUIAllowed:F}=ce(),{state:k,isNew:w,removeLTARRef:$}=we(),{relatedTableMeta:G,loadRelatedTableMeta:K,relatedTableDisplayValueProp:C,unlink:Q}=Ce(p,B,w,M.trigger);[b,A]=pe(()=>K()),await b,A();const j=I(()=>{var t;return u!=null&&u.value?(u==null?void 0:u.value)??[]:w.value?((t=k==null?void 0:k.value)==null?void 0:t[p==null?void 0:p.value.title])??[]:[]}),E=I(()=>j.value.reduce((t,n)=>{if(!C.value)return t;const _=n[C.value];return[...t,{value:_,item:n}]},[])),Y=async t=>{w.value?await $(t,p.value):await Q(t)},x=I(()=>{var t,n;return(n=(t=G.value)==null?void 0:t.columns)==null?void 0:n.find(_=>_.title===C.value)}),Z=()=>{a.value=!1,o.value=!0,f.value=!1},q=()=>{o.value=!1,a.value=!0},T=()=>{h.value||(a.value=!0,o.value=!1,m.value=!0,f.value=!1)},J=()=>{h.value||(o.value=!0,a.value=!1,m.value=!0,f.value=!0)};return xe(i(de,c(!1)),t=>{switch(t.key){case"Enter":o.value=!0,t.stopPropagation();break}}),D([a,o],()=>{m.value=a.value||o.value}),D(m,t=>{t||(o.value=!1,a.value=!1)},{flush:"post"}),(t,n)=>{const _=ke,U=ye,W=Le,X=Ie,ee=ge;return s(),v(ee,{"is-open":e(m),"onUpdate:isOpen":n[2]||(n[2]=r=>g(m)?m.value=r:null)},{overlay:P(()=>[e(o)?(s(),v(W,{key:0,modelValue:e(o),"onUpdate:modelValue":n[0]||(n[0]=r=>g(o)?o.value=r:null),column:e(x),"hide-back-btn":e(f),onAttachLinkedRecord:q},null,8,["modelValue","column","hide-back-btn"])):d("",!0),e(a)?(s(),v(X,{key:1,modelValue:e(a),"onUpdate:modelValue":n[1]||(n[1]=r=>g(a)?a.value=r:null),"cell-value":e(j),column:e(x),onAttachRecord:Z},null,8,["modelValue","cell-value","column"])):d("",!0)]),default:P(()=>{var r;return[z("div",Re,[z("div",Ve,[e(E)?(s(),y(O,{key:0},[(s(!0),y(O,null,_e(e(E),(L,te)=>(s(),v(_,{key:te,item:L.item,value:L.value,column:e(x),"show-unlink-button":!0,onUnlink:je=>Y(L.item)},null,8,["item","value","column","onUnlink"]))),128)),((r=e(u))==null?void 0:r.length)===10?(s(),y("span",{key:0,class:"caption pointer ml-1 grey--text",onClick:T}," more... ")):d("",!0)],64)):d("",!0)]),!e(h)&&!e(ve)(e(p))?(s(),y("div",be,[fe(U,{icon:"expand",class:"select-none transform text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-arrow-expand",onClick:S(T,["stop"])}),!e(N)&&e(F)("dataEdit")||e(H)?(s(),v(U,{key:0,icon:"plus",class:"select-none text-sm nc-action-icon text-gray-500/50 hover:text-gray-500 nc-plus",onClick:S(J,["stop"])})):d("",!0)])):d("",!0)])]}),_:1},8,["is-open"])}}}),Je=he(Ae,[["__scopeId","data-v-25e7ca14"]]);export{Je as default};
