import{_ as G}from"./LH0AgEEv.js";import{_ as W}from"./DcR4N6U3.js";import{o as a,c as r,a as t,f as E,M as K,ai as U,r as p,N as X,as as q,g as $,fX as F,H as J,a_ as Q,O as Y,U as l,w as s,b as o,P as n,ar as Z,S as _,a6 as h,R as S,d as M,t as d,B as ee,gG as te,a9 as oe,gH as se,aa as ae,af as ne,p as ce,e as ie,_ as re}from"./B2hUoZAs.js";import{u as le}from"./Dk9gIyw5.js";import{_ as _e}from"./C-1DAdL6.js";import{b as de,L as ue,_ as me}from"./D3g8w44u.js";import"./DerldqwU.js";import"./BQN-xhuP.js";import"./7hPDkg8v.js";import"./DfZ7_DBQ.js";import"./e4fIiYA_.js";import"./B4uVmeYG.js";import"./CyveXxwV.js";import"./BPB61pKE.js";import"./aFQEf_70.js";import"./DaczmVFk.js";import"./fmNfCaCg.js";const pe={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=t("path",{fill:"currentColor",d:"m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"},null,-1),fe=[he];function ge(c,i){return a(),r("svg",pe,[...fe])}const ve={name:"mdi-logout",render:ge},we={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xe=t("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2M7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.5.88 4.93 1.78A7.9 7.9 0 0 1 12 20c-1.86 0-3.57-.64-4.93-1.72m11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33A7.93 7.93 0 0 1 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.5-1.64 4.83M12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6m0 5a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 12 8a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 12 11"},null,-1),be=[xe];function ye(c,i){return a(),r("svg",we,[...be])}const ke={name:"mdi-account-circle-outline",render:ye},$e=c=>(ce("data-v-84965fc9"),c=c(),ie(),c),Se={class:"flex w-full h-full items-center nc-header-content"},Me={class:"flex-1 min-w-0 w-50"},Ae=$e(()=>t("img",{src:_e,class:"h-11"},null,-1)),Be={key:0,class:"flex gap-1"},Ce={class:"flex-1 min-w-0 flex justify-end gap-2"},De={class:"flex flex-row flex-grow"},Le={key:0,class:"flex items-center"},Ne={class:"flex items-center gap-1 cursor-pointer","data-testid":"nc-ws-account-menu-dropdown"},He={class:"h-8.5 w-8.5 rounded-full text-xs bg-secondary flex items-center justify-center font-weight-bold text-black uppercase"},Ie={class:"prose group-hover:text-primary"},Oe={class:"text-xs text-gray-500"},Ve={class:"prose group-hover:text-primary"},Re={class:"w-full h-[calc(100vh_-_var(--new-header-height))]"},Te={name:"DefaultLayout"},Pe=E({...Te,setup(c){var v;const i=K();le();const{te:A,t:B}=U(),f=p(!0),C=p(!0),{signOut:D,user:L}=X(),{clearWorkspaces:N}=q(),u=$(()=>{var e;return((e=L.value)==null?void 0:e.email)??"---"}),g=p(!1);F((v=i.meta)!=null&&v.title&&A(i.meta.title)?`${B(i.meta.title)}`:"NocoDB");const m=$(()=>{var e;return(e=i.meta)==null?void 0:e.public});J(f,e=>{e||(g.value=!0,Q(()=>{g.value=!1}))});const H=async()=>{await D(!1),await ee("/signin"),await N()};return(e,je)=>{const w=G,I=W,O=te,V=ke,x=oe,b=se,R=ve,T=ae,P=ne,j=de,z=ue,y=me,k=Y("e");return a(),l(y,null,{default:s(()=>[o(j,{class:"max-h-[var(--new-header-height)] !px-2"},{default:s(()=>[t("div",Se,[t("div",Me,[o(w,{to:n(m)?"":"/"},{default:s(()=>[Ae]),_:1},8,["to"])]),(e._.provides[Z]||e.$route).name==="index-index"?(a(),r("div",Be)):_("",!0),t("div",Ce,[t("div",De,[h(e.$slots,"navbar",{},void 0,!0)]),n(m)?_("",!0):(a(),r("div",Le,[o(I,{class:"mr-2","data-testid":"nc-notification-bell-icon"})])),n(m)?_("",!0):(a(),l(P,{key:1,trigger:["click"],"overlay-class-name":"nc-dropdown-user-accounts-menu"},{overlay:s(()=>[o(T,{class:"!py-0 leading-8 !rounded min-w-40"},{default:s(()=>[o(x,{key:"0","data-testid":"nc-menu-accounts__user-settings",class:"!rounded-t"},{default:s(()=>[S((a(),l(w,{class:"nc-base-menu-item group !no-underline",to:"/account/users"},{default:s(()=>[o(V,{class:"mt-1 group-hover:text-accent"}),M("  "),t("div",Ie,[t("div",null,d(e.$t("labels.account")),1),t("div",Oe,d(n(u)),1)])]),_:1})),[[k,["c:navbar:user:email"]]])]),_:1}),o(b,{class:"!m-0"}),o(b,{class:"!m-0"}),o(x,{key:"1",class:"!rounded-b group","data-testid":"nc-menu-accounts__sign-out"},{default:s(()=>[S((a(),r("div",{class:"nc-base-menu-item group","data-testid":"nc-logout-btn",onClick:H},[o(R,{class:"group-hover:text-accent"}),M("  "),t("span",Ve,d(e.$t("general.signOut")),1)])),[[k,["a:navbar:user:sign-out"]]])]),_:1})]),_:1})]),default:s(()=>[t("div",Ne,[t("div",He,d(n(u)?n(u).split("@")[0].slice(0,2):"A"),1),o(O)])]),_:1}))])])]),_:3}),o(y,{class:"nc-root"},{default:s(()=>[n(f)?(a(),l(z,{key:0,ref:"sidebar",collapsed:!n(C),width:"250","collapsed-width":"50",class:"relative shadow-md h-full z-1 nc-left-sidebar h-[calc(100vh_-_var(--new-header-height))] !shadow-none border-gray-100 border-r-1 !overflow-x-hidden",trigger:null,collapsible:"",theme:"light"},{default:s(()=>[h(e.$slots,"sidebar",{},void 0,!0)]),_:3},8,["collapsed"])):_("",!0),t("div",Re,[h(e.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})}}}),at=re(Pe,[["__scopeId","data-v-84965fc9"]]);export{at as default};
