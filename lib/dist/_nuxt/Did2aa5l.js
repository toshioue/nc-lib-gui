import{e as E,L as K,ba as O,f as g,aK as B,o as N,c as G,b as n,w as l,a as o,t as d,N as t,S as p,d as U,Q as q,R as D,Y as Q,Z as Y,$ as Z,_ as j}from"./DZZ6t_j4.js";const F={class:"comment-bubble-menu bg-transparent flex-row rounded-lg flex"},H={class:"flex flex-col items-center"},J={class:"text-xs"},P={class:"flex flex-col items-center"},W={class:"flex flex-col items-center"},X={class:"flex flex-col items-center"},ee={class:"flex flex-col items-center"},te=E({__name:"RichTextOptions",props:{editor:{}},setup(I){const z=I,{appInfo:L}=K(),{editor:e}=O(z),_=g(()=>B()?"⌘":"CTRL"),M=g(()=>B()?"⇧":"Shift"),v=g(()=>-1),R=()=>{var r,u,b,s,m,a,k,h,$,y,C,A,w,S,T;if(!e.value)return;const c=((s=(b=(u=(r=e.value)==null?void 0:r.state)==null?void 0:u.selection)==null?void 0:b.$from)==null?void 0:s.nodeBefore)||((h=(k=(a=(m=e.value)==null?void 0:m.state)==null?void 0:a.selection)==null?void 0:k.$from)==null?void 0:h.nodeAfter),i=(C=(y=($=e.value)==null?void 0:$.state)==null?void 0:y.storedMarks)==null?void 0:C.some(x=>x.type.name==="link");((A=c==null?void 0:c.marks)==null?void 0:A.some(x=>x.type.name==="link"))||i?e.value.chain().focus().unsetLink().run():((w=e.value)!=null&&w.state.selection.empty?e.value.chain().focus().insertContent(" ").setTextSelection({from:(S=e.value)==null?void 0:S.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).toggleLink({href:""}).setTextSelection({from:(T=e.value)==null?void 0:T.state.selection.$from.pos,to:e.value.state.selection.$from.pos+1}).deleteSelection().run():e.value.chain().focus().setLink({href:""}).selectTextblockEnd().run(),setTimeout(()=>{const x=document.querySelector(".nc-text-area-rich-link-option-input");x&&x.focus()},100))},V=()=>{var i,f,r,u;if(!e.value)return;const c=e.value.state.doc.textBetween(e.value.state.selection.$from.pos-1,e.value.state.selection.$from.pos);c==="@"?e.value.chain().deleteRange({from:e.value.state.selection.$from.pos-1,to:e.value.state.selection.$from.pos}).run():c!==" "?((i=e.value)==null||i.commands.insertContent(" @"),(f=e.value)==null||f.chain().focus().run()):((r=e.value)==null||r.commands.insertContent("@"),(u=e.value)==null||u.chain().focus().run())};return(c,i)=>{var b;const f=Q,r=Y,u=Z;return N(),G("div",F,[n(u,null,{title:l(()=>[o("div",H,[o("div",null,d(c.$t("labels.bold")),1),o("div",J,d(t(_))+" B",1)])]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("bold")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[0]||(i[0]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleBold().run()})},{default:l(()=>[n(f,{icon:"bold"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,{disabled:(b=t(e))==null?void 0:b.isActive("italic")},{title:l(()=>[o("div",P,[o("div",null,d(c.$t("labels.italic")),1),o("div",null,d(t(_))+" I",1)])]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("italic")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[1]||(i[1]=m=>{var a;((a=t(e))==null?void 0:a.chain().focus()).toggleItalic().run()})},{default:l(()=>[n(f,{icon:"italic"})]),_:1},8,["class","tabindex"])]}),_:1},8,["disabled"]),n(u,null,{title:l(()=>[o("div",W,[o("div",null,d(c.$t("labels.underline")),1),o("div",null,d(t(_))+" U",1)])]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("underline")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[2]||(i[2]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleUnderline().run()})},{default:l(()=>[n(f,{icon:"underline"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,null,{title:l(()=>[o("div",X,[o("div",null,d(c.$t("labels.strike")),1),o("div",null,d(t(M))+" "+d(t(_))+" S",1)])]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("strike")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:i[3]||(i[3]=m=>{var a;return(a=t(e))==null?void 0:a.chain().focus().toggleStrike().run()})},{default:l(()=>[n(f,{icon:"strike"})]),_:1},8,["class","tabindex"])]}),_:1}),n(u,null,{title:l(()=>[U(d(c.$t("general.link")),1)]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("link")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:R},{default:l(()=>[n(f,{icon:"link2"})]),_:1},8,["class","tabindex"])]}),_:1}),t(L).ee?(N(),q(u,{key:0},{title:l(()=>[o("div",ee,[o("div",null,d(c.$t("labels.mention")),1),i[4]||(i[4]=o("div",null,"@",-1))])]),default:l(()=>{var s;return[n(r,{class:p([{"is-active":(s=t(e))==null?void 0:s.isActive("suggestions")},"!h-7 !w-7 !hover:bg-gray-200"]),tabindex:t(v),size:"xsmall",type:"text",onClick:V},{default:l(()=>[n(f,{icon:"atSign"})]),_:1},8,["class","tabindex"])]}),_:1})):D("",!0)])}}}),le=j(te,[["__scopeId","data-v-1e97f99e"]]);export{le as default};
