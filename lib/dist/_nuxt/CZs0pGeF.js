const __vite__fileDeps=["./BUe6g5rB.js","./Cgw6cdOy.js","./entry.DxI7QTvq.css","./CZSp73nk.js","./D8rpj5Lr.js","./BcZAlRJW.js","./BQQOEPN4.js","./BohSct8s.js","./C8c9012h.js","./hvq8FVej.js","./Pagination.D7qN7qzC.css","./BStsc-2E.js","./CO8XXsKl.js","./MA4kh5_N.js","./vIgbYHAs.js","./DpDIhxXu.js","./boyBAVNN.js","./D7yS5JAk.js","./r2PN1Hfg.js","./BBXMuneh.js","./B1jnz4_u.js","./DCaZaUH5.js","./DpYA1Dpy.js","./dmcxUY_0.js","./LSbsNkd9.js","./BS-JicVa.js","./DnXfnYY7.js","./Bcy-XIkn.js","./DPaOlBFV.js","./BIsWr_mR.js","./BZz6iAla.js","./JRGWYtLw.js","./CHLXm8Ls.js","./cCmEAZwU.js","./UnLinkedItems.C1GPHhk-.css","./_MH4-1Tt.js","./CiTH7PYd.js","./LinkRecordDropdown.wdjSyEoY.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as Z,bN as a,fQ as q,dK as J,ic as W,r as m,hP as X,hO as ee,aC as te,hr as oe,aF as ne,iH as se,L as ae,fc as le,g,H as w,o as c,c as T,b as L,w as h,P as e,S as V,Q as j,T as y,a as A,U as P,aL as re,Y as E,Z as U,a6 as D,$ as ie,_ as ue}from"./Cgw6cdOy.js";import{_ as pe}from"./GoONWNvD.js";import{a as me}from"./r2PN1Hfg.js";import{u as ce}from"./BStsc-2E.js";import{u as de}from"./CnN16FGu.js";import"./CCkm5jiV.js";import"./CO8XXsKl.js";import"./D7yS5JAk.js";import"./BBXMuneh.js";import"./vIgbYHAs.js";import"./DpDIhxXu.js";import"./boyBAVNN.js";import"./MA4kh5_N.js";import"./B1jnz4_u.js";import"./DCaZaUH5.js";import"./DpYA1Dpy.js";import"./dmcxUY_0.js";import"./BcZAlRJW.js";import"./hvq8FVej.js";import"./LSbsNkd9.js";const fe=U(()=>D(()=>import("./BUe6g5rB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url).then(r=>r.default||r)),_e=U(()=>D(()=>import("./_MH4-1Tt.js"),__vite__mapDeps([35,36,1,2,37]),import.meta.url).then(r=>r.default||r)),ve={class:"nc-cell-field flex items-center w-full"},we=Z({__name:"BelongsTo",async setup(r){let k,x;const l=a(q),O=a(W,J()),i=a(X,m(null)),B=a(ee),C=a(te),z=a(oe,m(!1)),N=a(ne,m(!1)),I=a(se,m(!1)),{isUIAllowed:S}=ae(),n=m(!1),u=m(!1),{state:d,isNew:f,removeLTARRef:$}=me(),{relatedTableMeta:H,loadRelatedTableMeta:K,relatedTableDisplayValueProp:_,relatedTableDisplayValuePropId:b,unlink:F}=ce(l,B,f,O.trigger);[k,x]=le(()=>K()),await k,x();const s=g(()=>{var t;return i!=null&&i.value?i==null?void 0:i.value:f.value?(t=d==null?void 0:d.value)==null?void 0:t[l==null?void 0:l.value.title]:null}),M=async t=>{f.value?await $(t,l==null?void 0:l.value):await F(t)};de(C,t=>{switch(t.key){case"Enter":n.value=!0,t.stopPropagation();break}});const R=g(()=>{var t,o;return(o=(t=H.value)==null?void 0:t.columns)==null?void 0:o.find(v=>v.title===_.value)});return w(n,()=>{u.value=n.value}),w(u,t=>{t||(n.value=!1)},{flush:"post"}),w(s,t=>{t&&(u.value=!1)}),(t,o)=>{const v=pe,Q=ie,G=fe,Y=_e;return c(),T("div",{class:P(["flex w-full chips-wrapper items-center",{active:e(C)}])},[L(Y,{"is-open":e(u),"onUpdate:isOpen":o[4]||(o[4]=p=>j(u)?u.value=p:null)},{overlay:h(()=>[e(n)?(c(),V(G,{key:0,modelValue:e(n),"onUpdate:modelValue":o[3]||(o[3]=p=>j(n)?n.value=p:null),column:e(R),"hide-back-btn":""},null,8,["modelValue","column"])):y("",!0)]),default:h(()=>[A("div",ve,[A("div",{class:P(["chips flex items-center flex-1",{"max-w-[calc(100%_-_16px)]":!e(I)}])},[e(s)&&(e(_)||e(b))?(c(),V(v,{key:0,item:e(s),value:!Array.isArray(e(s))&&typeof e(s)=="object"?e(s)[e(_)]??e(s)[e(b)]:e(s),column:e(R),"show-unlink-button":!0,onUnlink:o[0]||(o[0]=p=>M(e(s)))},null,8,["item","value","column"])):y("",!0)],2),!e(z)&&(e(S)("dataEdit")||e(N))&&!e(I)?(c(),T("div",{key:0,class:"flex-none flex group items-center min-w-4",tabindex:"0",onKeydown:o[2]||(o[2]=re(E(p=>n.value=!0,["stop"]),["enter"]))},[L(Q,{icon:"plus",class:"flex-none select-none !text-md text-gray-700 nc-action-icon nc-plus invisible group-hover:visible group-focus:visible",onClick:o[1]||(o[1]=E(p=>n.value=!0,["stop"]))})],32)):y("",!0)])]),_:1},8,["is-open"])],2)}}}),ze=ue(we,[["__scopeId","data-v-55b809be"]]);export{ze as default};
