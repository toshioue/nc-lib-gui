import{f as S,N as V,bN as o,aE as F,r as d,hG as O,hq as R,gU as P,aF as B,fP as L,ad as U,g as f,de as A,P as s,R as G,f4 as $,o as m,c as y,Q as q,aL as r,Y as l,t as g,aM as Q,_ as T}from"./3QBYHahY.js";const Y=["type"],z={key:1,class:"nc-cell-field nc-null uppercase"},H={key:2,class:"nc-cell-field"},J=S({__name:"Integer",props:{modelValue:{}},emits:["update:modelValue"],setup(b,{emit:w}){const N=b,I=w,{showNull:k}=V(),c=o(F),i=o(O,d(!1)),M=o(R,d(!1)),C=o(P,d(!1)),p=o(B),D=o(L,null),n=U(N,"modelValue",I),E=f(()=>n.value===null||isNaN(Number(n.value))?null:A(D.value.meta).isLocaleString?Number(n.value).toLocaleString():Number(n.value)),u=f({get:()=>n.value,set:e=>{e===""?n.value=null:p.value&&!i.value?n.value=isNaN(Number(e))?e:Number(e):n.value=e}}),j=f(()=>p.value&&!i.value?"text":"number"),x=e=>!C.value&&!i.value&&!p.value&&(e==null?void 0:e.focus());function K(e){var a,v;if((Q()?e.metaKey:e.ctrlKey)&&!e.altKey)switch(e.keyCode){case 90:{e.stopPropagation();break}}if(e.key===".")return e.preventDefault();e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(a=e.target)==null||a.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(v=e.target)==null||v.setSelectionRange(0,0),e.target.type="number")}return(e,t)=>!s(M)&&s(c)?G((m(),y("input",{key:0,ref:x,"onUpdate:modelValue":t[0]||(t[0]=a=>q(u)?u.value=a:null),class:"nc-cell-field outline-none py-1 border-none w-full h-full",type:s(j),style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=a=>c.value=!1),onKeydown:[K,t[2]||(t[2]=r(l(()=>{},["stop"]),["down"])),t[3]||(t[3]=r(l(()=>{},["stop"]),["left"])),t[4]||(t[4]=r(l(()=>{},["stop"]),["right"])),t[5]||(t[5]=r(l(()=>{},["stop"]),["up"])),t[6]||(t[6]=r(l(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[7]||(t[7]=l(()=>{},["stop"])),onMousedown:t[8]||(t[8]=l(()=>{},["stop"]))},null,40,Y)),[[$,s(u)]]):s(u)===null&&s(k)?(m(),y("span",z,g(e.$t("general.null")),1)):(m(),y("span",H,g(s(E)),1))}}),X=T(J,[["__scopeId","data-v-99e6cbcf"]]);export{X as default};
