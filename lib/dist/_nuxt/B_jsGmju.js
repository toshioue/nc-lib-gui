import{ep as S,r as z,N as t,F as E,D as I,f as L,y as $,dK as V,hg as C,e as F,n as M,o as a,c as y,a as o,b as c,w as r,d as k,Q as d,T as p,U as m,t as u,z as h,ao as H,at as U,W as x,a8 as A,a9 as K,aa as O,ae as Q,_ as W}from"./DZZ6t_j4.js";function q(g){const f=S(),i=z(t(g)),{$state:_}=$();typeof i.value>"u"&&(i.value=_.darkMode.value),f.run(()=>{E(_.darkMode,l=>{typeof i.value>"u"&&(i.value=l)}),I(()=>{const l=t(g);l&&(i.value=l)})}),V(()=>f.stop());const v=L(()=>i.value?C.dark:C.light);return{colors:v,getColorByIndex:l=>v.value[l%v.value.length]}}const G={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 3xl:grid-cols-8 gap-6 md:gap-y-16"},J={class:"group flex flex-col items-center gap-2"},R=["onClick"],X={class:"prose-lg font-semibold"},Y={class:"col-span-10 text-sm xl:text-md"},Z=["innerHTML"],ee=["onClick"],oe={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},te={class:"col-span-4 text-sm xl:text-md"},se={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},ne={class:"col-span-4 text-sm xl:text-md"},ae={class:"prose-lg font-semibold overflow-ellipsis w-full overflow-hidden text-center capitalize"},ie=F({__name:"index",props:{bases:{default:()=>[]}},emits:["delete-base"],setup(g,{emit:f}){const i=f,{$e:_}=$(),{getColorByIndex:v}=q(!0),l=async e=>{await h(`/nc/${e.id}`),_("a:base:open",{count:g.bases.length})},T=e=>e==null?void 0:e.split(" ").map(s=>s[0]).slice(0,2).join("");return(e,s)=>{const B=M("v-list"),D=M("v-menu"),b=K,j=O,N=Q;return a(),y("div",G,[o("div",J,[c(D,null,{activator:r(({props:n})=>[o("div",{class:"thumbnail hover:after:!opacity-100 hover:shadow-lg hover:to-primary/50",style:{"--thumbnail-color":"#1348ba"},onClick:n.onClick},[s[3]||(s[3]=k(" a ")),(a(),d(p(("iconMap"in e?e.iconMap:t(m)).plus)))],8,R),o("div",X,u(e.$t("title.newProj")),1)]),default:r(()=>[c(B,{class:"!py-0 flex flex-col bg-white rounded-lg shadow-md border-1 border-gray-300 mt-2 ml-2"},{default:r(()=>[o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:s[0]||(s[0]=n=>("navigateTo"in e?e.navigateTo:t(h))("/base/create"))},[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).plus),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",Y,u(e.$t("activity.createProject")),1)]),o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:s[1]||(s[1]=n=>("navigateTo"in e?e.navigateTo:t(h))("/base/create-external"))},[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).dtabase),{class:"col-span-2 mr-1 mt-[1px] text-green-500 text-lg"})),o("div",{class:"col-span-10 text-sm xl:text-md",innerHTML:e.$t("activity.createProjectExtended.extDB")},null,8,Z)])]),_:1})]),_:1})]),(a(!0),y(H,null,U(e.bases,(n,P)=>(a(),y("div",{key:n.id,class:"group flex flex-col items-center gap-2"},[o("div",{class:"thumbnail",style:A({"--thumbnail-color":t(v)(P)}),onClick:w=>l(n)},[k(u(T(n.title))+" ",1),c(N,{"overlay-class-name":"nc-dropdown-base-operations",onClick:s[2]||(s[2]=x(()=>{},["stop"]))},{overlay:r(()=>[c(j,null,{default:r(()=>[c(b,{onClick:x(w=>i("delete-base",n),["stop"])},{default:r(()=>[o("div",oe,[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).delete),{class:"col-span-2 mr-1 mt-[1px] text-red text-lg"})),o("div",te,u(e.$t("general.delete")),1)])]),_:2},1032,["onClick"]),c(b,{onClick:x(w=>("navigateTo"in e?e.navigateTo:t(h))(`/base/${n.id}`),["stop"])},{default:r(()=>[o("div",se,[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).edit),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",ne,u(e.$t("general.edit")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[(a(),d(p(("iconMap"in e?e.iconMap:t(m)).arrowDown),{class:"menu-icon"}))]),_:2},1024)],12,ee),o("div",ae,u(n.title||"Untitled"),1)]))),128))])}}}),re=W(ie,[["__scopeId","data-v-c4e904a8"]]);export{re as default};
