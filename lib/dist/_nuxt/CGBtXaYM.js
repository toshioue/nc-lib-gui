import{_ as W}from"./CyRMlOXW.js";import{_ as E}from"./D9I5yoZ0.js";import{o as n,c as r,a as t,e as F,K as G,ag as Q,r as p,L as q,aw as J,f as S,gs as U,F as X,a$ as Y,M as Z,Q as l,w as s,b as o,N as a,av as ee,R as _,a6 as h,P as M,d as A,t as u,hh as te,a9 as oe,hi as se,aa as ne,ae,_ as ce}from"./DZZ6t_j4.js";import{u as ie}from"./CvNj_pzL.js";import{_ as re}from"./BbCeEjqb.js";import{b as le,a as _e,_ as ue}from"./DuJHisTB.js";import"./sz1d3zjm.js";import"./TJfB7GlU.js";import"./0azk-b-q.js";import"./BLgccLvp.js";import"./vK-WmZ7a.js";import"./8DEek4Fb.js";import"./2FgppHLC.js";import"./Ck-cgwga.js";import"./9ZvwAtsX.js";import"./oyD85nwD.js";const de={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},me=t("path",{fill:"currentColor",d:"m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"},null,-1),pe=[me];function he(f,c){return n(),r("svg",de,[...pe])}const fe={name:"mdi-logout",render:he},ge={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ve=t("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2M7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.5.88 4.93 1.78A7.9 7.9 0 0 1 12 20c-1.86 0-3.57-.64-4.93-1.72m11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33A7.93 7.93 0 0 1 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.5-1.64 4.83M12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6m0 5a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 12 8a1.5 1.5 0 0 1 1.5 1.5A1.5 1.5 0 0 1 12 11"},null,-1),we=[ve];function xe(f,c){return n(),r("svg",ge,[...we])}const be={name:"mdi-account-circle-outline",render:xe},ye={class:"flex w-full h-full items-center nc-header-content"},$e={class:"flex-1 min-w-0 w-50"},ke={key:0,class:"flex gap-1"},Se={class:"flex-1 min-w-0 flex justify-end gap-2"},Me={class:"flex flex-row flex-grow"},Ae={key:0,class:"flex items-center"},Be={class:"flex items-center gap-1 cursor-pointer","data-testid":"nc-ws-account-menu-dropdown"},Ce={class:"h-8.5 w-8.5 rounded-full text-xs bg-secondary flex items-center justify-center font-weight-bold text-black uppercase"},De={class:"prose group-hover:text-primary"},Le={class:"text-xs text-gray-500"},Ne={class:"prose group-hover:text-primary"},Ve={class:"w-full h-[calc(100vh_-_var(--new-header-height))]"},He={name:"DefaultLayout"},Oe=F({...He,setup(f){var w;const c=G();ie();const{te:B,t:C}=Q(),g=p(!0),D=p(!0),{signOut:L,user:N}=q(),{clearWorkspaces:V}=J(),d=S(()=>{var e;return((e=N.value)==null?void 0:e.email)??"---"}),v=p(!1);U((w=c.meta)!=null&&w.title&&B(c.meta.title)?`${C(c.meta.title)}`:"NocoDB");const m=S(()=>{var e;return(e=c.meta)==null?void 0:e.public});X(g,e=>{e||(v.value=!0,Y(()=>{v.value=!1}))});const H=async()=>{await L({redirectToSignin:!0}),await V()};return(e,i)=>{const x=W,O=E,R=te,T=be,b=oe,y=se,P=fe,j=ne,z=ae,I=le,K=_e,$=ue,k=Z("e");return n(),l($,null,{default:s(()=>[o(I,{class:"max-h-[var(--new-header-height)] !px-2"},{default:s(()=>[t("div",ye,[t("div",$e,[o(x,{to:a(m)?"":"/"},{default:s(()=>i[0]||(i[0]=[t("img",{src:re,class:"h-11"},null,-1)])),_:1},8,["to"])]),(e._.provides[ee]||e.$route).name==="index-index"?(n(),r("div",ke)):_("",!0),t("div",Se,[t("div",Me,[h(e.$slots,"navbar",{},void 0,!0)]),a(m)?_("",!0):(n(),r("div",Ae,[o(O,{class:"mr-2","data-testid":"nc-notification-bell-icon"})])),a(m)?_("",!0):(n(),l(z,{key:1,trigger:["click"],"overlay-class-name":"nc-dropdown-user-accounts-menu"},{overlay:s(()=>[o(j,{class:"!py-0 leading-8 !rounded min-w-40"},{default:s(()=>[o(b,{key:"0","data-testid":"nc-menu-accounts__user-settings",class:"!rounded-t"},{default:s(()=>[M((n(),l(x,{class:"nc-base-menu-item group !no-underline",to:"/account/users"},{default:s(()=>[o(T,{class:"mt-1 group-hover:text-accent"}),i[1]||(i[1]=A("  ")),t("div",De,[t("div",null,u(e.$t("labels.account")),1),t("div",Le,u(a(d)),1)])]),_:1})),[[k,["c:navbar:user:email"]]])]),_:1}),o(y,{class:"!m-0"}),o(y,{class:"!m-0"}),o(b,{key:"1",class:"!rounded-b group","data-testid":"nc-menu-accounts__sign-out"},{default:s(()=>[M((n(),r("div",{class:"nc-base-menu-item group","data-testid":"nc-logout-btn",onClick:H},[o(P,{class:"group-hover:text-accent"}),i[2]||(i[2]=A("  ")),t("span",Ne,u(e.$t("general.signOut")),1)])),[[k,["a:navbar:user:sign-out"]]])]),_:1})]),_:1})]),default:s(()=>[t("div",Be,[t("div",Ce,u(a(d)?a(d).split("@")[0].slice(0,2):"A"),1),o(R)])]),_:1}))])])]),_:3}),o($,{class:"nc-root"},{default:s(()=>[a(g)?(n(),l(K,{key:0,ref:"sidebar",collapsed:!a(D),width:"250","collapsed-width":"50",class:"relative shadow-md h-full z-1 nc-left-sidebar h-[calc(100vh_-_var(--new-header-height))] !shadow-none border-gray-100 border-r-1 !overflow-x-hidden",trigger:null,collapsible:"",theme:"light"},{default:s(()=>[h(e.$slots,"sidebar",{},void 0,!0)]),_:3},8,["collapsed"])):_("",!0),t("div",Ve,[h(e.$slots,"default",{},void 0,!0)])]),_:3})]),_:3})}}}),Ye=ce(Oe,[["__scopeId","data-v-5e6056ed"]]);export{Ye as default};
