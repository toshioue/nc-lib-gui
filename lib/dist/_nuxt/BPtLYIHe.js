const __vite__fileDeps=["./Dtgb-V7U.js","./B2hUoZAs.js","./entry.B8GgT5QA.css","./nk4tSM_m.js","./B_8aIjz8.js","./B-HHpLTx.js","./fS-pjH0A.js","./boyBAVNN.js","./MeGaiume.js","./BXXS6TCz.js","./Cell.DV_4HH8i.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as V,cP as w,bL as m,hx as N,fH as W,r as F,d0 as S,g as u,o as s,c as d,P as o,t as _,U as j,Q as B,a as I,S as y,Z as P,a5 as R}from"./B2hUoZAs.js";import{u as L}from"./DBkOrmei.js";import{a as M}from"./fS-pjH0A.js";import"./CEs-fTPr.js";const z=P(()=>R(()=>import("./Dtgb-V7U.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(r=>r.default||r)),A={key:0},T={key:0,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},U={key:1,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},q=V({__name:"Rollup",setup(r){const{metas:C}=w(),i=m(N),n=m(W),c=m(S,F()),{showEditNonEditableFieldWarning:b,showClearNonEditableFieldWarning:h,activateShowEditNonEditableFieldWarning:p}=L(),f=u(()=>{var e,t,l,a,g;return(t=(e=n==null?void 0:n.value)==null?void 0:e.colOptions)!=null&&t.fk_relation_column_id?(g=(a=(l=c==null?void 0:c.value)==null?void 0:l.columns)==null?void 0:a.find(O=>{var x,E;return O.id===((E=(x=n==null?void 0:n.value)==null?void 0:x.colOptions)==null?void 0:E.fk_relation_column_id)}))==null?void 0:g.colOptions:null}),v=u(()=>{var e,t,l;return((e=f.value)==null?void 0:e.fk_related_model_id)&&((l=C.value)==null?void 0:l[(t=f.value)==null?void 0:t.fk_related_model_id])}),k=u(()=>{var e;return(e=n.value)==null?void 0:e.colOptions}),D=u(()=>{var e,t;return(e=v.value)!=null&&e.columns&&M(n.value)?(t=v.value)==null?void 0:t.columns.find(l=>l.id===k.value.fk_rollup_column_id):""});return(e,t)=>{const l=z;return s(),d("div",{class:"nc-cell-field",onDblclick:t[1]||(t[1]=(...a)=>o(p)&&o(p)(...a))},[["count","avg","sum","countDistinct","sumDistinct","avgDistinct"].includes(o(k).rollup_function)?(s(),d("div",A,_(o(i)),1)):(s(),j(l,{key:1,modelValue:o(i),"onUpdate:modelValue":t[0]||(t[0]=a=>B(i)?i.value=a:null),column:o(D),"edit-enabled":!1,"read-only":!0},null,8,["modelValue","column"])),I("div",null,[o(b)?(s(),d("div",T,_(e.$t("msg.info.computedFieldEditWarning")),1)):y("",!0),o(h)?(s(),d("div",U,_(e.$t("msg.info.computedFieldDeleteWarning")),1)):y("",!0)])],32)}}});export{q as default};
