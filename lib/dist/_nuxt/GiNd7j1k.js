const __vite__fileDeps=["./DnO0ARxW.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css","./DQfemegE.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as B,ap as E,ag as F,K as L,u as M,ar as U,r as q,o as u,c as v,b as s,w as r,a as t,N as o,t as i,d as _,ce as I,R as S,Q as T,T as A,U as D,X as z,ah as G,ai as K,Z as O,a3 as Q,a4 as W}from"./DZZ6t_j4.js";import{_ as X}from"./CyRMlOXW.js";import{_ as Z}from"./BeDviXlI.js";import{_ as H}from"./Cr9ZWAG6.js";import{v as J}from"./BtEbFxXZ.js";import{F as Y}from"./BYINaHrJ.js";import{_ as ee}from"./DyDFI6NE.js";import{_ as se}from"./dfem9Uc_.js";import"./D9tFZoTQ.js";import"./vll-Pnjv.js";import"./BQuyMdA-.js";import"./BQQOEPN4.js";import"./BCJFTkwv.js";const oe=z(()=>W(()=>import("./DnO0ARxW.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(c=>c.default||c)),ae={class:"md:bg-primary signin bg-opacity-5 forgot-password h-full min-h-[600px] flex flex-col justify-center items-center"},te={class:"bg-white mt-[60px] relative flex flex-col justify-center gap-2 w-full max-w-[500px] mx-auto p-8 md:rounded-lg md:border-1 md:border-gray-200 md:shadow-xl"},re={class:"self-center flex flex-col justify-center items-center text-center gap-2"},ne={class:"prose-2xl font-bold my-4 w-full"},le={class:"prose-sm text-success flex items-center leading-8 gap-2"},ie={key:0,class:"self-center mb-4 bg-red-500 text-white rounded-lg w-3/4 mx-auto p-1"},ce={class:"flex items-center gap-2 justify-center"},de={class:"break-words"},pe={class:"self-center flex flex-col gap-4 items-center justify-center w-full"},me={class:"flex items-center gap-2"},ke=B({__name:"[id]",setup(c){const{api:y,isLoading:f,error:n}=E(),{t:w}=F(),x=L(),b=M(),a=U({password:"",newPassword:""}),R=q();async function $(){if(a.newPassword!==a.password){n.value="password does not match";return}const{error:e,valid:l}=J(a.password);if(!l){n.value=e.includes("8")?"password should be atleast 8 characters":e;return}d();try{await y.auth.passwordReset(x.params.id,{password:a.password}),b.push("/#/sigin")}catch(p){G.error(await K(p))}}function d(){n.value&&(n.value=null)}return(e,l)=>{const p=oe,P=H,k=X,N=Z,g=ee,h=se,V=O,C=Y,j=Q;return u(),v("div",null,[s(j,null,{default:r(()=>[t("div",ae,[t("div",te,[s(p,{class:"color-transition hover:ring hover:ring-accent hover:ring-opacity-100",animate:o(f)},null,8,["animate"]),t("div",re,[t("h1",ne,i(e.$t("title.resetPassword")),1),t("div",le,[_(i(e.$t("msg.info.passwordRecovery.success"))+" ",1),s(P)]),s(k,{to:"/signin"},{default:r(()=>[_(i(e.$t("general.signIn")),1)]),_:1})]),s(C,{ref_key:"formValidator",ref:R,layout:"vertical",model:o(a),"no-style":"",onFinish:$},{default:r(()=>[s(I,{name:"layout"},{default:r(()=>[o(n)?(u(),v("div",ie,[t("div",ce,[s(N),t("div",de,i(o(n)),1)])])):S("",!0)]),_:1}),s(h,{label:e.$t("placeholder.password.new"),name:"password",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:r(()=>[s(g,{value:o(a).password,"onUpdate:value":l[0]||(l[0]=m=>o(a).password=m),placeholder:e.$t("placeholder.password.new"),class:"password",onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),s(h,{label:e.$t("placeholder.password.confirm"),name:"newPassword",rules:[{required:!0,message:o(w)("msg.error.signUpRules.passwdRequired")}]},{default:r(()=>[s(g,{value:o(a).newPassword,"onUpdate:value":l[1]||(l[1]=m=>o(a).newPassword=m),type:"password",class:"password",placeholder:e.$t("placeholder.password.confirm"),onFocus:d},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),t("div",pe,[s(V,{type:"primary","is-loading":o(f),"html-type":"submit"},{default:r(()=>[t("span",me,[(u(),T(A(("iconMap"in e?e.iconMap:o(D)).signin))),_(" "+i(e.$t("general.reset")),1)])]),_:1},8,["is-loading"])])]),_:1},8,["model"])])])]),_:1})])}}});export{ke as default};
