import{e as V,L as K,bL as o,aC as R,g2 as h,r as p,h_ as L,hK as B,f as d,ab as J,jb as b,ha as U,aD as A,F as P,N as a,P as T,dk as _,o as v,c,O as $,aJ as u,W as n,t as w,_ as G}from"./DZZ6t_j4.js";const W=["step","placeholder","onKeydown"],q={key:1,class:"nc-cell-field nc-null uppercase"},z={key:2,class:"nc-cell-field"},H=V({__name:"Decimal",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(N,{emit:D}){const I=N,j=D,{showNull:k}=K(),g=o(R),s=o(h,null),S=o(L,p(!1)),x=o(B,p(!1)),E=p(),f=d(()=>typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}),l=J(I,"modelValue",j),M=d(()=>l.value===null||isNaN(Number(l.value))?null:f.value.isLocaleString?b(Number(l.value),f.value.precision??1).toLocaleString():b(Number(l.value),f.value.precision??1)),i=d({get:()=>l.value,set:e=>{e===""?l.value=null:l.value=e}}),C=d(()=>{const t=(typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}).precision??1;return Number(.1**t).toFixed(t)}),m=o(U,p(!1)),F=o(A),y=e=>{var t,r;e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(t=e.target)==null||t.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(r=e.target)==null||r.setSelectionRange(0,0),e.target.type="number")},O=e=>!m.value&&!S.value&&!F.value&&(e==null?void 0:e.focus());return P(m,()=>{var e;m.value||(e=E.value)==null||e.focus()}),(e,t)=>!a(x)&&a(g)?T((v(),c("input",{key:0,ref:O,"onUpdate:modelValue":t[0]||(t[0]=r=>$(i)?i.value=r:null),class:"nc-cell-field outline-none py-1 border-none rounded-md w-full h-full",type:"number",step:a(C),placeholder:e.placeholder,style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=r=>g.value=!1),onKeydown:[u(n(y,["stop"]),["down"]),t[2]||(t[2]=u(n(()=>{},["stop"]),["left"])),t[3]||(t[3]=u(n(()=>{},["stop"]),["right"])),u(n(y,["stop"]),["up"]),t[4]||(t[4]=u(n(()=>{},["stop"]),["delete"])),t[5]||(t[5]=n(()=>{},["alt","stop"]))],onSelectstartCapture:t[6]||(t[6]=n(()=>{},["stop"])),onMousedown:t[7]||(t[7]=n(()=>{},["stop"]))},null,40,W)),[[_,a(i)]]):a(i)===null&&a(k)?(v(),c("span",q,w(e.$t("general.null")),1)):(v(),c("span",z,w(a(M)),1))}}),X=G(H,[["__scopeId","data-v-ec582bf8"]]);export{X as default};
