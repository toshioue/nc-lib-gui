import{o,c as E,a as C,f as ft,ce as Ne,gX as pt,ai as _t,bL as Le,r as I,d0 as yt,g as X,dS as gt,g6 as vt,au as bt,at as ce,cB as kt,cH as ht,gY as Ct,cU as v,fG as Tt,aj as wt,H as me,i as St,a_ as Ie,an as R,U as g,w as n,al as q,am as J,P as s,t as b,b as h,S as $,Q as Oe,V as B,W as A,d as ee,Y as de,ak as fe,aF as Ue,a7 as pe,cd as $t,gZ as Re,ao as Pe,cV as Et,cW as Dt,dE as Be,a1 as Mt,ap as Nt,dt as Lt,aS as It,dh as Ot,A as Ut,dC as Rt,g_ as Pt,dG as Ve,_ as Bt}from"./BLdk6lRf.js";import{u as Vt}from"./wY1y7Ha2.js";import{a as Ft,f as Fe,e as jt}from"./DD6KJAAC.js";import{g as At}from"./CwqgNcWF.js";import{F as je}from"./JCToPTxN.js";import{C as xt}from"./C9I3jrHo.js";import{_ as qt}from"./7llLzxgh.js";import{_ as Kt,C as Wt}from"./BHsm5GSJ.js";import"./JimKVLH8.js";import{I as Ht}from"./DWFLnnq8.js";import{S as Gt,_ as Yt}from"./BrF0EXdL.js";import{_ as zt}from"./BLwY008C.js";import"./wBAlULwF.js";import"./BD_L_KCX.js";import"./C0Si9_oy.js";import"./DCNkOWj0.js";import"./Cajlse94.js";import"./DZeneEWs.js";import"./KHtB3uuq.js";import"./BQQOEPN4.js";import"./CBNgcPSC.js";import"./BEQSmtSk.js";import"./CAR_5qDD.js";import"./C-Z2v8Hi.js";import"./BTh9o-aK.js";import"./ETGzLqdt.js";import"./DTv03lbO.js";const Zt={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Qt=C("path",{fill:"currentColor",d:"M7.5 3C5 3 3 5 3 7.5S5 12 7.5 12c2 0 3.6-1.2 4.2-3H15v3h3V9h3V6h-9.3c-.6-1.8-2.2-3-4.2-3m0 3C8.3 6 9 6.7 9 7.5S8.3 9 7.5 9S6 8.3 6 7.5S6.7 6 7.5 6m4.5 8l-1.1 2.6l-2.9.3l2.2 1.9l-.7 2.8l2.5-1.5l2.4 1.5l-.6-2.8l2.2-1.9l-2.9-.2z"},null,-1),Xt=[Qt];function Jt(f,_e){return o(),E("svg",Zt,[...Xt])}const ea={name:"mdi-key-star",render:Jt},ta=[{name:"Column Name",dataIndex:"column_name",key:"column_name",width:250},{name:"Column Type",dataIndex:"column_type",key:"uidt",width:250},{name:"Select Option",key:"dtxp"},{name:"Action",key:"action",align:"right"}],aa=[{name:"Source column",dataIndex:"source_column",key:"source_column",width:400},{name:"Destination column",dataIndex:"destination_column",key:"destination_column",width:400},{name:"Action",key:"action",align:"center",width:50}];var na={};const la={key:0,class:"text-center"},sa={class:"font-weight-bold text-lg flex items-center gap-2 truncate"},oa={key:0},ia={key:1},ra={class:"flex items-center"},ua={class:"ml-2"},ca={key:0,class:"text-center"},ma={class:"flex flex-col w-full"},da={key:0,class:"text-red-500 ml-3"},fa={key:0},pa={key:1},_a={key:2},ya={class:"flex items-center float-right mr-4"},ga={class:"flex items-center"},va={class:"mt-5 flex gap-2 justify-center"},ba={class:"flex items-center"},ka={class:"flex items-center"},ha={class:"flex items-center"},Ca={class:"flex items-center gap-1"},Ta=ft({__name:"Editor",props:{quickImportType:{},baseTemplate:{},importData:{},importColumns:{},importDataOnly:{type:Boolean},maxRowsToParse:{},baseId:{},sourceId:{},importWorker:{}},emits:["import","error","change"],setup(f,{expose:_e,emit:Ae}){const Y=Ae;Ne.extend(pt);const{t:V}=_t(),ye=Le(yt,I()),K=X(()=>{var e;return((e=ye.value)==null?void 0:e.columns)||[]}),xe=Le(vt,gt()),qe=je.useForm,{$api:te}=Ut(),{addTab:Ke}=Vt(),We=bt(),{bases:He}=ce(We),{base:Ge}=ce(kt()),P=X(()=>He.value.get(f.baseId)||Ge.value),ge=ht(),{openTable:Ye,loadProjectTables:ze}=ge,{baseTables:Ze}=ce(ge),ve=X(()=>{const e={};for(const a of P.value.sources??[])a.id&&(e[a.id]=Ct.create({client:a.type}));return e}),se=X(()=>ve.value[f.sourceId]||Object.values(ve.value)[0]),ae=I([]),x=I([]),Qe=I([]),oe=I([]),W=I(!1),be=I({}),ke=I([]),z=I(),Xe=I(Object.keys(v).filter(e=>!Tt(v[e])&&![v.ForeignKey,v.ID,v.CreatedTime,v.LastModifiedTime,v.CreatedBy,v.LastModifiedBy,v.Barcode,v.Button].includes(v[e])).map(e=>({value:e,label:e}))),M=I({}),i=wt({title:null,name:"Base Name",tables:[]}),Je=X(()=>i.tables.reduce((e,a,t)=>{var l;return e[`tables.${t}.table_name`]=[Ft],ae.value[t]=!1,(l=a.columns)==null||l.forEach((_,r)=>{e[`tables.${t}.columns.${r}.title`]=[Fe(),jt()],e[`tables.${t}.columns.${r}.uidt`]=[Fe()],we(_)&&(ae.value[t]=!0)}),e},{})),{validate:ie,validateInfos:ne,modelRef:et}=qe(i,Je),he=I(!f.importDataOnly),Ce=I();me(()=>M.value,()=>{let e=!0;if(f.importDataOnly)for(const a of Object.keys(M.value)){Ee(a)||(e=!1);for(const t of M.value[a])if(!ot(t,a))return!1}else for(const[a,t]of Object.entries(ne))t!=null&&t.validateStatus&&t.validateStatus==="error"&&(e=!1);he.value=e},{deep:!0});const re=I([]);St(()=>{tt(),re.value=i.tables.map(e=>e.table_name),f.importDataOnly&&rt(),Ie(()=>{var e;(e=oe.value[0])==null||e.focus()})});function Te(e,a){return a.value.toUpperCase().includes(e.toUpperCase())}function tt(){f.baseTemplate&&(at(f.baseTemplate),x.value=Array.from({length:i.tables.length||0},(e,a)=>a),ae.value=Array.from({length:i.tables.length||0},()=>!1))}function at({tables:e=[],...a}){const t={...a,tables:e.map(({v:l=[],columns:_=[],...r})=>({...r,columns:[..._.map((N,D)=>(N.key=D,N)),...l.map(N=>({column_name:N.title,table_name:{...N}}))]}))};Object.assign(i,t)}function we(e){return e.uidt==="MultiSelect"||e.uidt==="SingleSelect"}function Se(e){i.tables.splice(e,1)}function nt(e,a){const t=i.tables[e].columns.findIndex(l=>l.key===a);i.tables[e].columns.splice(t,1)}function le(e,a){i.tables[e].columns.push({key:i.tables[e].columns.length,title:`title${i.tables[e].columns.length+1}`,column_name:`title${i.tables[e].columns.length+1}`,uidt:a}),Ie(()=>{const t=oe.value[i.tables[e].columns.length-1];t.focus(),t.select()})}function $e(e,a){Qe.value[e]=a}function lt(e,a){const t={};return e.map(l=>(a||[]).reduce((_,r)=>{var F;const N=r.title in l?r.title:r.ref_column_name;let D=l[N];if(r.uidt===v.Date&&D){let L;(F=r==null?void 0:r.meta)!=null&&F.date_format?(L=r.meta.date_format,t[r.key]=L):r.key in t?L=t[r.key]:(L=Rt(D),t[r.key]=L),D=Re(D,L)}else if(r.uidt===v.DateTime&&D){const L=Pt(l[N]);D=Ne(l[N],L).format("YYYY-MM-DD HH:mm")}return{..._,[r.title]:D}},{}))}function st(e){const a=K.value.filter(t=>{var l;return(t.pk?!t.ai&&!t.cdf&&!((l=t.meta)!=null&&l.ag):!t.cdf&&t.rqd)&&!M.value[e].some(_=>_.destCn===t.title)});return a.length?(R.error(`${V("msg.error.columnsRequired")} : ${a.map(t=>t.title).join(", ")}`),!1):!0}function Ee(e){return M.value[e].filter(a=>a.enabled===!0).length===0?(R.error(V("msg.error.selectAtleastOneColumn")),!1):!0}function ot(e,a){if(!e.enabled)return!0;if(!e.destCn)return R.error(`${V("msg.error.columnDescriptionNotFound")} ${e.srcCn}`),!1;if(M.value[a].filter(l=>l.destCn===e.destCn).length>1)return R.error(V("msg.error.duplicateMappingFound")),!1;const t=K.value.find(l=>l.title===e.destCn);for(const l of Object.keys(f.importData))switch((t.pk?!t.ai&&!t.cdf:!t.cdf&&t.rqd)&&f.importData[l].slice(0,f.maxRowsToParse).some(_=>_[e.srcCn]===null||_[e.srcCn]===void 0||_[e.srcCn]==="")&&R.error(V("msg.error.nullValueViolatesNotNull")),t.uidt){case v.Number:if(f.importData[l].slice(0,f.maxRowsToParse).some(_=>_[e.sourceCn]!==null&&_[e.srcCn]!==void 0&&isNaN(+_[e.srcCn])))return R.error(V("msg.error.sourceHasInvalidNumbers")),!1;break;case v.Checkbox:if(f.importData[l].slice(0,f.maxRowsToParse).some(_=>{if(_[e.srcCn]!==null&&_[e.srcCn]!==void 0){let r=_[e.srcCn];return typeof r=="string"?(r=r.replace(/["']/g,"").toLowerCase().trim(),!(r==="false"||r==="no"||r==="n"||r==="0"||r==="true"||r==="yes"||r==="y"||r==="1")):r!==1&&r!==0&&r!==!0&&r!==!1}return!1}))return R.error(V("msg.error.sourceHasInvalidBoolean")),!1;break}return!0}function ue(e,a,t,l){be.value[`${e}-${a}`]=`Importing data to ${e} - ${a}: ${t}/${l} records`}async function it(){var t,l,_,r,N,D,F,L,Z,Q;if(f.importDataOnly){for(const k of i.tables)if(!st(k.table_name)||!Ee(k.table_name))return;try{W.value=!0;const k=(t=ye.value)==null?void 0:t.id,T=P.value.id,O=i.tables.map(S=>S.table_name);await Promise.all(Object.keys(f.importData).map(S=>(async m=>{if(!O.includes(m))return;const U=f.importData[m],d=U.length;for(let p=0,u=0;p<d;p+=f.maxRowsToParse){const c=U.slice(p,p+f.maxRowsToParse).map(y=>M.value[m].reduce((H,j)=>{if(j.enabled&&j.destCn){const G=K.value.find(dt=>dt.title===j.destCn);let w=y[j.srcCn];G.uidt===v.Checkbox?(w=w?w.replace(/["']/g,"").toLowerCase().trim():"false",w==="false"||w==="no"||w==="n"?w="0":(w==="true"||w==="yes"||w==="y")&&(w="1")):G.uidt===v.Number||G.uidt===v.SingleSelect||G.uidt===v.MultiSelect?w===""&&(w=null):G.uidt===v.Date&&w&&(w=Re(w,G.meta.date_format)),H[j.destCn]=w}return H},{}));await te.dbTableRow.bulkCreate("noco",T,k,c),ue(T,k,u,d),u+=c.length}})(S))),xe.trigger(),R.success(V("msg.success.tableDataImported"))}catch(k){R.error(await Pe(k))}finally{W.value=!1}}else{try{await ie()}catch{throw W.value=!1,new Error("Please fill all the required values")}try{W.value=!0;const k={id:"",title:"",baseId:""};for(const T of i.tables){const O=se==null?void 0:se.value.getNewTableColumns().filter(m=>m.column_name!=="title");for(const m of O)(l=T.columns)!=null&&l.some(U=>{var d;return((d=U.column_name)==null?void 0:d.toLowerCase())===m.column_name.toLowerCase()})||(_=T.columns)==null||_.push(m);if(T.columns)for(const m of T.columns)((r=m.column_name)==null?void 0:r.toLowerCase())==="id"&&!("pk"in m)&&(m.pk=!0,m.rqd=!0),(!Et(m)||["created_at","updated_at"].includes(m.column_name))&&m.uidt!==v.SingleSelect&&m.uidt!==v.MultiSelect&&delete m.dtxp;const S=await te.source.tableCreate((N=P.value)==null?void 0:N.id,f.sourceId||((F=(D=P.value)==null?void 0:D.sources)==null?void 0:F[0].id),{table_name:T.table_name,title:"",columns:T.columns||[]});na.NC_SANITIZE_COLUMN_NAME!=="false"&&S.columns.forEach((m,U)=>{T.columns[U].column_name=m.column_name}),T.id=S.id,T.title=S.title,k.id===""&&k.title===""&&k.baseId===""&&(k.id=S.id,k.title=S.title,k.baseId=P.value.id),(Z=(L=S==null?void 0:S.columns)==null?void 0:L[0])!=null&&Z.id&&await te.dbTableColumn.primaryColumnSet(S.columns[0].id)}if(f.importData){const T=f.maxRowsToParse,O=P.value.title;await Promise.all(i.tables.map(S=>(async m=>{let U=0,d=0;const p=f.importData[m.ref_table_name];if(p){d+=p.length;for(let u=0;u<p.length;u+=T){ue(O,m.title,U,d);const c=lt(p.slice(u,u+T),m.columns);await te.dbTableRow.bulkCreate("noco",P.value.id,m.id,c),U+=c.length}ue(O,m.title,d,d)}})(S)))}await ze(P.value.id,!0),Ke({...k,type:Dt.TABLE})}catch(k){R.error(await Pe(k))}finally{W.value=!1}}if(!((Q=i.tables)!=null&&Q.length))return;const e=Ze.value.get(P.value.id),a=e==null?void 0:e.find(k=>k.id===i.tables[0].id);a&&Ye(a)}function rt(){M.value={};for(let e=0;e<i.tables.length;e++)for(const a of f.importColumns[e]){const t={srcCn:a.column_name,destCn:"",enabled:!0};if(K.value){const l=K.value.find(_=>_.column_name===a.column_name);l?t.destCn=l.title:t.enabled=!1}i.tables[e].table_name in M.value||(M.value[i.tables[e].table_name]=[]),M.value[i.tables[e].table_name].push(t)}}_e({importTemplate:it,isValid:he});function De(e){const a=re.value[e],t=i.tables[e].table_name;i.tables.filter(l=>l.table_name===t).length>1?(R.warn("Duplicate Table Name"),i.tables[e].table_name=a):re.value[e]=t,$e(e,!1)}function ut(e,a=!1){return(e===v.SingleSelect||e===v.MultiSelect)&&a}function ct(e,a){const t=e.target.checked;for(const l of M.value[a])l.enabled=t}function mt(e,a){if(!f.importWorker)return;const t=l=>{const[_,r]=l.data;switch(_){case Ve.SINGLE_SELECT_OPTIONS:case Ve.MULTI_SELECT_OPTIONS:f.importWorker.removeEventListener("message",t,!1),e.dtxp=r;break}};e.uidt===v.SingleSelect?(f.importWorker.addEventListener("message",t,!1),f.importWorker.postMessage([Be.GET_SINGLE_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}])):e.uidt===v.MultiSelect&&(f.importWorker.addEventListener("message",t,!1),f.importWorker.postMessage([Be.GET_MULTI_SELECT_OPTIONS,{tableName:a.ref_table_name,columnName:e.ref_column_name}]))}const Me=e=>{const a={};for(const t of e)a[t.name]=t.errors;z.value=a};return me(Ce,()=>{setTimeout(async()=>{try{await ie(),Y("change"),z.value=null}catch(e){Y("error",e),Me(e.errorFields)}},500)}),me(et,async()=>{try{await ie(),Y("change"),z.value=null}catch(e){Y("error",e),Me(e.errorFields)}}),(e,a)=>{const t=je,l=Mt,_=fe,r=xt,N=Nt,D=Gt,F=Yt,L=qt,Z=Kt,Q=Wt,k=Lt,T=Ht,O=zt,S=ea,m=It,U=Ot;return o(),g(U,{spinning:s(W),size:"large"},{tip:n(()=>[(o(!0),E(q,null,J(s(be),(d,p)=>(o(),E("p",{key:p,class:"mt-[10px]"},b(d),1))),128))]),default:n(()=>[e.importDataOnly?(o(),g(k,{key:0},{default:n(()=>[h(t,{model:s(i),name:"import-only"},{default:n(()=>[s(i).tables&&e.quickImportType==="excel"?(o(),E("p",la,b(s(i).tables.length)+" sheet"+b(s(i).tables.length>1?"s":"")+" available for import ",1)):$("",!0)]),_:1},8,["model"]),s(i).tables&&s(i).tables.length?(o(),g(Q,{key:0,activeKey:s(x),"onUpdate:activeKey":a[0]||(a[0]=d=>Oe(x)?x.value=d:null),class:"template-collapse",accordion:""},{default:n(()=>[(o(!0),E(q,null,J(s(i).tables,(d,p)=>(o(),g(Z,{key:p},{header:n(()=>[C("span",sa,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).table),{class:"text-primary"})),ee(" "+b(d.table_name),1)])]),extra:n(()=>[h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.deleteTable")),1)]),default:n(()=>[s(i).tables.length>1?(o(),g(B(("iconMap"in e?e.iconMap:s(A)).delete),{key:0,class:"text-lg mr-8",onClick:de(u=>Se(p),["stop"])},null,8,["onClick"])):$("",!0)]),_:2},1024)]),default:n(()=>[s(M)?(o(),g(L,{key:0,class:"template-form","row-class-name":"template-form-row","data-source":s(M)[d.table_name],columns:s(aa),pagination:!1},{emptyText:n(()=>[h(_,{image:("Empty"in e?e.Empty:s(fe)).PRESENTED_IMAGE_SIMPLE,description:e.$t("labels.noData")},null,8,["image","description"])]),headerCell:n(({column:u})=>[u.key==="source_column"||u.key==="destination_column"?(o(),E("span",oa,b(u.name),1)):$("",!0),u.key==="action"?(o(),E("span",ia,[h(r,{checked:s(ke)[d.table_name],"onUpdate:checked":c=>s(ke)[d.table_name]=c,onChange:c=>ct(c,d.table_name)},null,8,["checked","onUpdate:checked","onChange"])])):$("",!0)]),bodyCell:n(({column:u,record:c})=>[u.key==="source_column"?(o(),g(N,{key:0,class:"truncate"},{title:n(()=>[ee(b(c.srcCn),1)]),default:n(()=>[ee(b(c.srcCn),1)]),_:2},1024)):u.key==="destination_column"?(o(),g(F,{key:1,value:c.destCn,"onUpdate:value":y=>c.destCn=y,class:"w-52","show-search":"","filter-option":Te,"dropdown-class-name":"nc-dropdown-filter-field"},{default:n(()=>[(o(!0),E(q,null,J(s(K),(y,H)=>(o(),g(D,{key:H,value:y.title},{default:n(()=>[C("div",ra,[(o(),g(B(("getUIDTIcon"in e?e.getUIDTIcon:s(At))(y.uidt)))),C("span",ua,b(y.title),1)])]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])):$("",!0),u.key==="action"?(o(),g(r,{key:2,checked:c.enabled,"onUpdate:checked":y=>c.enabled=y},null,8,["checked","onUpdate:checked"])):$("",!0)]),_:2},1032,["data-source","columns"])):$("",!0)]),_:2},1024))),128))]),_:1},8,["activeKey"])):$("",!0)]),_:1})):(o(),g(k,{key:1},{default:n(()=>[h(t,{ref_key:"formRef",ref:Ce,model:s(i),name:"template-editor-form",onKeydown:a[3]||(a[3]=Ue(d=>Y("import"),["enter"]))},{default:n(()=>[s(i).tables&&e.quickImportType==="excel"?(o(),E("p",ca,b(s(i).tables.length)+" sheet"+b(s(i).tables.length>1?"s":"")+" available for import ",1)):$("",!0),s(i).tables&&s(i).tables.length?(o(),g(Q,{key:1,activeKey:s(x),"onUpdate:activeKey":a[2]||(a[2]=d=>Oe(x)?x.value=d:null),class:"template-collapse",accordion:""},{default:n(()=>[(o(!0),E(q,null,J(s(i).tables,(d,p)=>(o(),g(Z,{key:p},{header:n(()=>[h(O,pe({ref_for:!0},s(ne)[`tables.${p}.table_name`],{"no-style":""}),{default:n(()=>{var u,c;return[C("div",ma,[h(T,{value:d.table_name,"onUpdate:value":y=>d.table_name=y,class:"font-weight-bold text-lg",size:"large","hide-details":"",bordered:!1,onClick:a[1]||(a[1]=de(()=>{},["stop"])),onBlur:y=>De(p),onKeydown:Ue(y=>De(p),["enter"]),onDblclick:y=>$e(p,!0)},null,8,["value","onUpdate:value","onBlur","onKeydown","onDblclick"]),(u=s(z))!=null&&u[`tables.${p}.table_name`]?(o(),E("div",da,b((c=s(z))==null?void 0:c[`tables.${p}.table_name`].join(`
`)),1)):$("",!0)])]}),_:2},1040)]),extra:n(()=>[h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.deleteTable")),1)]),default:n(()=>[s(i).tables.length>1?(o(),g(B(("iconMap"in e?e.iconMap:s(A)).delete),{key:0,class:"text-lg mr-8",onClick:de(u=>Se(p),["stop"])},null,8,["onClick"])):$("",!0)]),_:2},1024)]),default:n(()=>[d.columns&&d.columns.length?(o(),g(L,{key:0,class:"template-form","row-class-name":"template-form-row","data-source":d.columns,columns:s(ta),pagination:d.columns.length>50?{defaultPageSize:50,position:["bottomCenter"]}:!1},{emptyText:n(()=>[h(_,{image:("Empty"in e?e.Empty:s(fe)).PRESENTED_IMAGE_SIMPLE,description:e.$t("labels.noData")},null,8,["image","description"])]),headerCell:n(({column:u})=>[u.key==="column_name"?(o(),E("span",fa,b(e.$t("labels.columnName")),1)):u.key==="uidt"?(o(),E("span",pa,b(e.$t("labels.columnType")),1)):u.key==="dtxp"&&s(ae)[p]?(o(),E("span",_a,b(e.$t("general.options")),1)):$("",!0)]),bodyCell:n(({column:u,record:c})=>[u.key==="column_name"?(o(),g(O,pe({key:0,ref_for:!0},s(ne)[`tables.${p}.columns.${c.key}.${u.key}`]),{default:n(()=>[h(T,{ref_for:!0,ref:y=>s(oe)[c.key]=y,value:c.title,"onUpdate:value":y=>c.title=y},null,8,["value","onUpdate:value"])]),_:2},1040)):u.key==="uidt"?(o(),g(O,pe({key:1,ref_for:!0},s(ne)[`tables.${p}.columns.${c.key}.${u.key}`]),{default:n(()=>[h(F,{value:c.uidt,"onUpdate:value":y=>c.uidt=y,class:"w-52","show-search":"","filter-option":Te,"dropdown-class-name":"nc-dropdown-template-uidt",onChange:y=>mt(c,d)},{default:n(()=>[(o(!0),E(q,null,J(s(Xe),(y,H)=>(o(),g(D,{key:H,value:y.value},{default:n(()=>{var j;return[h(l,{placement:"right"},$t({default:n(()=>[ee(" "+b(y.label),1)]),_:2},[ut(y.label,(j=d.columns[c.key])==null?void 0:j._disableSelect)?{name:"title",fn:n(()=>[ee(b(e.$t("msg.tooLargeFieldEntity",{entity:y.label})),1)]),key:"0"}:void 0]),1024)]}),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","onChange"])]),_:2},1040)):u.key==="dtxp"?(o(),E(q,{key:2},[we(c)?(o(),g(O,{key:0},{default:n(()=>[h(T,{value:c.dtxp,"onUpdate:value":y=>c.dtxp=y},null,8,["value","onUpdate:value"])]),_:2},1024)):$("",!0)],64)):$("",!0),u.key==="action"?(o(),E(q,{key:3},[c.key===0?(o(),g(l,{key:0},{title:n(()=>[C("span",null,b(e.$t("general.primaryValue")),1)]),default:n(()=>[C("div",ya,[h(S,{class:"text-lg"})])]),_:1})):(o(),g(l,{key:1},{title:n(()=>[C("span",null,b(e.$t("activity.column.delete")),1)]),default:n(()=>[h(m,{type:"text",onClick:y=>nt(p,c.key)},{default:n(()=>[C("div",ga,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).delete),{class:"text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024))],64)):$("",!0)]),_:2},1032,["data-source","columns","pagination"])):$("",!0),C("div",va,[h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addNumber")),1)]),default:n(()=>[h(m,{class:"group",onClick:u=>le(p,"Number")},{default:n(()=>[C("div",ba,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).number),{class:"group-hover:!text-accent flex text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addSingleLineText")),1)]),default:n(()=>[h(m,{class:"group",onClick:u=>le(p,"SingleLineText")},{default:n(()=>[C("div",ka,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).text),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addLongText")),1)]),default:n(()=>[h(m,{class:"group",onClick:u=>le(p,"LongText")},{default:n(()=>[C("div",ha,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).longText),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024),h(l,{bottom:""},{title:n(()=>[C("span",null,b(e.$t("activity.column.addOther")),1)]),default:n(()=>[h(m,{class:"group",onClick:u=>le(p,"SingleLineText")},{default:n(()=>[C("div",Ca,[(o(),g(B(("iconMap"in e?e.iconMap:s(A)).plus),{class:"group-hover:!text-accent text-lg"}))])]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1},8,["activeKey"])):$("",!0)]),_:1},8,["model"])]),_:1}))]),_:1},8,["spinning"])}}}),Qa=Bt(Ta,[["__scopeId","data-v-50f68b08"]]);export{Qa as default};
