import{f as L,ad as B,r as g,ai as C,g as M,ae as y,H as S,o as m,S as v,w as o,a as r,t as s,P as n,c as V,d,T as b,a8 as w,b as k,Q as E,aj as R,ak as T,a0 as z}from"./Cgw6cdOy.js";import{_ as j}from"./S1x-kZdE.js";import{_ as U}from"./CpJUN2HL.js";const G={class:"flex flex-row pb-2 mb-3 font-medium text-lg text-gray-800"},H={key:0,class:"mb-3 text-gray-800"},I={class:"ml-1"},K={class:"flex flex-row gap-x-2 mt-2.5 pt-2.5 justify-end"},q=L({__name:"DeleteModal",props:{visible:{type:Boolean},entityName:{},onDelete:{},deleteLabel:{},showDefaultDeleteMsg:{type:Boolean,default:!0}},emits:["update:visible"],setup($,{emit:D}){const l=$,t=B(l,"visible",D),i=g(!1),u=g(),{t:N}=C(),c=M(()=>l.deleteLabel??N("general.delete")),f=async()=>{i.value=!0;try{await l.onDelete(),t.value=!1}catch(e){console.error(e),R.error(await T(e))}finally{i.value=!1}};return y("Escape",()=>{t.value&&(t.value=!1)}),y("Enter",()=>{i.value||t.value&&f()}),S(t,e=>{e&&setTimeout(()=>{var a;(a=u.value)==null||a.focus()},100)}),(e,a)=>{const h=U,p=z,x=j;return m(),v(x,{visible:n(t),"onUpdate:visible":a[1]||(a[1]=_=>E(t)?t.value=_:null),size:"small",centered:""},{default:o(()=>[r("div",{ref_key:"modalRef",ref:u,class:"flex flex-col p-6"},[r("div",G,s(n(c))+" "+s(l.entityName),1),e.showDefaultDeleteMsg?(m(),V("div",H,[d(s(e.$t("msg.areYouSureUWantToDeleteLabel",{deleteLabel:n(c).toLowerCase()})),1),r("span",I,s(l.entityName.toLowerCase())+"?",1)])):b("",!0),w(e.$slots,"entity-preview"),e.$slots.warning?(m(),v(h,{key:1,type:"warning","show-icon":""},{message:o(()=>[w(e.$slots,"warning")]),_:3})):b("",!0),r("div",K,[k(p,{type:"secondary",size:"small",onClick:a[0]||(a[0]=_=>t.value=!1)},{default:o(()=>[d(s(e.$t("general.cancel")),1)]),_:1}),k(p,{key:"submit",type:"danger",size:"small","html-type":"submit",loading:n(i),"data-testid":"nc-delete-modal-delete-btn",onClick:f},{loading:o(()=>[d(s(e.$t("general.deleting")),1)]),default:o(()=>[d(s(`${n(c)} ${l.entityName}`)+" ",1)]),_:1},8,["loading"])])],512)]),_:3},8,["visible"])}}});export{q as _};
