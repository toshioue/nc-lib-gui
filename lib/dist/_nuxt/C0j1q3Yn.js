import{f as h,N as C,bN as o,aE as O,fP as K,r as p,hG as U,hq as B,g as d,ad as L,iT as w,gU as P,aF as T,H as _,P as l,R as A,dm as G,o as c,c as v,Q as J,aL as u,Y as a,t as b,_ as $}from"./3QBYHahY.js";const q=["step","placeholder","onKeydown"],H={key:1,class:"nc-cell-field nc-null uppercase"},Q={key:2,class:"nc-cell-field"},Y=h({__name:"Decimal",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(N,{emit:I}){const D=N,E=I,{showNull:S}=C(),g=o(O),s=o(K,null),j=o(U,p(!1)),k=o(B,p(!1)),x=p(),f=d(()=>typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}),n=L(D,"modelValue",E),M=d(()=>n.value===null||isNaN(Number(n.value))?null:f.value.isLocaleString?w(Number(n.value),f.value.precision??1).toLocaleString():w(Number(n.value),f.value.precision??1)),i=d({get:()=>n.value,set:e=>{e===""?n.value=null:n.value=e}}),F=d(()=>{const t=(typeof(s==null?void 0:s.value.meta)=="string"?JSON.parse(s.value.meta):(s==null?void 0:s.value.meta)??{}).precision??1;return Number(.1**t).toFixed(t)}),m=o(P,p(!1)),R=o(T),y=e=>{var t,r;e.key==="ArrowDown"?(e.preventDefault(),e.target.type="text",(t=e.target)==null||t.setSelectionRange(e.target.value.length,e.target.value.length),e.target.type="number"):e.key==="ArrowUp"&&(e.preventDefault(),e.target.type="text",(r=e.target)==null||r.setSelectionRange(0,0),e.target.type="number")},V=e=>!m.value&&!j.value&&!R.value&&(e==null?void 0:e.focus());return _(m,()=>{var e;m.value||(e=x.value)==null||e.focus()}),(e,t)=>!l(k)&&l(g)?A((c(),v("input",{key:0,ref:V,"onUpdate:modelValue":t[0]||(t[0]=r=>J(i)?i.value=r:null),class:"nc-cell-field outline-none py-1 border-none rounded-md w-full h-full",type:"number",step:l(F),placeholder:e.placeholder,style:{"letter-spacing":"0.06rem"},onBlur:t[1]||(t[1]=r=>g.value=!1),onKeydown:[u(a(y,["stop"]),["down"]),t[2]||(t[2]=u(a(()=>{},["stop"]),["left"])),t[3]||(t[3]=u(a(()=>{},["stop"]),["right"])),u(a(y,["stop"]),["up"]),t[4]||(t[4]=u(a(()=>{},["stop"]),["delete"]))],onSelectstartCapture:t[5]||(t[5]=a(()=>{},["stop"])),onMousedown:t[6]||(t[6]=a(()=>{},["stop"]))},null,40,q)),[[G,l(i)]]):l(i)===null&&l(S)?(c(),v("span",H,b(e.$t("general.null")),1)):(c(),v("span",Q,b(l(M)),1))}}),W=$(Y,[["__scopeId","data-v-b15d1721"]]);export{W as default};
