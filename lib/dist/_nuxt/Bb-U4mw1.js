const __vite__fileDeps=["./DaRAoaed.js","./DZZ6t_j4.js","./entry.DIDWwc7m.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{u as W,f as w,N as l,o as u,c as v,a as _,e as G,ag as Q,L as X,bL as s,g2 as Z,aC as Y,r as f,h_ as ee,ir as le,i1 as te,hK as ne,ha as oe,aD as ae,dc as T,gZ as V,F as se,ah as re,P as ue,dk as ie,O as de,aJ as g,W as r,t as q,Q as z,w as b,b as h,d as ce,R as me,X as fe,a4 as ve,a1 as pe}from"./DZZ6t_j4.js";import{_ as ye}from"./CyRMlOXW.js";const ge=t=>{if(t)try{return Object.entries(JSON.parse(t)).map(([i,d])=>[new RegExp(i),d])}catch(i){console.error(i);return}};function he(t){const d=W().currentRoute,o=w(()=>({behavior:d.value.query.url_behavior,overlay:d.value.query.url_overlay,rules:ge(d.value.query.url_rules)})),C=w(()=>{var a;const m={behavior:o.value.behavior,overlay:o.value.overlay};if(o.value.rules&&(!o.value.behavior||!o.value.overlay)){for(const[k,j]of o.value.rules)if((a=l(t))!=null&&a.match(k))return Object.assign(m,j)}return m});return{cellUrlConfig:o.value,cellUrlOptions:C}}const we={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xe=_("g",{fill:"currentColor"},[_("path",{d:"M12 4a8 8 0 1 0 0 16a8 8 0 0 0 0-16M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12"}),_("path",{d:"M12 14a1 1 0 0 1-1-1V7a1 1 0 1 1 2 0v6a1 1 0 0 1-1 1m-1.5 2.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0"})],-1),Ve=[xe];function be(t,i){return u(),v("svg",we,[...Ve])}const _e={name:"mi-circle-warning",render:be},Ce=fe(()=>ve(()=>import("./DaRAoaed.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(t=>t.default||t)),ke={class:"flex flex-row items-center justify-between w-full h-full"},je={key:1,class:"nc-cell-field nc-null uppercase"},Ie={key:4,class:"w-9/10 overflow-ellipsis overflow-hidden"},Oe={key:5,class:"mr-1 w-1/10"},Re={class:"flex flex-row items-center"},Me=G({__name:"Url",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:i}){const d=i,{t:o}=Q(),{showNull:C}=X(),m=s(Z),a=s(Y),k=s(ee,f(!1)),j=s(le,f(!1)),I=s(te,f(void 0)),O=s(ne,f(!1)),K=s(oe,f(!1)),R=s(ae),c=n=>{var e;return(e=n==null?void 0:n.trim)==null?void 0:e.call(n)},p=f(t.modelValue),x=w({get:()=>t.modelValue,set:n=>{var e;p.value=n,(!((e=T(m.value.meta))!=null&&e.validate)||n&&V(c(n))||!n||R.value)&&d("update:modelValue",n)}}),U=w(()=>t.modelValue&&V(c(t.modelValue))),E=w(()=>!t.modelValue||!V(c(t.modelValue))?"":/^https?:\/\//.test(c(t.modelValue))?c(t.modelValue):`https://${c(t.modelValue)}`),{cellUrlOptions:y}=he(E),A=n=>!K.value&&!k.value&&!R.value&&(n==null?void 0:n.focus());return se(()=>a.value,()=>{var n;if(!R.value&&((n=T(m.value.meta))!=null&&n.validate)&&!a.value&&p.value&&!V(c(p.value))){re.error(o("msg.error.invalidURL")),p.value=void 0;return}p.value=t.modelValue}),(n,e)=>{var N,B,$,D,F,S;const M=Ce,L=ye,H=_e,J=pe;return u(),v("div",ke,[!l(O)&&l(a)?ue((u(),v("input",{key:0,ref:A,"onUpdate:modelValue":e[0]||(e[0]=P=>de(x)?x.value=P:null),class:"nc-cell-field outline-none w-full py-1 bg-transparent h-full",onBlur:e[1]||(e[1]=P=>a.value=!1),onKeydown:[e[2]||(e[2]=g(r(()=>{},["stop"]),["down"])),e[3]||(e[3]=g(r(()=>{},["stop"]),["left"])),e[4]||(e[4]=g(r(()=>{},["stop"]),["right"])),e[5]||(e[5]=g(r(()=>{},["stop"]),["up"])),e[6]||(e[6]=g(r(()=>{},["stop"]),["delete"])),e[7]||(e[7]=r(()=>{},["alt","stop"]))],onSelectstartCapture:e[8]||(e[8]=r(()=>{},["stop"])),onMousedown:e[9]||(e[9]=r(()=>{},["stop"]))},null,544)),[[ie,l(x)]]):l(x)===null&&l(C)?(u(),v("span",je,q(n.$t("general.null")),1)):l(U)&&!((N=l(y))!=null&&N.overlay)?(u(),z(L,{key:2,"no-prefetch":"","no-rel":"",class:"py-1 z-3 underline nc-cell-field-link max-w-full",to:l(E),target:((B=l(y))==null?void 0:B.behavior)==="replace"?void 0:"_blank",tabindex:l(O)?-1:0},{default:b(()=>[h(M,{value:t.modelValue,lines:l(I),class:"nc-cell-field"},null,8,["value","lines"])]),_:1},8,["to","target","tabindex"])):l(U)&&!l(j)&&(($=l(y))!=null&&$.overlay)?(u(),z(L,{key:3,"no-prefetch":"","no-rel":"",class:"py-1 z-3 w-full h-full text-center !no-underline nc-cell-field-link max-w-full",to:l(E),target:((D=l(y))==null?void 0:D.behavior)==="replace"?void 0:"_blank",tabindex:l(O)?-1:0},{default:b(()=>[h(M,{value:l(y).overlay,lines:l(I),class:"nc-cell-field"},null,8,["value","lines"])]),_:1},8,["to","target","tabindex"])):(u(),v("span",Ie,[h(M,{value:t.modelValue,lines:l(I),class:"nc-cell-field"},null,8,["value","lines"])])),(F=l(m).meta)!=null&&F.validate&&!l(U)&&((S=t.modelValue)!=null&&S.length)&&!l(a)?(u(),v("div",Oe,[h(J,{placement:"top"},{title:b(()=>[ce(q(l(o)("msg.error.invalidURL")),1)]),default:b(()=>[_("div",Re,[h(H,{class:"text-red-400 h-4"})])]),_:1})])):me("",!0)])}}});export{Me as default};
