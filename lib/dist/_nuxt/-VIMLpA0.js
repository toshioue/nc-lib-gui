import{f as V,ad as K,N as U,r as k,H as B,o as x,S as I,w as c,b as a,a9 as _,P as t,Q as b,d as w,c as A,t as y,a as D,T as E,gb as F,dD as G}from"./3QBYHahY.js";import{a as H}from"./xWA_7i9p.js";import{C as Q}from"./Dg1gNFnz.js";import{_ as R}from"./kHOslGNR.js";import{_ as $}from"./Cs-k6wm5.js";import{_ as J}from"./DbU9XkQ5.js";import{_ as W}from"./Bk0xUMNV.js";import"./Kma333Sh.js";import"./CWtzMcwx.js";import"./DAKhk9t6.js";import"./wEQwkVjR.js";import"./xnDaHwV-.js";import"./DvDgJkhr.js";import"./Ddy65kPJ.js";import"./ChSCnN6E.js";import"./CmN9vPg3.js";import"./BQQOEPN4.js";import"./Ci1lK5Ee.js";import"./DPgYHC40.js";import"./BsWDDIqE.js";import"./ceYq-xax.js";import"./BEpKpjF5.js";import"./CGxepfeV.js";import"./3ezdMRmZ.js";import"./og6cBSyd.js";const M=[{title:"Application",key:"application",children:[{title:"application/dicom",key:"application/dicom"},{title:"application/eps",key:"application/eps"},{title:"application/epub+zip",key:"application/epub+zip"},{title:"application/gzip",key:"application/gzip"},{title:"application/mxf",key:"application/mxf"},{title:"application/ogg",key:"application/ogg"},{title:"application/pdf",key:"application/pdf"},{title:"application/pgp-encrypted",key:"application/pgp-encrypted"},{title:"application/postscript",key:"application/postscript"},{title:"application/rtf",key:"application/rtf"},{title:"application/vnd.ms-asf",key:"application/vnd.ms-asf"},{title:"application/vnd.ms-cab-compressed",key:"application/vnd.ms-cab-compressed"},{title:"application/vnd.ms-fontobject",key:"application/vnd.ms-fontobject"},{title:"application/vnd.ms-htmlhelp",key:"application/vnd.ms-htmlhelp"},{title:"application/vnd.ms-outlook",key:"application/vnd.ms-outlook"},{title:"application/vnd.oasis.opendocument.presentation",key:"application/vnd.oasis.opendocument.presentation"},{title:"application/vnd.oasis.opendocument.spreadsheet",key:"application/vnd.oasis.opendocument.spreadsheet"},{title:"application/vnd.oasis.opendocument.text",key:"application/vnd.oasis.opendocument.text"},{title:"application/vnd.openxmlformats-officedocument.presentationml.presentation",key:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{title:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",key:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{title:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",key:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{title:"application/vnd.sketchup.skp",key:"application/vnd.sketchup.skp"},{title:"application/vnd.tcpdump.pcap",key:"application/vnd.tcpdump.pcap"},{title:"application/wasm",key:"application/wasm"},{title:"application/x-7z-compressed",key:"application/x-7z-compressed"},{title:"application/x-apache-arrow",key:"application/x-apache-arrow"},{title:"application/x-apple-diskimage",key:"application/x-apple-diskimage"},{title:"application/x-asar",key:"application/x-asar"},{title:"application/x-blender",key:"application/x-blender"},{title:"application/x-bzip2",key:"application/x-bzip2"},{title:"application/x-cfb",key:"application/x-cfb"},{title:"application/x-compress",key:"application/x-compress"},{title:"application/x-deb",key:"application/x-deb"},{title:"application/x-elf",key:"application/x-elf"},{title:"application/x-esri-shape",key:"application/x-esri-shape"},{title:"application/x-google-chrome-extension",key:"application/x-google-chrome-extension"},{title:"application/x-indesign",key:"application/x-indesign"},{title:"application/x-lzh-compressed",key:"application/x-lzh-compressed"},{title:"application/x-lzip",key:"application/x-lzip"},{title:"application/x-mie",key:"application/x-mie"},{title:"application/x-mobipocket-ebook",key:"application/x-mobipocket-ebook"},{title:"application/x-msdownload",key:"application/x-msdownload"},{title:"application/x-nintendo-nes-rom",key:"application/x-nintendo-nes-rom"},{title:"application/x-rar-compressed",key:"application/x-rar-compressed"},{title:"application/x-rpm",key:"application/x-rpm"},{title:"application/x-shockwave-flash",key:"application/x-shockwave-flash"},{title:"application/x-sqlite3",key:"application/x-sqlite3"},{title:"application/x-tar",key:"application/x-tar"},{title:"application/x-unix-archive",key:"application/x-unix-archive"},{title:"application/x-xpinstall",key:"application/x-xpinstall"},{title:"application/x-xz",key:"application/x-xz"},{title:"application/x.apple.alias",key:"application/x.apple.alias"},{title:"application/x.ms.shortcut",key:"application/x.ms.shortcut"},{title:"application/xml",key:"application/xml"},{title:"application/zip",key:"application/zip"},{title:"application/zstd",key:"application/zstd"}]},{title:"Audio",key:"audio",children:[{title:"audio/aac",key:"audio/aac"},{title:"audio/aiff",key:"audio/aiff"},{title:"audio/amr",key:"audio/amr"},{title:"audio/ape",key:"audio/ape"},{title:"audio/midi",key:"audio/midi"},{title:"audio/mp4",key:"audio/mp4"},{title:"audio/mpeg",key:"audio/mpeg"},{title:"audio/ogg",key:"audio/ogg"},{title:"audio/opus",key:"audio/opus"},{title:"audio/qcelp",key:"audio/qcelp"},{title:"audio/vnd.dolby.dd-raw",key:"audio/vnd.dolby.dd-raw"},{title:"audio/vnd.wave",key:"audio/vnd.wave"},{title:"audio/wavpack",key:"audio/wavpack"},{title:"audio/x-dsf",key:"audio/x-dsf"},{title:"audio/x-flac",key:"audio/x-flac"},{title:"audio/x-it",key:"audio/x-it"},{title:"audio/x-m4a",key:"audio/x-m4a"},{title:"audio/x-ms-asf",key:"audio/x-ms-asf"},{title:"audio/x-musepack",key:"audio/x-musepack"},{title:"audio/x-s3m",key:"audio/x-s3m"},{title:"audio/x-voc",key:"audio/x-voc"},{title:"audio/x-xm",key:"audio/x-xm"}]},{title:"Image",key:"image",children:[{title:"image/apng",key:"image/apng"},{title:"image/avif",key:"image/avif"},{title:"image/bmp",key:"image/bmp"},{title:"image/bpg",key:"image/bpg"},{title:"image/flif",key:"image/flif"},{title:"image/gif",key:"image/gif"},{title:"image/heic",key:"image/heic"},{title:"image/heic-sequence",key:"image/heic-sequence"},{title:"image/heif",key:"image/heif"},{title:"image/heif-sequence",key:"image/heif-sequence"},{title:"image/icns",key:"image/icns"},{title:"image/jls",key:"image/jls"},{title:"image/jp2",key:"image/jp2"},{title:"image/jpeg",key:"image/jpeg"},{title:"image/jpm",key:"image/jpm"},{title:"image/jpx",key:"image/jpx"},{title:"image/jxl",key:"image/jxl"},{title:"image/ktx",key:"image/ktx"},{title:"image/mj2",key:"image/mj2"},{title:"image/png",key:"image/png"},{title:"image/tiff",key:"image/tiff"},{title:"image/vnd.adobe.photoshop",key:"image/vnd.adobe.photoshop"},{title:"image/vnd.dwg",key:"image/vnd.dwg"},{title:"image/vnd.ms-photo",key:"image/vnd.ms-photo"},{title:"image/webp",key:"image/webp"},{title:"image/x-adobe-dng",key:"image/x-adobe-dng"},{title:"image/x-canon-cr2",key:"image/x-canon-cr2"},{title:"image/x-canon-cr3",key:"image/x-canon-cr3"},{title:"image/x-fujifilm-raf",key:"image/x-fujifilm-raf"},{title:"image/x-icon",key:"image/x-icon"},{title:"image/x-nikon-nef",key:"image/x-nikon-nef"},{title:"image/x-olympus-orf",key:"image/x-olympus-orf"},{title:"image/x-panasonic-rw2",key:"image/x-panasonic-rw2"},{title:"image/x-sony-arw",key:"image/x-sony-arw"},{title:"image/x-xcf",key:"image/x-xcf"}]},{title:"Video",key:"video",children:[{title:"video/3gpp",key:"video/3gpp"},{title:"video/3gpp2",key:"video/3gpp2"},{title:"video/MP1S",key:"video/MP1S"},{title:"video/MP2P",key:"video/MP2P"},{title:"video/mp2t",key:"video/mp2t"},{title:"video/mp4",key:"video/mp4"},{title:"video/mpeg",key:"video/mpeg"},{title:"video/ogg",key:"video/ogg"},{title:"video/quicktime",key:"video/quicktime"},{title:"video/vnd.avi",key:"video/vnd.avi"},{title:"video/webm",key:"video/webm"},{title:"video/x-flv",key:"video/x-flv"},{title:"video/x-m4v",key:"video/x-m4v"},{title:"video/x-matroska",key:"video/x-matroska"},{title:"video/x-ms-asf",key:"video/x-ms-asf"}]},{title:"Misc",key:"misc",children:[{title:"model/3mf",key:"model/3mf"},{title:"model/gltf-binary",key:"model/gltf-binary"},{title:"model/stl",key:"model/stl"},{title:"text/calendar",key:"text/calendar"},{title:"text/vcard",key:"text/vcard"},{title:"text/plain",key:"text/plain"},{title:"text/html",key:"text/html"},{title:"text/xml",key:"text/xml"},{title:"text/calendar",key:"text/calendar"},{title:"text/javascript",key:"text/javascript"},{title:"text/css",key:"text/css"},{title:"text/csv",key:"text/csv"},{title:"font/otf",key:"font/otf"},{title:"font/ttf",key:"font/ttf"},{title:"font/woff",key:"font/woff"},{title:"font/woff2",key:"font/woff2"}]}],z=M.map(u=>u.children).flat(1),X={key:0,class:"mt-[5px]"},Y={key:0},Z={class:"text-primary font-bold"},L={key:1},je=V({__name:"AttachmentOptions",props:{value:{}},emits:["update:value"],setup(u,{emit:S}){const o=K(u,"value",S),T={},{setAdditionalValidations:C,validateInfos:f}=H(),{appInfo:g}=U(),p=k("");C({...T}),o.value.meta={...g.value.ee&&{maxNumberOfAttachments:Math.max(1,+g.value.ncMaxAttachmentsAllowed||50)||50,maxAttachmentSize:Math.max(1,+g.value.ncAttachmentFieldSize||20)||20,supportedAttachmentMimeTypes:["*"]},...o.value.meta||{}};const d=k([]),j=k(!0),r=k(!0),v=(l,e)=>{if(!e)return null;let s;for(let n=0;n<e.length;n++){const m=e[n];m.children&&(m.children.some(h=>h.key===l)?s=m.key:v(l,m.children)&&(s=v(l,m.children)))}return s};function O(l){l.target.checked?o.value.meta.supportedAttachmentMimeTypes=["*"]:o.value.meta.supportedAttachmentMimeTypes=["application","audio","image","video","misc"]}return B(p,l=>{d.value=z==null?void 0:z.map(e=>e.title.includes(l)?v(e.key,M):null).filter((e,s,n)=>e&&n.indexOf(e)===s),p.value=l,j.value=!0}),(l,e)=>{const s=J,n=W,m=F,h=Q,q=R,N=$,P=G;return x(),I(P,{class:"my-2",gutter:8},{default:c(()=>[a(m,{span:12},{default:c(()=>[a(n,_(t(f)["meta.maxNumberOfAttachments"],{label:"Max Number of Attachments"}),{default:c(()=>[a(s,{value:t(o).meta.maxNumberOfAttachments,"onUpdate:value":e[0]||(e[0]=i=>t(o).meta.maxNumberOfAttachments=i),min:1,class:"!w-full nc-attachment-max-count"},null,8,["value"])]),_:1},16)]),_:1}),a(m,{span:12},{default:c(()=>[a(n,_(t(f)["meta.maxAttachmentSize"],{label:"Max Attachment Size (MB)"}),{default:c(()=>[a(s,{value:t(o).meta.maxAttachmentSize,"onUpdate:value":e[1]||(e[1]=i=>t(o).meta.maxAttachmentSize=i),min:1,class:"!w-full nc-attachment-max-size"},null,8,["value"])]),_:1},16)]),_:1}),a(m,{class:"mt-4",span:24},{default:c(()=>[a(n,_(t(f)["meta.supportedAttachmentMimeTypes"],{class:"!p-[10px] border-2"}),{default:c(()=>[a(h,{checked:t(r),"onUpdate:checked":e[2]||(e[2]=i=>b(r)?r.value=i:null),class:"nc-allow-all-mime-type-checkbox",name:"virtual",onChange:O},{default:c(()=>[w(" Allow All Mime Types ")]),_:1},8,["checked"]),t(r)?E("",!0):(x(),A("div",X,[a(q,{value:t(p),"onUpdate:value":e[3]||(e[3]=i=>b(p)?p.value=i:null),class:"mt-[5px] mb-[15px]",placeholder:"Search"},null,8,["value"]),a(N,{"expanded-keys":t(d),"onUpdate:expandedKeys":e[4]||(e[4]=i=>b(d)?d.value=i:null),checkedKeys:t(o).meta.supportedAttachmentMimeTypes,"onUpdate:checkedKeys":e[5]||(e[5]=i=>t(o).meta.supportedAttachmentMimeTypes=i),checkable:"",height:250,"tree-data":t(M),"auto-expand-parent":t(j),class:"!bg-gray-50 my-[10px]"},{title:c(({title:i})=>[i.indexOf(t(p))>-1?(x(),A("span",Y,[w(y(i.substr(0,i.indexOf(t(p))))+" ",1),D("span",Z,y(t(p)),1),w(" "+y(i.substr(i.indexOf(t(p))+t(p).length)),1)])):(x(),A("span",L,y(i),1))]),_:1},8,["expanded-keys","checkedKeys","tree-data","auto-expand-parent"])]))]),_:1},16)]),_:1})]),_:1})}}});export{je as default};
