const __vite__fileDeps=["./BVVlkhGF.js","./nEPQs079.js","./entry.B8GgT5QA.css","./-QMWbHL6.js","./C3R8onno.js","./Cell.CYBwEWH5.css","./Dj2YYI3r.js","./BQDKbNwe.js","./DAFLhYLz.js","./VirtualCell.BsQKIqYj.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{f as tu,g as ue,gR as tp,av as ap,d0 as ip,fw as yr,H as br,o as $,U as Pe,w as J,a as G,t as wr,P as E,T as ne,b as U,c as B,al as qr,am as Mu,S as xr,fG as op,A as up,gW as sp,Z as ah,a5 as ih,_ as fp,ab as cp,r as oh,a8 as Nu,cD as uh,fq as cr,fr as dp,fJ as lp,cP as hp,fI as D,d9 as vp,cU as dr,ba as pp,eO as gp,a7 as _p,d as bp,a6 as mp,Q as yp,$ as wp}from"./nEPQs079.js";import{_ as qp}from"./B-1vRibT.js";import{u as sh,a as lr,P as Le,g as xp,b as Rp,i as Pu,c as Lu,M as Ep,W as Ap,R as $u,G as Ip,O as Sp,d as Cp}from"./CbdMPhrK.js";import"./BdTvFMnI.js";import"./BfnA8LRy.js";import"./Dmq5P-i4.js";import"./COktFmkf.js";const Tp=ah(()=>ih(()=>import("./BVVlkhGF.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(e=>e.default||e)),kp=ah(()=>ih(()=>import("./Dj2YYI3r.js"),__vite__mapDeps([6,1,2,7,8,9]),import.meta.url).then(e=>e.default||e)),Op={class:"capitalize"},Mp={key:0},Np={key:1,class:"py-1 pr-0.5"},Pp=tu({__name:"TableNode",props:{data:{},showSkeleton:{type:Boolean},dragging:{type:Boolean}},setup(e){const{viewport:r}=sh(),n=ue(()=>e.data.table),t=tp(!1,200);ap(ip,n);const{$e:a}=up(),i=s=>s.type==="mm"?s.fk_parent_column_id:s.fk_child_column_id,o=ue(()=>e.data.pkAndFkColumns.length||e.data.nonPkColumns.length),u=ue(()=>e.data.nonPkColumns.filter(s=>!(s.system&&yr(s)&&/.*_nc_m2m_.*/.test(s.title))));return br(()=>r.value.zoom,()=>{t.value=!0}),(s,c)=>{const f=qp,d=Tp,l=kp,h=sp;return $(),Pe(h,{class:"h-full flex flex-1 justify-center items-center","modifier-key":s.showSkeleton||E(r).zoom>.35?"Alt":void 0,disabled:s.dragging||E(t)},{title:J(()=>[G("div",Op,wr(E(n).table_name),1)]),default:J(()=>[G("div",{class:ne(["relative h-full max-w-76 flex flex-col justify-center bg-white min-w-16 min-h-8 rounded-lg nc-erd-table-node",[`nc-erd-table-node-${E(n).table_name}`,s.showSkeleton?"cursor-pointer items-center min-h-200px min-w-300px":""]]),onClick:c[0]||(c[0]=v=>E(a)("c:erd:node-click"))},[G("div",{class:ne([[(s.showSkeleton,""),(E(o),"")],"text-gray-800 text-sm py-4 border-b-1 border-gray-200 rounded-t-lg w-full h-full px-3 font-medium flex items-center"])},[U(f,{class:ne(["text-primary",{"!text-6xl !w-auto mr-2 !h-18":s.showSkeleton}]),meta:E(n)},null,8,["class","meta"]),G("div",{class:ne([s.showSkeleton?"text-6xl":"","flex pr-2 pl-1"])},wr(E(n).title),3)],2),s.showSkeleton?($(),B("div",Mp,[U(E(lr),{style:{left:"-20px"},class:"opacity-0",position:E(Le).Left,type:"target",connectable:!1},null,8,["position"]),U(E(lr),{style:{right:"-15px"},class:"opacity-0",position:E(Le).Right,type:"source",connectable:!1},null,8,["position"])])):E(o)?($(),B("div",Np,[($(!0),B(qr,null,Mu(s.data.pkAndFkColumns,v=>($(),B("div",{key:v.title,class:ne(["w-full h-full min-w-32 py-2 px-1",`nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`])},[v?($(),Pe(d,{key:0,class:"nc-erd-table-node-column",column:v,"hide-menu":!0},null,8,["column"])):xr("",!0)],2))),128)),($(!0),B(qr,null,Mu(E(u),(v,p)=>{var g;return $(),B("div",{key:v.title},[G("div",{class:ne(["relative w-full h-full flex items-center min-w-32 py-2 px-1",p+1===E(u).length?"rounded-b-lg":""])},[E(yr)(v)?($(),B("div",{key:0,class:ne(["flex w-full",`nc-erd-table-node-${E(n).table_name}-column-${(g=v.title)==null?void 0:g.toLowerCase().replace(" ","_")}`])},[U(E(lr),{id:`s-${i(v.colOptions)}-${E(n).id}`,class:"opacity-0 !right-[-1px]",type:"source",position:E(Le).Right,connectable:!1},null,8,["id","position"]),U(E(lr),{id:`d-${i(v.colOptions)}-${E(n).id}`,class:"opacity-0 !left-[-1px]",type:"target",position:E(Le).Left,connectable:!1},null,8,["id","position"]),U(l,{class:"nc-erd-table-node-column",column:v,"hide-menu":!0},null,8,["column"])],2)):E(op)(v)?($(),Pe(l,{key:1,column:v,"hide-menu":!0,class:ne(`nc-erd-table-node-column nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`)},null,8,["column","class"])):($(),Pe(d,{key:2,column:v,"hide-menu":!0,class:ne(`nc-erd-table-node-column nc-erd-table-node-${E(n).table_name}-column-${v.column_name}`)},null,8,["column","class"]))],2)])}),128))])):xr("",!0)],2)]),_:1},8,["modifier-key","disabled"])}}}),Lp=fp(Pp,[["__scopeId","data-v-12643fac"]]),$p=G("defs",null,[G("linearGradient",{id:"linear-gradient",x1:"-28.83",y1:"770.92",x2:"771.05",y2:"-28.95",gradientUnits:"userSpaceOnUse"},[G("stop",{offset:"0","stop-color":"#06b6d4"}),G("stop",{offset:"0.18","stop-color":"#155e75"}),G("stop",{offset:"0.49","stop-color":"#84cc16"}),G("stop",{offset:"0.88","stop-color":"#10b981"}),G("stop",{offset:"0.99","stop-color":"#047857"})])],-1),Fp=["stroke-width","d","marker-end"],jp=["id","stroke-width","d","marker-end"],Gp=["stroke-width","d"],Dp=["cx","cy"],Bp=["x","y","transform"],Up=["x","y","transform"],Hp=["cx","cy"],zp={inheritAttrs:!1},Vp=tu({...zp,__name:"RelationEdge",props:{id:{},sourceX:{},sourceY:{},targetX:{},targetY:{},sourcePosition:{},targetPosition:{},data:{},style:{},selected:{type:Boolean},showSkeleton:{type:Boolean},markerEnd:{},events:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},curvature:{},interactionWidth:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e){var o,u,s,c;const r=e,n=2,t=cp(r,"data"),a=oh(!1),i=ue(()=>{if(t.value.isSelfRelation){const{sourceX:f,sourceY:d,targetX:l,targetY:h}=r,v=(f-l)*.6;return[`M ${f} ${d} A ${v} 50 0 1 0 ${l} ${h}`,NaN,NaN]}return xp({...r})});return(u=(o=r.events)==null?void 0:o.mouseEnter)==null||u.call(o,()=>{a.value=!0}),(c=(s=r.events)==null?void 0:s.mouseLeave)==null||c.call(s,()=>{a.value=!1}),(f,d)=>($(),B(qr,null,[$p,U(uh,{name:"layout",duration:50,mode:"in-out"},{default:J(()=>[f.selected||E(a)?($(),B("path",{key:0,style:{color:"blue"},color:"blue",stroke:"#3366FF","stroke-width":(f.showSkeleton?n*12:n*3)/(f.selected||E(a)?2:1),fill:"none",d:E(i)[0],"marker-end":f.showSkeleton?f.markerEnd:""},null,8,Fp)):($(),B("path",{key:1,id:f.id,stroke:"#898E99",style:Nu(f.style),"stroke-width":f.showSkeleton?n*4:n,fill:"none",d:E(i)[0],"marker-end":f.showSkeleton?f.markerEnd:""},null,12,jp))]),_:1}),G("path",{class:"opacity-0","stroke-width":f.showSkeleton?n*12:n*8,fill:"none",d:E(i)[0]},null,8,Gp),U(E(Rp),null,{default:J(()=>[G("div",{style:Nu({position:"absolute",transform:`translate(-50%, -50%) translate(${E(i)[1]}px,${E(i)[2]}px)`,color:"white",fontSize:`${f.showSkeleton?n*2:n/2}rem`,backgroundColor:E(t).color,borderRadius:"0.25rem",padding:"0.25rem 0.5rem"}),class:ne(["nodrag nopan color-transition z-1000",[f.selected||E(a)?"opacity-100":"opacity-0 !pointer-events-none",f.showSkeleton?"!text-6xl":"!text-xs",`nc-erd-table-label-${E(t).label.toLowerCase().replace(" ","-").replace("(","").replace(")","")}`]])},wr(f.showSkeleton?E(t).simpleLabel:E(t).label),7)]),_:1}),f.showSkeleton?xr("",!0):($(),B(qr,{key:0},[E(t).isOneToOne?($(),B("circle",{key:0,class:"nc-erd-edge-circle",cx:f.sourceX,cy:f.sourceY,fill:"#fff",r:5,stroke:"#898E99","stroke-width":2},null,8,Dp)):($(),B("rect",{key:1,class:"nc-erd-edge-rect",x:f.sourceX,y:f.sourceY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${f.sourceX+2},${f.sourceY-4})`},null,8,Bp)),E(t).isManyToMany?($(),B("rect",{key:2,class:"nc-erd-edge-rect",x:f.targetX,y:f.targetY-4,width:8,height:8,fill:"#fff",stroke:"#898E99","stroke-width":2,transform:`rotate(45,${f.targetX+2},${f.targetY-4})`},null,8,Up)):($(),B("circle",{key:3,class:"nc-erd-edge-circle",cx:f.targetX,cy:f.targetY,fill:"#fff",r:5,stroke:"#898E99","stroke-width":2},null,8,Hp))],64))],64))}});function au(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qr,Fu;function Kp(){if(Fu)return Qr;Fu=1;function e(){this.__data__=[],this.size=0}return Qr=e,Qr}var en,ju;function Ge(){if(ju)return en;ju=1;function e(r,n){return r===n||r!==r&&n!==n}return en=e,en}var rn,Gu;function Nr(){if(Gu)return rn;Gu=1;var e=Ge();function r(n,t){for(var a=n.length;a--;)if(e(n[a][0],t))return a;return-1}return rn=r,rn}var nn,Du;function Yp(){if(Du)return nn;Du=1;var e=Nr(),r=Array.prototype,n=r.splice;function t(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return nn=t,nn}var tn,Bu;function Wp(){if(Bu)return tn;Bu=1;var e=Nr();function r(n){var t=this.__data__,a=e(t,n);return a<0?void 0:t[a][1]}return tn=r,tn}var an,Uu;function Xp(){if(Uu)return an;Uu=1;var e=Nr();function r(n){return e(this.__data__,n)>-1}return an=r,an}var on,Hu;function Zp(){if(Hu)return on;Hu=1;var e=Nr();function r(n,t){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,t])):a[i][1]=t,this}return on=r,on}var un,zu;function Pr(){if(zu)return un;zu=1;var e=Kp(),r=Yp(),n=Wp(),t=Xp(),a=Zp();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,un=i,un}var sn,Vu;function Jp(){if(Vu)return sn;Vu=1;var e=Pr();function r(){this.__data__=new e,this.size=0}return sn=r,sn}var fn,Ku;function Qp(){if(Ku)return fn;Ku=1;function e(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t}return fn=e,fn}var cn,Yu;function eg(){if(Yu)return cn;Yu=1;function e(r){return this.__data__.get(r)}return cn=e,cn}var dn,Wu;function rg(){if(Wu)return dn;Wu=1;function e(r){return this.__data__.has(r)}return dn=e,dn}var ln,Xu;function fh(){if(Xu)return ln;Xu=1;var e=typeof cr=="object"&&cr&&cr.Object===Object&&cr;return ln=e,ln}var hn,Zu;function ee(){if(Zu)return hn;Zu=1;var e=fh(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=e||r||Function("return this")();return hn=n,hn}var vn,Ju;function De(){if(Ju)return vn;Ju=1;var e=ee(),r=e.Symbol;return vn=r,vn}var pn,Qu;function ng(){if(Qu)return pn;Qu=1;var e=De(),r=Object.prototype,n=r.hasOwnProperty,t=r.toString,a=e?e.toStringTag:void 0;function i(o){var u=n.call(o,a),s=o[a];try{o[a]=void 0;var c=!0}catch{}var f=t.call(o);return c&&(u?o[a]=s:delete o[a]),f}return pn=i,pn}var gn,es;function tg(){if(es)return gn;es=1;var e=Object.prototype,r=e.toString;function n(t){return r.call(t)}return gn=n,gn}var _n,rs;function Ae(){if(rs)return _n;rs=1;var e=De(),r=ng(),n=tg(),t="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?a:t:i&&i in Object(u)?r(u):n(u)}return _n=o,_n}var bn,ns;function W(){if(ns)return bn;ns=1;function e(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return bn=e,bn}var mn,ts;function er(){if(ts)return mn;ts=1;var e=Ae(),r=W(),n="[object AsyncFunction]",t="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!r(u))return!1;var s=e(u);return s==t||s==a||s==n||s==i}return mn=o,mn}var yn,as;function ag(){if(as)return yn;as=1;var e=ee(),r=e["__core-js_shared__"];return yn=r,yn}var wn,is;function ig(){if(is)return wn;is=1;var e=ag(),r=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n(t){return!!r&&r in t}return wn=n,wn}var qn,os;function ch(){if(os)return qn;os=1;var e=Function.prototype,r=e.toString;function n(t){if(t!=null){try{return r.call(t)}catch{}try{return t+""}catch{}}return""}return qn=n,qn}var xn,us;function og(){if(us)return xn;us=1;var e=er(),r=ig(),n=W(),t=ch(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,c=u.hasOwnProperty,f=RegExp("^"+s.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(l){if(!n(l)||r(l))return!1;var h=e(l)?f:i;return h.test(t(l))}return xn=d,xn}var Rn,ss;function ug(){if(ss)return Rn;ss=1;function e(r,n){return r==null?void 0:r[n]}return Rn=e,Rn}var En,fs;function Ie(){if(fs)return En;fs=1;var e=og(),r=ug();function n(t,a){var i=r(t,a);return e(i)?i:void 0}return En=n,En}var An,cs;function iu(){if(cs)return An;cs=1;var e=Ie(),r=ee(),n=e(r,"Map");return An=n,An}var In,ds;function Lr(){if(ds)return In;ds=1;var e=Ie(),r=e(Object,"create");return In=r,In}var Sn,ls;function sg(){if(ls)return Sn;ls=1;var e=Lr();function r(){this.__data__=e?e(null):{},this.size=0}return Sn=r,Sn}var Cn,hs;function fg(){if(hs)return Cn;hs=1;function e(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return Cn=e,Cn}var Tn,vs;function cg(){if(vs)return Tn;vs=1;var e=Lr(),r="__lodash_hash_undefined__",n=Object.prototype,t=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var u=o[i];return u===r?void 0:u}return t.call(o,i)?o[i]:void 0}return Tn=a,Tn}var kn,ps;function dg(){if(ps)return kn;ps=1;var e=Lr(),r=Object.prototype,n=r.hasOwnProperty;function t(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return kn=t,kn}var On,gs;function lg(){if(gs)return On;gs=1;var e=Lr(),r="__lodash_hash_undefined__";function n(t,a){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=e&&a===void 0?r:a,this}return On=n,On}var Mn,_s;function hg(){if(_s)return Mn;_s=1;var e=sg(),r=fg(),n=cg(),t=dg(),a=lg();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,Mn=i,Mn}var Nn,bs;function vg(){if(bs)return Nn;bs=1;var e=hg(),r=Pr(),n=iu();function t(){this.size=0,this.__data__={hash:new e,map:new(n||r),string:new e}}return Nn=t,Nn}var Pn,ms;function pg(){if(ms)return Pn;ms=1;function e(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return Pn=e,Pn}var Ln,ys;function $r(){if(ys)return Ln;ys=1;var e=pg();function r(n,t){var a=n.__data__;return e(t)?a[typeof t=="string"?"string":"hash"]:a.map}return Ln=r,Ln}var $n,ws;function gg(){if(ws)return $n;ws=1;var e=$r();function r(n){var t=e(this,n).delete(n);return this.size-=t?1:0,t}return $n=r,$n}var Fn,qs;function _g(){if(qs)return Fn;qs=1;var e=$r();function r(n){return e(this,n).get(n)}return Fn=r,Fn}var jn,xs;function bg(){if(xs)return jn;xs=1;var e=$r();function r(n){return e(this,n).has(n)}return jn=r,jn}var Gn,Rs;function mg(){if(Rs)return Gn;Rs=1;var e=$r();function r(n,t){var a=e(this,n),i=a.size;return a.set(n,t),this.size+=a.size==i?0:1,this}return Gn=r,Gn}var Dn,Es;function ou(){if(Es)return Dn;Es=1;var e=vg(),r=gg(),n=_g(),t=bg(),a=mg();function i(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var c=o[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=t,i.prototype.set=a,Dn=i,Dn}var Bn,As;function yg(){if(As)return Bn;As=1;var e=Pr(),r=iu(),n=ou(),t=200;function a(i,o){var u=this.__data__;if(u instanceof e){var s=u.__data__;if(!r||s.length<t-1)return s.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(s)}return u.set(i,o),this.size=u.size,this}return Bn=a,Bn}var Un,Is;function Fr(){if(Is)return Un;Is=1;var e=Pr(),r=Jp(),n=Qp(),t=eg(),a=rg(),i=yg();function o(u){var s=this.__data__=new e(u);this.size=s.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=t,o.prototype.has=a,o.prototype.set=i,Un=o,Un}var Hn,Ss;function uu(){if(Ss)return Hn;Ss=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a&&n(r[t],t,r)!==!1;);return r}return Hn=e,Hn}var zn,Cs;function dh(){if(Cs)return zn;Cs=1;var e=Ie(),r=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return zn=r,zn}var Vn,Ts;function jr(){if(Ts)return Vn;Ts=1;var e=dh();function r(n,t,a){t=="__proto__"&&e?e(n,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[t]=a}return Vn=r,Vn}var Kn,ks;function Gr(){if(ks)return Kn;ks=1;var e=jr(),r=Ge(),n=Object.prototype,t=n.hasOwnProperty;function a(i,o,u){var s=i[o];(!(t.call(i,o)&&r(s,u))||u===void 0&&!(o in i))&&e(i,o,u)}return Kn=a,Kn}var Yn,Os;function rr(){if(Os)return Yn;Os=1;var e=Gr(),r=jr();function n(t,a,i,o){var u=!i;i||(i={});for(var s=-1,c=a.length;++s<c;){var f=a[s],d=o?o(i[f],t[f],f,i,t):void 0;d===void 0&&(d=t[f]),u?r(i,f,d):e(i,f,d)}return i}return Yn=n,Yn}var Wn,Ms;function wg(){if(Ms)return Wn;Ms=1;function e(r,n){for(var t=-1,a=Array(r);++t<r;)a[t]=n(t);return a}return Wn=e,Wn}var Xn,Ns;function ie(){if(Ns)return Xn;Ns=1;function e(r){return r!=null&&typeof r=="object"}return Xn=e,Xn}var Zn,Ps;function qg(){if(Ps)return Zn;Ps=1;var e=Ae(),r=ie(),n="[object Arguments]";function t(a){return r(a)&&e(a)==n}return Zn=t,Zn}var Jn,Ls;function nr(){if(Ls)return Jn;Ls=1;var e=qg(),r=ie(),n=Object.prototype,t=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return r(o)&&t.call(o,"callee")&&!a.call(o,"callee")};return Jn=i,Jn}var Qn,$s;function F(){if($s)return Qn;$s=1;var e=Array.isArray;return Qn=e,Qn}var ze={exports:{}},et,Fs;function xg(){if(Fs)return et;Fs=1;function e(){return!1}return et=e,et}ze.exports;var js;function Be(){return js||(js=1,function(e,r){var n=ee(),t=xg(),a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,u=o?n.Buffer:void 0,s=u?u.isBuffer:void 0,c=s||t;e.exports=c}(ze,ze.exports)),ze.exports}var rt,Gs;function Dr(){if(Gs)return rt;Gs=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,a){var i=typeof t;return a=a??e,!!a&&(i=="number"||i!="symbol"&&r.test(t))&&t>-1&&t%1==0&&t<a}return rt=n,rt}var nt,Ds;function su(){if(Ds)return nt;Ds=1;var e=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return nt=r,nt}var tt,Bs;function Rg(){if(Bs)return tt;Bs=1;var e=Ae(),r=su(),n=ie(),t="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",s="[object Function]",c="[object Map]",f="[object Number]",d="[object Object]",l="[object RegExp]",h="[object Set]",v="[object String]",p="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",m="[object Float64Array]",R="[object Int8Array]",q="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",T="[object Uint32Array]",y={};y[b]=y[m]=y[R]=y[q]=y[x]=y[w]=y[A]=y[S]=y[T]=!0,y[t]=y[a]=y[g]=y[i]=y[_]=y[o]=y[u]=y[s]=y[c]=y[f]=y[d]=y[l]=y[h]=y[v]=y[p]=!1;function k(I){return n(I)&&r(I.length)&&!!y[e(I)]}return tt=k,tt}var at,Us;function Br(){if(Us)return at;Us=1;function e(r){return function(n){return r(n)}}return at=e,at}var Ve={exports:{}};Ve.exports;var Hs;function fu(){return Hs||(Hs=1,function(e,r){var n=fh(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i&&n.process,u=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u}(Ve,Ve.exports)),Ve.exports}var it,zs;function tr(){if(zs)return it;zs=1;var e=Rg(),r=Br(),n=fu(),t=n&&n.isTypedArray,a=t?r(t):e;return it=a,it}var ot,Vs;function lh(){if(Vs)return ot;Vs=1;var e=wg(),r=nr(),n=F(),t=Be(),a=Dr(),i=tr(),o=Object.prototype,u=o.hasOwnProperty;function s(c,f){var d=n(c),l=!d&&r(c),h=!d&&!l&&t(c),v=!d&&!l&&!h&&i(c),p=d||l||h||v,g=p?e(c.length,String):[],_=g.length;for(var b in c)(f||u.call(c,b))&&!(p&&(b=="length"||h&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,_)))&&g.push(b);return g}return ot=s,ot}var ut,Ks;function Ur(){if(Ks)return ut;Ks=1;var e=Object.prototype;function r(n){var t=n&&n.constructor,a=typeof t=="function"&&t.prototype||e;return n===a}return ut=r,ut}var st,Ys;function hh(){if(Ys)return st;Ys=1;function e(r,n){return function(t){return r(n(t))}}return st=e,st}var ft,Ws;function Eg(){if(Ws)return ft;Ws=1;var e=hh(),r=e(Object.keys,Object);return ft=r,ft}var ct,Xs;function cu(){if(Xs)return ct;Xs=1;var e=Ur(),r=Eg(),n=Object.prototype,t=n.hasOwnProperty;function a(i){if(!e(i))return r(i);var o=[];for(var u in Object(i))t.call(i,u)&&u!="constructor"&&o.push(u);return o}return ct=a,ct}var dt,Zs;function de(){if(Zs)return dt;Zs=1;var e=er(),r=su();function n(t){return t!=null&&r(t.length)&&!e(t)}return dt=n,dt}var lt,Js;function ye(){if(Js)return lt;Js=1;var e=lh(),r=cu(),n=de();function t(a){return n(a)?e(a):r(a)}return lt=t,lt}var ht,Qs;function Ag(){if(Qs)return ht;Qs=1;var e=rr(),r=ye();function n(t,a){return t&&e(a,r(a),t)}return ht=n,ht}var vt,ef;function Ig(){if(ef)return vt;ef=1;function e(r){var n=[];if(r!=null)for(var t in Object(r))n.push(t);return n}return vt=e,vt}var pt,rf;function Sg(){if(rf)return pt;rf=1;var e=W(),r=Ur(),n=Ig(),t=Object.prototype,a=t.hasOwnProperty;function i(o){if(!e(o))return n(o);var u=r(o),s=[];for(var c in o)c=="constructor"&&(u||!a.call(o,c))||s.push(c);return s}return pt=i,pt}var gt,nf;function Se(){if(nf)return gt;nf=1;var e=lh(),r=Sg(),n=de();function t(a){return n(a)?e(a,!0):r(a)}return gt=t,gt}var _t,tf;function Cg(){if(tf)return _t;tf=1;var e=rr(),r=Se();function n(t,a){return t&&e(a,r(a),t)}return _t=n,_t}var Ke={exports:{}};Ke.exports;var af;function vh(){return af||(af=1,function(e,r){var n=ee(),t=r&&!r.nodeType&&r,a=t&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===t,o=i?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function s(c,f){if(f)return c.slice();var d=c.length,l=u?u(d):new c.constructor(d);return c.copy(l),l}e.exports=s}(Ke,Ke.exports)),Ke.exports}var bt,of;function ph(){if(of)return bt;of=1;function e(r,n){var t=-1,a=r.length;for(n||(n=Array(a));++t<a;)n[t]=r[t];return n}return bt=e,bt}var mt,uf;function gh(){if(uf)return mt;uf=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=0,o=[];++t<a;){var u=r[t];n(u,t,r)&&(o[i++]=u)}return o}return mt=e,mt}var yt,sf;function _h(){if(sf)return yt;sf=1;function e(){return[]}return yt=e,yt}var wt,ff;function du(){if(ff)return wt;ff=1;var e=gh(),r=_h(),n=Object.prototype,t=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(u){return t.call(o,u)}))}:r;return wt=i,wt}var qt,cf;function Tg(){if(cf)return qt;cf=1;var e=rr(),r=du();function n(t,a){return e(t,r(t),a)}return qt=n,qt}var xt,df;function lu(){if(df)return xt;df=1;function e(r,n){for(var t=-1,a=n.length,i=r.length;++t<a;)r[i+t]=n[t];return r}return xt=e,xt}var Rt,lf;function Hr(){if(lf)return Rt;lf=1;var e=hh(),r=e(Object.getPrototypeOf,Object);return Rt=r,Rt}var Et,hf;function bh(){if(hf)return Et;hf=1;var e=lu(),r=Hr(),n=du(),t=_h(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var u=[];o;)e(u,n(o)),o=r(o);return u}:t;return Et=i,Et}var At,vf;function kg(){if(vf)return At;vf=1;var e=rr(),r=bh();function n(t,a){return e(t,r(t),a)}return At=n,At}var It,pf;function mh(){if(pf)return It;pf=1;var e=lu(),r=F();function n(t,a,i){var o=a(t);return r(t)?o:e(o,i(t))}return It=n,It}var St,gf;function yh(){if(gf)return St;gf=1;var e=mh(),r=du(),n=ye();function t(a){return e(a,n,r)}return St=t,St}var Ct,_f;function Og(){if(_f)return Ct;_f=1;var e=mh(),r=bh(),n=Se();function t(a){return e(a,n,r)}return Ct=t,Ct}var Tt,bf;function Mg(){if(bf)return Tt;bf=1;var e=Ie(),r=ee(),n=e(r,"DataView");return Tt=n,Tt}var kt,mf;function Ng(){if(mf)return kt;mf=1;var e=Ie(),r=ee(),n=e(r,"Promise");return kt=n,kt}var Ot,yf;function wh(){if(yf)return Ot;yf=1;var e=Ie(),r=ee(),n=e(r,"Set");return Ot=n,Ot}var Mt,wf;function Pg(){if(wf)return Mt;wf=1;var e=Ie(),r=ee(),n=e(r,"WeakMap");return Mt=n,Mt}var Nt,qf;function Ue(){if(qf)return Nt;qf=1;var e=Mg(),r=iu(),n=Ng(),t=wh(),a=Pg(),i=Ae(),o=ch(),u="[object Map]",s="[object Object]",c="[object Promise]",f="[object Set]",d="[object WeakMap]",l="[object DataView]",h=o(e),v=o(r),p=o(n),g=o(t),_=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=l||r&&b(new r)!=u||n&&b(n.resolve())!=c||t&&b(new t)!=f||a&&b(new a)!=d)&&(b=function(m){var R=i(m),q=R==s?m.constructor:void 0,x=q?o(q):"";if(x)switch(x){case h:return l;case v:return u;case p:return c;case g:return f;case _:return d}return R}),Nt=b,Nt}var Pt,xf;function Lg(){if(xf)return Pt;xf=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t){var a=t.length,i=new t.constructor(a);return a&&typeof t[0]=="string"&&r.call(t,"index")&&(i.index=t.index,i.input=t.input),i}return Pt=n,Pt}var Lt,Rf;function qh(){if(Rf)return Lt;Rf=1;var e=ee(),r=e.Uint8Array;return Lt=r,Lt}var $t,Ef;function hu(){if(Ef)return $t;Ef=1;var e=qh();function r(n){var t=new n.constructor(n.byteLength);return new e(t).set(new e(n)),t}return $t=r,$t}var Ft,Af;function $g(){if(Af)return Ft;Af=1;var e=hu();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return Ft=r,Ft}var jt,If;function Fg(){if(If)return jt;If=1;var e=/\w*$/;function r(n){var t=new n.constructor(n.source,e.exec(n));return t.lastIndex=n.lastIndex,t}return jt=r,jt}var Gt,Sf;function jg(){if(Sf)return Gt;Sf=1;var e=De(),r=e?e.prototype:void 0,n=r?r.valueOf:void 0;function t(a){return n?Object(n.call(a)):{}}return Gt=t,Gt}var Dt,Cf;function xh(){if(Cf)return Dt;Cf=1;var e=hu();function r(n,t){var a=t?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return Dt=r,Dt}var Bt,Tf;function Gg(){if(Tf)return Bt;Tf=1;var e=hu(),r=$g(),n=Fg(),t=jg(),a=xh(),i="[object Boolean]",o="[object Date]",u="[object Map]",s="[object Number]",c="[object RegExp]",f="[object Set]",d="[object String]",l="[object Symbol]",h="[object ArrayBuffer]",v="[object DataView]",p="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",b="[object Int16Array]",m="[object Int32Array]",R="[object Uint8Array]",q="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]";function A(S,T,y){var k=S.constructor;switch(T){case h:return e(S);case i:case o:return new k(+S);case v:return r(S,y);case p:case g:case _:case b:case m:case R:case q:case x:case w:return a(S,y);case u:return new k;case s:case d:return new k(S);case c:return n(S);case f:return new k;case l:return t(S)}}return Bt=A,Bt}var Ut,kf;function Rh(){if(kf)return Ut;kf=1;var e=W(),r=Object.create,n=function(){function t(){}return function(a){if(!e(a))return{};if(r)return r(a);t.prototype=a;var i=new t;return t.prototype=void 0,i}}();return Ut=n,Ut}var Ht,Of;function Eh(){if(Of)return Ht;Of=1;var e=Rh(),r=Hr(),n=Ur();function t(a){return typeof a.constructor=="function"&&!n(a)?e(r(a)):{}}return Ht=t,Ht}var zt,Mf;function Dg(){if(Mf)return zt;Mf=1;var e=Ue(),r=ie(),n="[object Map]";function t(a){return r(a)&&e(a)==n}return zt=t,zt}var Vt,Nf;function Bg(){if(Nf)return Vt;Nf=1;var e=Dg(),r=Br(),n=fu(),t=n&&n.isMap,a=t?r(t):e;return Vt=a,Vt}var Kt,Pf;function Ug(){if(Pf)return Kt;Pf=1;var e=Ue(),r=ie(),n="[object Set]";function t(a){return r(a)&&e(a)==n}return Kt=t,Kt}var Yt,Lf;function Hg(){if(Lf)return Yt;Lf=1;var e=Ug(),r=Br(),n=fu(),t=n&&n.isSet,a=t?r(t):e;return Yt=a,Yt}var Wt,$f;function Ah(){if($f)return Wt;$f=1;var e=Fr(),r=uu(),n=Gr(),t=Ag(),a=Cg(),i=vh(),o=ph(),u=Tg(),s=kg(),c=yh(),f=Og(),d=Ue(),l=Lg(),h=Gg(),v=Eh(),p=F(),g=Be(),_=Bg(),b=W(),m=Hg(),R=ye(),q=Se(),x=1,w=2,A=4,S="[object Arguments]",T="[object Array]",y="[object Boolean]",k="[object Date]",I="[object Error]",j="[object Function]",K="[object GeneratorFunction]",he="[object Map]",ke="[object Number]",we="[object Object]",Z="[object RegExp]",jv="[object Set]",Gv="[object String]",Dv="[object Symbol]",Bv="[object WeakMap]",Uv="[object ArrayBuffer]",Hv="[object DataView]",zv="[object Float32Array]",Vv="[object Float64Array]",Kv="[object Int8Array]",Yv="[object Int16Array]",Wv="[object Int32Array]",Xv="[object Uint8Array]",Zv="[object Uint8ClampedArray]",Jv="[object Uint16Array]",Qv="[object Uint32Array]",P={};P[S]=P[T]=P[Uv]=P[Hv]=P[y]=P[k]=P[zv]=P[Vv]=P[Kv]=P[Yv]=P[Wv]=P[he]=P[ke]=P[we]=P[Z]=P[jv]=P[Gv]=P[Dv]=P[Xv]=P[Zv]=P[Jv]=P[Qv]=!0,P[I]=P[j]=P[Bv]=!1;function or(N,Oe,Me,ep,ur,ve){var H,sr=Oe&x,fr=Oe&w,rp=Oe&A;if(Me&&(H=ur?Me(N,ep,ur,ve):Me(N)),H!==void 0)return H;if(!b(N))return N;var Cu=p(N);if(Cu){if(H=l(N),!sr)return o(N,H)}else{var Ne=d(N),Tu=Ne==j||Ne==K;if(g(N))return i(N,sr);if(Ne==we||Ne==S||Tu&&!ur){if(H=fr||Tu?{}:v(N),!sr)return fr?s(N,a(H,N)):u(N,t(H,N))}else{if(!P[Ne])return ur?N:{};H=h(N,Ne,sr)}}ve||(ve=new e);var ku=ve.get(N);if(ku)return ku;ve.set(N,H),m(N)?N.forEach(function(pe){H.add(or(pe,Oe,Me,pe,N,ve))}):_(N)&&N.forEach(function(pe,qe){H.set(qe,or(pe,Oe,Me,qe,N,ve))});var np=rp?fr?f:c:fr?q:R,Ou=Cu?void 0:np(N);return r(Ou||N,function(pe,qe){Ou&&(qe=pe,pe=N[qe]),n(H,qe,or(pe,Oe,Me,qe,N,ve))}),H}return Wt=or,Wt}var Xt,Ff;function zg(){if(Ff)return Xt;Ff=1;var e=Ah(),r=4;function n(t){return e(t,r)}return Xt=n,Xt}var Zt,jf;function vu(){if(jf)return Zt;jf=1;function e(r){return function(){return r}}return Zt=e,Zt}var Jt,Gf;function Vg(){if(Gf)return Jt;Gf=1;function e(r){return function(n,t,a){for(var i=-1,o=Object(n),u=a(n),s=u.length;s--;){var c=u[r?s:++i];if(t(o[c],c,o)===!1)break}return n}}return Jt=e,Jt}var Qt,Df;function pu(){if(Df)return Qt;Df=1;var e=Vg(),r=e();return Qt=r,Qt}var ea,Bf;function gu(){if(Bf)return ea;Bf=1;var e=pu(),r=ye();function n(t,a){return t&&e(t,a,r)}return ea=n,ea}var ra,Uf;function Kg(){if(Uf)return ra;Uf=1;var e=de();function r(n,t){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,u=t?o:-1,s=Object(a);(t?u--:++u<o)&&i(s[u],u,s)!==!1;);return a}}return ra=r,ra}var na,Hf;function zr(){if(Hf)return na;Hf=1;var e=gu(),r=Kg(),n=r(e);return na=n,na}var ta,zf;function Ce(){if(zf)return ta;zf=1;function e(r){return r}return ta=e,ta}var aa,Vf;function Ih(){if(Vf)return aa;Vf=1;var e=Ce();function r(n){return typeof n=="function"?n:e}return aa=r,aa}var ia,Kf;function Sh(){if(Kf)return ia;Kf=1;var e=uu(),r=zr(),n=Ih(),t=F();function a(i,o){var u=t(i)?e:r;return u(i,n(o))}return ia=a,ia}var oa,Yf;function Ch(){return Yf||(Yf=1,oa=Sh()),oa}var ua,Wf;function Yg(){if(Wf)return ua;Wf=1;var e=zr();function r(n,t){var a=[];return e(n,function(i,o,u){t(i,o,u)&&a.push(i)}),a}return ua=r,ua}var sa,Xf;function Wg(){if(Xf)return sa;Xf=1;var e="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,e),this}return sa=r,sa}var fa,Zf;function Xg(){if(Zf)return fa;Zf=1;function e(r){return this.__data__.has(r)}return fa=e,fa}var ca,Jf;function Th(){if(Jf)return ca;Jf=1;var e=ou(),r=Wg(),n=Xg();function t(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return t.prototype.add=t.prototype.push=r,t.prototype.has=n,ca=t,ca}var da,Qf;function Zg(){if(Qf)return da;Qf=1;function e(r,n){for(var t=-1,a=r==null?0:r.length;++t<a;)if(n(r[t],t,r))return!0;return!1}return da=e,da}var la,ec;function kh(){if(ec)return la;ec=1;function e(r,n){return r.has(n)}return la=e,la}var ha,rc;function Oh(){if(rc)return ha;rc=1;var e=Th(),r=Zg(),n=kh(),t=1,a=2;function i(o,u,s,c,f,d){var l=s&t,h=o.length,v=u.length;if(h!=v&&!(l&&v>h))return!1;var p=d.get(o),g=d.get(u);if(p&&g)return p==u&&g==o;var _=-1,b=!0,m=s&a?new e:void 0;for(d.set(o,u),d.set(u,o);++_<h;){var R=o[_],q=u[_];if(c)var x=l?c(q,R,_,u,o,d):c(R,q,_,o,u,d);if(x!==void 0){if(x)continue;b=!1;break}if(m){if(!r(u,function(w,A){if(!n(m,A)&&(R===w||f(R,w,s,c,d)))return m.push(A)})){b=!1;break}}else if(!(R===q||f(R,q,s,c,d))){b=!1;break}}return d.delete(o),d.delete(u),b}return ha=i,ha}var va,nc;function Jg(){if(nc)return va;nc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a,i){t[++n]=[i,a]}),t}return va=e,va}var pa,tc;function _u(){if(tc)return pa;tc=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(a){t[++n]=a}),t}return pa=e,pa}var ga,ac;function Qg(){if(ac)return ga;ac=1;var e=De(),r=qh(),n=Ge(),t=Oh(),a=Jg(),i=_u(),o=1,u=2,s="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Map]",l="[object Number]",h="[object RegExp]",v="[object Set]",p="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",m=e?e.prototype:void 0,R=m?m.valueOf:void 0;function q(x,w,A,S,T,y,k){switch(A){case b:if(x.byteLength!=w.byteLength||x.byteOffset!=w.byteOffset)return!1;x=x.buffer,w=w.buffer;case _:return!(x.byteLength!=w.byteLength||!y(new r(x),new r(w)));case s:case c:case l:return n(+x,+w);case f:return x.name==w.name&&x.message==w.message;case h:case p:return x==w+"";case d:var I=a;case v:var j=S&o;if(I||(I=i),x.size!=w.size&&!j)return!1;var K=k.get(x);if(K)return K==w;S|=u,k.set(x,w);var he=t(I(x),I(w),S,T,y,k);return k.delete(x),he;case g:if(R)return R.call(x)==R.call(w)}return!1}return ga=q,ga}var _a,ic;function e_(){if(ic)return _a;ic=1;var e=yh(),r=1,n=Object.prototype,t=n.hasOwnProperty;function a(i,o,u,s,c,f){var d=u&r,l=e(i),h=l.length,v=e(o),p=v.length;if(h!=p&&!d)return!1;for(var g=h;g--;){var _=l[g];if(!(d?_ in o:t.call(o,_)))return!1}var b=f.get(i),m=f.get(o);if(b&&m)return b==o&&m==i;var R=!0;f.set(i,o),f.set(o,i);for(var q=d;++g<h;){_=l[g];var x=i[_],w=o[_];if(s)var A=d?s(w,x,_,o,i,f):s(x,w,_,i,o,f);if(!(A===void 0?x===w||c(x,w,u,s,f):A)){R=!1;break}q||(q=_=="constructor")}if(R&&!q){var S=i.constructor,T=o.constructor;S!=T&&"constructor"in i&&"constructor"in o&&!(typeof S=="function"&&S instanceof S&&typeof T=="function"&&T instanceof T)&&(R=!1)}return f.delete(i),f.delete(o),R}return _a=a,_a}var ba,oc;function r_(){if(oc)return ba;oc=1;var e=Fr(),r=Oh(),n=Qg(),t=e_(),a=Ue(),i=F(),o=Be(),u=tr(),s=1,c="[object Arguments]",f="[object Array]",d="[object Object]",l=Object.prototype,h=l.hasOwnProperty;function v(p,g,_,b,m,R){var q=i(p),x=i(g),w=q?f:a(p),A=x?f:a(g);w=w==c?d:w,A=A==c?d:A;var S=w==d,T=A==d,y=w==A;if(y&&o(p)){if(!o(g))return!1;q=!0,S=!1}if(y&&!S)return R||(R=new e),q||u(p)?r(p,g,_,b,m,R):n(p,g,w,_,b,m,R);if(!(_&s)){var k=S&&h.call(p,"__wrapped__"),I=T&&h.call(g,"__wrapped__");if(k||I){var j=k?p.value():p,K=I?g.value():g;return R||(R=new e),m(j,K,_,b,R)}}return y?(R||(R=new e),t(p,g,_,b,m,R)):!1}return ba=v,ba}var ma,uc;function Mh(){if(uc)return ma;uc=1;var e=r_(),r=ie();function n(t,a,i,o,u){return t===a?!0:t==null||a==null||!r(t)&&!r(a)?t!==t&&a!==a:e(t,a,i,o,n,u)}return ma=n,ma}var ya,sc;function n_(){if(sc)return ya;sc=1;var e=Fr(),r=Mh(),n=1,t=2;function a(i,o,u,s){var c=u.length,f=c,d=!s;if(i==null)return!f;for(i=Object(i);c--;){var l=u[c];if(d&&l[2]?l[1]!==i[l[0]]:!(l[0]in i))return!1}for(;++c<f;){l=u[c];var h=l[0],v=i[h],p=l[1];if(d&&l[2]){if(v===void 0&&!(h in i))return!1}else{var g=new e;if(s)var _=s(v,p,h,i,o,g);if(!(_===void 0?r(p,v,n|t,s,g):_))return!1}}return!0}return ya=a,ya}var wa,fc;function Nh(){if(fc)return wa;fc=1;var e=W();function r(n){return n===n&&!e(n)}return wa=r,wa}var qa,cc;function t_(){if(cc)return qa;cc=1;var e=Nh(),r=ye();function n(t){for(var a=r(t),i=a.length;i--;){var o=a[i],u=t[o];a[i]=[o,u,e(u)]}return a}return qa=n,qa}var xa,dc;function Ph(){if(dc)return xa;dc=1;function e(r,n){return function(t){return t==null?!1:t[r]===n&&(n!==void 0||r in Object(t))}}return xa=e,xa}var Ra,lc;function a_(){if(lc)return Ra;lc=1;var e=n_(),r=t_(),n=Ph();function t(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return Ra=t,Ra}var Ea,hc;function He(){if(hc)return Ea;hc=1;var e=Ae(),r=ie(),n="[object Symbol]";function t(a){return typeof a=="symbol"||r(a)&&e(a)==n}return Ea=t,Ea}var Aa,vc;function bu(){if(vc)return Aa;vc=1;var e=F(),r=He(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t=/^\w*$/;function a(i,o){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||r(i)?!0:t.test(i)||!n.test(i)||o!=null&&i in Object(o)}return Aa=a,Aa}var Ia,pc;function i_(){if(pc)return Ia;pc=1;var e=ou(),r="Expected a function";function n(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],s=i.cache;if(s.has(u))return s.get(u);var c=t.apply(this,o);return i.cache=s.set(u,c)||s,c};return i.cache=new(n.Cache||e),i}return n.Cache=e,Ia=n,Ia}var Sa,gc;function o_(){if(gc)return Sa;gc=1;var e=i_(),r=500;function n(t){var a=e(t,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return Sa=n,Sa}var Ca,_c;function u_(){if(_c)return Ca;_c=1;var e=o_(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,t=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,u,s,c){i.push(s?c.replace(n,"$1"):u||o)}),i});return Ca=t,Ca}var Ta,bc;function Vr(){if(bc)return Ta;bc=1;function e(r,n){for(var t=-1,a=r==null?0:r.length,i=Array(a);++t<a;)i[t]=n(r[t],t,r);return i}return Ta=e,Ta}var ka,mc;function s_(){if(mc)return ka;mc=1;var e=De(),r=Vr(),n=F(),t=He(),a=1/0,i=e?e.prototype:void 0,o=i?i.toString:void 0;function u(s){if(typeof s=="string")return s;if(n(s))return r(s,u)+"";if(t(s))return o?o.call(s):"";var c=s+"";return c=="0"&&1/s==-a?"-0":c}return ka=u,ka}var Oa,yc;function Lh(){if(yc)return Oa;yc=1;var e=s_();function r(n){return n==null?"":e(n)}return Oa=r,Oa}var Ma,wc;function Kr(){if(wc)return Ma;wc=1;var e=F(),r=bu(),n=u_(),t=Lh();function a(i,o){return e(i)?i:r(i,o)?[i]:n(t(i))}return Ma=a,Ma}var Na,qc;function ar(){if(qc)return Na;qc=1;var e=He(),r=1/0;function n(t){if(typeof t=="string"||e(t))return t;var a=t+"";return a=="0"&&1/t==-r?"-0":a}return Na=n,Na}var Pa,xc;function Yr(){if(xc)return Pa;xc=1;var e=Kr(),r=ar();function n(t,a){a=e(a,t);for(var i=0,o=a.length;t!=null&&i<o;)t=t[r(a[i++])];return i&&i==o?t:void 0}return Pa=n,Pa}var La,Rc;function f_(){if(Rc)return La;Rc=1;var e=Yr();function r(n,t,a){var i=n==null?void 0:e(n,t);return i===void 0?a:i}return La=r,La}var $a,Ec;function c_(){if(Ec)return $a;Ec=1;function e(r,n){return r!=null&&n in Object(r)}return $a=e,$a}var Fa,Ac;function $h(){if(Ac)return Fa;Ac=1;var e=Kr(),r=nr(),n=F(),t=Dr(),a=su(),i=ar();function o(u,s,c){s=e(s,u);for(var f=-1,d=s.length,l=!1;++f<d;){var h=i(s[f]);if(!(l=u!=null&&c(u,h)))break;u=u[h]}return l||++f!=d?l:(d=u==null?0:u.length,!!d&&a(d)&&t(h,d)&&(n(u)||r(u)))}return Fa=o,Fa}var ja,Ic;function Fh(){if(Ic)return ja;Ic=1;var e=c_(),r=$h();function n(t,a){return t!=null&&r(t,a,e)}return ja=n,ja}var Ga,Sc;function d_(){if(Sc)return Ga;Sc=1;var e=Mh(),r=f_(),n=Fh(),t=bu(),a=Nh(),i=Ph(),o=ar(),u=1,s=2;function c(f,d){return t(f)&&a(d)?i(o(f),d):function(l){var h=r(l,f);return h===void 0&&h===d?n(l,f):e(d,h,u|s)}}return Ga=c,Ga}var Da,Cc;function jh(){if(Cc)return Da;Cc=1;function e(r){return function(n){return n==null?void 0:n[r]}}return Da=e,Da}var Ba,Tc;function l_(){if(Tc)return Ba;Tc=1;var e=Yr();function r(n){return function(t){return e(t,n)}}return Ba=r,Ba}var Ua,kc;function h_(){if(kc)return Ua;kc=1;var e=jh(),r=l_(),n=bu(),t=ar();function a(i){return n(i)?e(t(i)):r(i)}return Ua=a,Ua}var Ha,Oc;function le(){if(Oc)return Ha;Oc=1;var e=a_(),r=d_(),n=Ce(),t=F(),a=h_();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?t(o)?r(o[0],o[1]):e(o):a(o)}return Ha=i,Ha}var za,Mc;function Gh(){if(Mc)return za;Mc=1;var e=gh(),r=Yg(),n=le(),t=F();function a(i,o){var u=t(i)?e:r;return u(i,n(o,3))}return za=a,za}var Va,Nc;function v_(){if(Nc)return Va;Nc=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t,a){return t!=null&&r.call(t,a)}return Va=n,Va}var Ka,Pc;function Dh(){if(Pc)return Ka;Pc=1;var e=v_(),r=$h();function n(t,a){return t!=null&&r(t,a,e)}return Ka=n,Ka}var Ya,Lc;function p_(){if(Lc)return Ya;Lc=1;var e=cu(),r=Ue(),n=nr(),t=F(),a=de(),i=Be(),o=Ur(),u=tr(),s="[object Map]",c="[object Set]",f=Object.prototype,d=f.hasOwnProperty;function l(h){if(h==null)return!0;if(a(h)&&(t(h)||typeof h=="string"||typeof h.splice=="function"||i(h)||u(h)||n(h)))return!h.length;var v=r(h);if(v==s||v==c)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return Ya=l,Ya}var Wa,$c;function Bh(){if($c)return Wa;$c=1;function e(r){return r===void 0}return Wa=e,Wa}var Xa,Fc;function Uh(){if(Fc)return Xa;Fc=1;var e=zr(),r=de();function n(t,a){var i=-1,o=r(t)?Array(t.length):[];return e(t,function(u,s,c){o[++i]=a(u,s,c)}),o}return Xa=n,Xa}var Za,jc;function Hh(){if(jc)return Za;jc=1;var e=Vr(),r=le(),n=Uh(),t=F();function a(i,o){var u=t(i)?e:n;return u(i,r(o,3))}return Za=a,Za}var Ja,Gc;function g_(){if(Gc)return Ja;Gc=1;function e(r,n,t,a){var i=-1,o=r==null?0:r.length;for(a&&o&&(t=r[++i]);++i<o;)t=n(t,r[i],i,r);return t}return Ja=e,Ja}var Qa,Dc;function __(){if(Dc)return Qa;Dc=1;function e(r,n,t,a,i){return i(r,function(o,u,s){t=a?(a=!1,o):n(t,o,u,s)}),t}return Qa=e,Qa}var ei,Bc;function zh(){if(Bc)return ei;Bc=1;var e=g_(),r=zr(),n=le(),t=__(),a=F();function i(o,u,s){var c=a(o)?e:t,f=arguments.length<3;return c(o,n(u,4),s,f,r)}return ei=i,ei}var ri,Uc;function b_(){if(Uc)return ri;Uc=1;var e=Ae(),r=F(),n=ie(),t="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&e(i)==t}return ri=a,ri}var ni,Hc;function m_(){if(Hc)return ni;Hc=1;var e=jh(),r=e("length");return ni=r,ni}var ti,zc;function y_(){if(zc)return ti;zc=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+e+a+i+"]");function s(c){return u.test(c)}return ti=s,ti}var ai,Vc;function w_(){if(Vc)return ai;Vc=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",a=r+n+t,i="\\ufe0e\\ufe0f",o="["+e+"]",u="["+a+"]",s="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+s+")",f="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=c+"?",p="["+i+"]?",g="(?:"+h+"(?:"+[f,d,l].join("|")+")"+p+v+")*",_=p+v+g,b="(?:"+[f+u+"?",u,d,l,o].join("|")+")",m=RegExp(s+"(?="+s+")|"+b+_,"g");function R(q){for(var x=m.lastIndex=0;m.test(q);)++x;return x}return ai=R,ai}var ii,Kc;function q_(){if(Kc)return ii;Kc=1;var e=m_(),r=y_(),n=w_();function t(a){return r(a)?n(a):e(a)}return ii=t,ii}var oi,Yc;function x_(){if(Yc)return oi;Yc=1;var e=cu(),r=Ue(),n=de(),t=b_(),a=q_(),i="[object Map]",o="[object Set]";function u(s){if(s==null)return 0;if(n(s))return t(s)?a(s):s.length;var c=r(s);return c==i||c==o?s.size:e(s).length}return oi=u,oi}var ui,Wc;function R_(){if(Wc)return ui;Wc=1;var e=uu(),r=Rh(),n=gu(),t=le(),a=Hr(),i=F(),o=Be(),u=er(),s=W(),c=tr();function f(d,l,h){var v=i(d),p=v||o(d)||c(d);if(l=t(l,4),h==null){var g=d&&d.constructor;p?h=v?new g:[]:s(d)?h=u(g)?r(a(d)):{}:h={}}return(p?e:n)(d,function(_,b,m){return l(h,_,b,m)}),h}return ui=f,ui}var si,Xc;function E_(){if(Xc)return si;Xc=1;var e=De(),r=nr(),n=F(),t=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(t&&i&&i[t])}return si=a,si}var fi,Zc;function mu(){if(Zc)return fi;Zc=1;var e=lu(),r=E_();function n(t,a,i,o,u){var s=-1,c=t.length;for(i||(i=r),u||(u=[]);++s<c;){var f=t[s];a>0&&i(f)?a>1?n(f,a-1,i,o,u):e(u,f):o||(u[u.length]=f)}return u}return fi=n,fi}var ci,Jc;function A_(){if(Jc)return ci;Jc=1;function e(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}return ci=e,ci}var di,Qc;function Vh(){if(Qc)return di;Qc=1;var e=A_(),r=Math.max;function n(t,a,i){return a=r(a===void 0?t.length-1:a,0),function(){for(var o=arguments,u=-1,s=r(o.length-a,0),c=Array(s);++u<s;)c[u]=o[a+u];u=-1;for(var f=Array(a+1);++u<a;)f[u]=o[u];return f[a]=i(c),e(t,this,f)}}return di=n,di}var li,ed;function I_(){if(ed)return li;ed=1;var e=vu(),r=dh(),n=Ce(),t=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return li=t,li}var hi,rd;function S_(){if(rd)return hi;rd=1;var e=800,r=16,n=Date.now;function t(a){var i=0,o=0;return function(){var u=n(),s=r-(u-o);if(o=u,s>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return hi=t,hi}var vi,nd;function Kh(){if(nd)return vi;nd=1;var e=I_(),r=S_(),n=r(e);return vi=n,vi}var pi,td;function Wr(){if(td)return pi;td=1;var e=Ce(),r=Vh(),n=Kh();function t(a,i){return n(r(a,i,e),a+"")}return pi=t,pi}var gi,ad;function Yh(){if(ad)return gi;ad=1;function e(r,n,t,a){for(var i=r.length,o=t+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return gi=e,gi}var _i,id;function C_(){if(id)return _i;id=1;function e(r){return r!==r}return _i=e,_i}var bi,od;function T_(){if(od)return bi;od=1;function e(r,n,t){for(var a=t-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return bi=e,bi}var mi,ud;function k_(){if(ud)return mi;ud=1;var e=Yh(),r=C_(),n=T_();function t(a,i,o){return i===i?n(a,i,o):e(a,r,o)}return mi=t,mi}var yi,sd;function O_(){if(sd)return yi;sd=1;var e=k_();function r(n,t){var a=n==null?0:n.length;return!!a&&e(n,t,0)>-1}return yi=r,yi}var wi,fd;function M_(){if(fd)return wi;fd=1;function e(r,n,t){for(var a=-1,i=r==null?0:r.length;++a<i;)if(t(n,r[a]))return!0;return!1}return wi=e,wi}var qi,cd;function N_(){if(cd)return qi;cd=1;function e(){}return qi=e,qi}var xi,dd;function P_(){if(dd)return xi;dd=1;var e=wh(),r=N_(),n=_u(),t=1/0,a=e&&1/n(new e([,-0]))[1]==t?function(i){return new e(i)}:r;return xi=a,xi}var Ri,ld;function L_(){if(ld)return Ri;ld=1;var e=Th(),r=O_(),n=M_(),t=kh(),a=P_(),i=_u(),o=200;function u(s,c,f){var d=-1,l=r,h=s.length,v=!0,p=[],g=p;if(f)v=!1,l=n;else if(h>=o){var _=c?null:a(s);if(_)return i(_);v=!1,l=t,g=new e}else g=c?[]:p;e:for(;++d<h;){var b=s[d],m=c?c(b):b;if(b=f||b!==0?b:0,v&&m===m){for(var R=g.length;R--;)if(g[R]===m)continue e;c&&g.push(m),p.push(b)}else l(g,m,f)||(g!==p&&g.push(m),p.push(b))}return p}return Ri=u,Ri}var Ei,hd;function Wh(){if(hd)return Ei;hd=1;var e=de(),r=ie();function n(t){return r(t)&&e(t)}return Ei=n,Ei}var Ai,vd;function $_(){if(vd)return Ai;vd=1;var e=mu(),r=Wr(),n=L_(),t=Wh(),a=r(function(i){return n(e(i,1,t,!0))});return Ai=a,Ai}var Ii,pd;function F_(){if(pd)return Ii;pd=1;var e=Vr();function r(n,t){return e(t,function(a){return n[a]})}return Ii=r,Ii}var Si,gd;function Xh(){if(gd)return Si;gd=1;var e=F_(),r=ye();function n(t){return t==null?[]:e(t,r(t))}return Si=n,Si}var Ci,_d;function X(){if(_d)return Ci;_d=1;var e;if(typeof au=="function")try{e={clone:zg(),constant:vu(),each:Ch(),filter:Gh(),has:Dh(),isArray:F(),isEmpty:p_(),isFunction:er(),isUndefined:Bh(),keys:ye(),map:Hh(),reduce:zh(),size:x_(),transform:R_(),union:$_(),values:Xh()}}catch{}return e||(e=window._),Ci=e,Ci}var Ti,bd;function yu(){if(bd)return Ti;bd=1;var e=X();Ti=a;var r="\0",n="\0",t="";function a(f){this._isDirected=e.has(f,"directed")?f.directed:!0,this._isMultigraph=e.has(f,"multigraph")?f.multigraph:!1,this._isCompound=e.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(f){return this._label=f,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultNodeLabelFn=f,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._in[d])})},a.prototype.sinks=function(){var f=this;return e.filter(this.nodes(),function(d){return e.isEmpty(f._out[d])})},a.prototype.setNodes=function(f,d){var l=arguments,h=this;return e.each(f,function(v){l.length>1?h.setNode(v,d):h.setNode(v)}),this},a.prototype.setNode=function(f,d){return e.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=d),this):(this._nodes[f]=arguments.length>1?d:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=n,this._children[f]={},this._children[n][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},a.prototype.node=function(f){return this._nodes[f]},a.prototype.hasNode=function(f){return e.has(this._nodes,f)},a.prototype.removeNode=function(f){var d=this;if(e.has(this._nodes,f)){var l=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],e.each(this.children(f),function(h){d.setParent(h)}),delete this._children[f]),e.each(e.keys(this._in[f]),l),delete this._in[f],delete this._preds[f],e.each(e.keys(this._out[f]),l),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},a.prototype.setParent=function(f,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var l=d;!e.isUndefined(l);l=this.parent(l))if(l===f)throw new Error("Setting "+d+" as parent of "+f+" would create a cycle");this.setNode(d)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=d,this._children[d][f]=!0,this},a.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},a.prototype.parent=function(f){if(this._isCompound){var d=this._parent[f];if(d!==n)return d}},a.prototype.children=function(f){if(e.isUndefined(f)&&(f=n),this._isCompound){var d=this._children[f];if(d)return e.keys(d)}else{if(f===n)return this.nodes();if(this.hasNode(f))return[]}},a.prototype.predecessors=function(f){var d=this._preds[f];if(d)return e.keys(d)},a.prototype.successors=function(f){var d=this._sucs[f];if(d)return e.keys(d)},a.prototype.neighbors=function(f){var d=this.predecessors(f);if(d)return e.union(d,this.successors(f))},a.prototype.isLeaf=function(f){var d;return this.isDirected()?d=this.successors(f):d=this.neighbors(f),d.length===0},a.prototype.filterNodes=function(f){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var l=this;e.each(this._nodes,function(p,g){f(g)&&d.setNode(g,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,l.edge(p))});var h={};function v(p){var g=l.parent(p);return g===void 0||d.hasNode(g)?(h[p]=g,g):g in h?h[g]:v(g)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,v(p))}),d},a.prototype.setDefaultEdgeLabel=function(f){return e.isFunction(f)||(f=e.constant(f)),this._defaultEdgeLabelFn=f,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(f,d){var l=this,h=arguments;return e.reduce(f,function(v,p){return h.length>1?l.setEdge(v,p,d):l.setEdge(v,p),p}),this},a.prototype.setEdge=function(){var f,d,l,h,v=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(f=p.v,d=p.w,l=p.name,arguments.length===2&&(h=arguments[1],v=!0)):(f=p,d=arguments[1],l=arguments[3],arguments.length>2&&(h=arguments[2],v=!0)),f=""+f,d=""+d,e.isUndefined(l)||(l=""+l);var g=u(this._isDirected,f,d,l);if(e.has(this._edgeLabels,g))return v&&(this._edgeLabels[g]=h),this;if(!e.isUndefined(l)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(d),this._edgeLabels[g]=v?h:this._defaultEdgeLabelFn(f,d,l);var _=s(this._isDirected,f,d,l);return f=_.v,d=_.w,Object.freeze(_),this._edgeObjs[g]=_,i(this._preds[d],f),i(this._sucs[f],d),this._in[d][g]=_,this._out[f][g]=_,this._edgeCount++,this},a.prototype.edge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l);return this._edgeLabels[h]},a.prototype.hasEdge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l);return e.has(this._edgeLabels,h)},a.prototype.removeEdge=function(f,d,l){var h=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,f,d,l),v=this._edgeObjs[h];return v&&(f=v.v,d=v.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],f),o(this._sucs[f],d),delete this._in[d][h],delete this._out[f][h],this._edgeCount--),this},a.prototype.inEdges=function(f,d){var l=this._in[f];if(l){var h=e.values(l);return d?e.filter(h,function(v){return v.v===d}):h}},a.prototype.outEdges=function(f,d){var l=this._out[f];if(l){var h=e.values(l);return d?e.filter(h,function(v){return v.w===d}):h}},a.prototype.nodeEdges=function(f,d){var l=this.inEdges(f,d);if(l)return l.concat(this.outEdges(f,d))};function i(f,d){f[d]?f[d]++:f[d]=1}function o(f,d){--f[d]||delete f[d]}function u(f,d,l,h){var v=""+d,p=""+l;if(!f&&v>p){var g=v;v=p,p=g}return v+t+p+t+(e.isUndefined(h)?r:h)}function s(f,d,l,h){var v=""+d,p=""+l;if(!f&&v>p){var g=v;v=p,p=g}var _={v,w:p};return h&&(_.name=h),_}function c(f,d){return u(f,d.v,d.w,d.name)}return Ti}var ki,md;function j_(){return md||(md=1,ki="2.1.8"),ki}var Oi,yd;function G_(){return yd||(yd=1,Oi={Graph:yu(),version:j_()}),Oi}var Mi,wd;function D_(){if(wd)return Mi;wd=1;var e=X(),r=yu();Mi={write:n,read:i};function n(o){var u={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:t(o),edges:a(o)};return e.isUndefined(o.graph())||(u.value=e.clone(o.graph())),u}function t(o){return e.map(o.nodes(),function(u){var s=o.node(u),c=o.parent(u),f={v:u};return e.isUndefined(s)||(f.value=s),e.isUndefined(c)||(f.parent=c),f})}function a(o){return e.map(o.edges(),function(u){var s=o.edge(u),c={v:u.v,w:u.w};return e.isUndefined(u.name)||(c.name=u.name),e.isUndefined(s)||(c.value=s),c})}function i(o){var u=new r(o.options).setGraph(o.value);return e.each(o.nodes,function(s){u.setNode(s.v,s.value),s.parent&&u.setParent(s.v,s.parent)}),e.each(o.edges,function(s){u.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),u}return Mi}var Ni,qd;function B_(){if(qd)return Ni;qd=1;var e=X();Ni=r;function r(n){var t={},a=[],i;function o(u){e.has(t,u)||(t[u]=!0,i.push(u),e.each(n.successors(u),o),e.each(n.predecessors(u),o))}return e.each(n.nodes(),function(u){i=[],o(u),i.length&&a.push(i)}),a}return Ni}var Pi,xd;function Zh(){if(xd)return Pi;xd=1;var e=X();Pi=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(n){return n.key})},r.prototype.has=function(n){return e.has(this._keyIndices,n)},r.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(n,t){var a=this._keyIndices;if(n=String(n),!e.has(a,n)){var i=this._arr,o=i.length;return a[n]=o,i.push({key:n,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},r.prototype.decrease=function(n,t){var a=this._keyIndices[n];if(t>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+t);this._arr[a].priority=t,this._decrease(a)},r.prototype._heapify=function(n){var t=this._arr,a=2*n,i=a+1,o=n;a<t.length&&(o=t[a].priority<t[o].priority?a:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},r.prototype._decrease=function(n){for(var t=this._arr,a=t[n].priority,i;n!==0&&(i=n>>1,!(t[i].priority<a));)this._swap(n,i),n=i},r.prototype._swap=function(n,t){var a=this._arr,i=this._keyIndices,o=a[n],u=a[t];a[n]=u,a[t]=o,i[u.key]=n,i[o.key]=t},Pi}var Li,Rd;function Jh(){if(Rd)return Li;Rd=1;var e=X(),r=Zh();Li=t;var n=e.constant(1);function t(i,o,u,s){return a(i,String(o),u||n,s||function(c){return i.outEdges(c)})}function a(i,o,u,s){var c={},f=new r,d,l,h=function(v){var p=v.v!==d?v.v:v.w,g=c[p],_=u(v),b=l.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+_);b<g.distance&&(g.distance=b,g.predecessor=d,f.decrease(p,b))};for(i.nodes().forEach(function(v){var p=v===o?0:Number.POSITIVE_INFINITY;c[v]={distance:p},f.add(v,p)});f.size()>0&&(d=f.removeMin(),l=c[d],l.distance!==Number.POSITIVE_INFINITY);)s(d).forEach(h);return c}return Li}var $i,Ed;function U_(){if(Ed)return $i;Ed=1;var e=Jh(),r=X();$i=n;function n(t,a,i){return r.transform(t.nodes(),function(o,u){o[u]=e(t,u,a,i)},{})}return $i}var Fi,Ad;function Qh(){if(Ad)return Fi;Ad=1;var e=X();Fi=r;function r(n){var t=0,a=[],i={},o=[];function u(s){var c=i[s]={onStack:!0,lowlink:t,index:t++};if(a.push(s),n.successors(s).forEach(function(l){e.has(i,l)?i[l].onStack&&(c.lowlink=Math.min(c.lowlink,i[l].index)):(u(l),c.lowlink=Math.min(c.lowlink,i[l].lowlink))}),c.lowlink===c.index){var f=[],d;do d=a.pop(),i[d].onStack=!1,f.push(d);while(s!==d);o.push(f)}}return n.nodes().forEach(function(s){e.has(i,s)||u(s)}),o}return Fi}var ji,Id;function H_(){if(Id)return ji;Id=1;var e=X(),r=Qh();ji=n;function n(t){return e.filter(r(t),function(a){return a.length>1||a.length===1&&t.hasEdge(a[0],a[0])})}return ji}var Gi,Sd;function z_(){if(Sd)return Gi;Sd=1;var e=X();Gi=n;var r=e.constant(1);function n(a,i,o){return t(a,i||r,o||function(u){return a.outEdges(u)})}function t(a,i,o){var u={},s=a.nodes();return s.forEach(function(c){u[c]={},u[c][c]={distance:0},s.forEach(function(f){c!==f&&(u[c][f]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(f){var d=f.v===c?f.w:f.v,l=i(f);u[c][d]={distance:l,predecessor:c}})}),s.forEach(function(c){var f=u[c];s.forEach(function(d){var l=u[d];s.forEach(function(h){var v=l[c],p=f[h],g=l[h],_=v.distance+p.distance;_<g.distance&&(g.distance=_,g.predecessor=p.predecessor)})})}),u}return Gi}var Di,Cd;function ev(){if(Cd)return Di;Cd=1;var e=X();Di=r,r.CycleException=n;function r(t){var a={},i={},o=[];function u(s){if(e.has(i,s))throw new n;e.has(a,s)||(i[s]=!0,a[s]=!0,e.each(t.predecessors(s),u),delete i[s],o.push(s))}if(e.each(t.sinks(),u),e.size(a)!==t.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Di}var Bi,Td;function V_(){if(Td)return Bi;Td=1;var e=ev();Bi=r;function r(n){try{e(n)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}return Bi}var Ui,kd;function rv(){if(kd)return Ui;kd=1;var e=X();Ui=r;function r(t,a,i){e.isArray(a)||(a=[a]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),u=[],s={};return e.each(a,function(c){if(!t.hasNode(c))throw new Error("Graph does not have node: "+c);n(t,c,i==="post",s,o,u)}),u}function n(t,a,i,o,u,s){e.has(o,a)||(o[a]=!0,i||s.push(a),e.each(u(a),function(c){n(t,c,i,o,u,s)}),i&&s.push(a))}return Ui}var Hi,Od;function K_(){if(Od)return Hi;Od=1;var e=rv();Hi=r;function r(n,t){return e(n,t,"post")}return Hi}var zi,Md;function Y_(){if(Md)return zi;Md=1;var e=rv();zi=r;function r(n,t){return e(n,t,"pre")}return zi}var Vi,Nd;function W_(){if(Nd)return Vi;Nd=1;var e=X(),r=yu(),n=Zh();Vi=t;function t(a,i){var o=new r,u={},s=new n,c;function f(l){var h=l.v===c?l.w:l.v,v=s.priority(h);if(v!==void 0){var p=i(l);p<v&&(u[h]=c,s.decrease(h,p))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(l){s.add(l,Number.POSITIVE_INFINITY),o.setNode(l)}),s.decrease(a.nodes()[0],0);for(var d=!1;s.size()>0;){if(c=s.removeMin(),e.has(u,c))o.setEdge(c,u[c]);else{if(d)throw new Error("Input graph is not connected: "+a);d=!0}a.nodeEdges(c).forEach(f)}return o}return Vi}var Ki,Pd;function X_(){return Pd||(Pd=1,Ki={components:B_(),dijkstra:Jh(),dijkstraAll:U_(),findCycles:H_(),floydWarshall:z_(),isAcyclic:V_(),postorder:K_(),preorder:Y_(),prim:W_(),tarjan:Qh(),topsort:ev()}),Ki}var Yi,Ld;function Z_(){if(Ld)return Yi;Ld=1;var e=G_();return Yi={Graph:e.Graph,json:D_(),alg:X_(),version:e.version},Yi}var Rr;if(typeof au=="function")try{Rr=Z_()}catch{}Rr||(Rr=window.graphlib);var re=Rr,Wi,$d;function J_(){if($d)return Wi;$d=1;var e=Ah(),r=1,n=4;function t(a){return e(a,r|n)}return Wi=t,Wi}var Xi,Fd;function Xr(){if(Fd)return Xi;Fd=1;var e=Ge(),r=de(),n=Dr(),t=W();function a(i,o,u){if(!t(u))return!1;var s=typeof o;return(s=="number"?r(u)&&n(o,u.length):s=="string"&&o in u)?e(u[o],i):!1}return Xi=a,Xi}var Zi,jd;function Q_(){if(jd)return Zi;jd=1;var e=Wr(),r=Ge(),n=Xr(),t=Se(),a=Object.prototype,i=a.hasOwnProperty,o=e(function(u,s){u=Object(u);var c=-1,f=s.length,d=f>2?s[2]:void 0;for(d&&n(s[0],s[1],d)&&(f=1);++c<f;)for(var l=s[c],h=t(l),v=-1,p=h.length;++v<p;){var g=h[v],_=u[g];(_===void 0||r(_,a[g])&&!i.call(u,g))&&(u[g]=l[g])}return u});return Zi=o,Zi}var Ji,Gd;function eb(){if(Gd)return Ji;Gd=1;var e=le(),r=de(),n=ye();function t(a){return function(i,o,u){var s=Object(i);if(!r(i)){var c=e(o,3);i=n(i),o=function(d){return c(s[d],d,s)}}var f=a(i,o,u);return f>-1?s[c?i[f]:f]:void 0}}return Ji=t,Ji}var Qi,Dd;function rb(){if(Dd)return Qi;Dd=1;var e=/\s/;function r(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}return Qi=r,Qi}var eo,Bd;function nb(){if(Bd)return eo;Bd=1;var e=rb(),r=/^\s+/;function n(t){return t&&t.slice(0,e(t)+1).replace(r,"")}return eo=n,eo}var ro,Ud;function tb(){if(Ud)return ro;Ud=1;var e=nb(),r=W(),n=He(),t=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(c){if(typeof c=="number")return c;if(n(c))return t;if(r(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=r(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=i.test(c);return d||o.test(c)?u(c.slice(2),d?2:8):a.test(c)?t:+c}return ro=s,ro}var no,Hd;function nv(){if(Hd)return no;Hd=1;var e=tb(),r=1/0,n=17976931348623157e292;function t(a){if(!a)return a===0?a:0;if(a=e(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return no=t,no}var to,zd;function ab(){if(zd)return to;zd=1;var e=nv();function r(n){var t=e(n),a=t%1;return t===t?a?t-a:t:0}return to=r,to}var ao,Vd;function ib(){if(Vd)return ao;Vd=1;var e=Yh(),r=le(),n=ab(),t=Math.max;function a(i,o,u){var s=i==null?0:i.length;if(!s)return-1;var c=u==null?0:n(u);return c<0&&(c=t(s+c,0)),e(i,r(o,3),c)}return ao=a,ao}var io,Kd;function ob(){if(Kd)return io;Kd=1;var e=eb(),r=ib(),n=e(r);return io=n,io}var oo,Yd;function tv(){if(Yd)return oo;Yd=1;var e=mu();function r(n){var t=n==null?0:n.length;return t?e(n,1):[]}return oo=r,oo}var uo,Wd;function ub(){if(Wd)return uo;Wd=1;var e=pu(),r=Ih(),n=Se();function t(a,i){return a==null?a:e(a,r(i),n)}return uo=t,uo}var so,Xd;function sb(){if(Xd)return so;Xd=1;function e(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return so=e,so}var fo,Zd;function fb(){if(Zd)return fo;Zd=1;var e=jr(),r=gu(),n=le();function t(a,i){var o={};return i=n(i,3),r(a,function(u,s,c){e(o,s,i(u,s,c))}),o}return fo=t,fo}var co,Jd;function wu(){if(Jd)return co;Jd=1;var e=He();function r(n,t,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],s=t(u);if(s!=null&&(c===void 0?s===s&&!e(s):a(s,c)))var c=s,f=u}return f}return co=r,co}var lo,Qd;function cb(){if(Qd)return lo;Qd=1;function e(r,n){return r>n}return lo=e,lo}var ho,el;function db(){if(el)return ho;el=1;var e=wu(),r=cb(),n=Ce();function t(a){return a&&a.length?e(a,n,r):void 0}return ho=t,ho}var vo,rl;function av(){if(rl)return vo;rl=1;var e=jr(),r=Ge();function n(t,a,i){(i!==void 0&&!r(t[a],i)||i===void 0&&!(a in t))&&e(t,a,i)}return vo=n,vo}var po,nl;function lb(){if(nl)return po;nl=1;var e=Ae(),r=Hr(),n=ie(),t="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,s=o.call(Object);function c(f){if(!n(f)||e(f)!=t)return!1;var d=r(f);if(d===null)return!0;var l=u.call(d,"constructor")&&d.constructor;return typeof l=="function"&&l instanceof l&&o.call(l)==s}return po=c,po}var go,tl;function iv(){if(tl)return go;tl=1;function e(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}return go=e,go}var _o,al;function hb(){if(al)return _o;al=1;var e=rr(),r=Se();function n(t){return e(t,r(t))}return _o=n,_o}var bo,il;function vb(){if(il)return bo;il=1;var e=av(),r=vh(),n=xh(),t=ph(),a=Eh(),i=nr(),o=F(),u=Wh(),s=Be(),c=er(),f=W(),d=lb(),l=tr(),h=iv(),v=hb();function p(g,_,b,m,R,q,x){var w=h(g,b),A=h(_,b),S=x.get(A);if(S){e(g,b,S);return}var T=q?q(w,A,b+"",g,_,x):void 0,y=T===void 0;if(y){var k=o(A),I=!k&&s(A),j=!k&&!I&&l(A);T=A,k||I||j?o(w)?T=w:u(w)?T=t(w):I?(y=!1,T=r(A,!0)):j?(y=!1,T=n(A,!0)):T=[]:d(A)||i(A)?(T=w,i(w)?T=v(w):(!f(w)||c(w))&&(T=a(A))):y=!1}y&&(x.set(A,T),R(T,A,m,q,x),x.delete(A)),e(g,b,T)}return bo=p,bo}var mo,ol;function pb(){if(ol)return mo;ol=1;var e=Fr(),r=av(),n=pu(),t=vb(),a=W(),i=Se(),o=iv();function u(s,c,f,d,l){s!==c&&n(c,function(h,v){if(l||(l=new e),a(h))t(s,c,v,f,u,d,l);else{var p=d?d(o(s,v),h,v+"",s,c,l):void 0;p===void 0&&(p=h),r(s,v,p)}},i)}return mo=u,mo}var yo,ul;function gb(){if(ul)return yo;ul=1;var e=Wr(),r=Xr();function n(t){return e(function(a,i){var o=-1,u=i.length,s=u>1?i[u-1]:void 0,c=u>2?i[2]:void 0;for(s=t.length>3&&typeof s=="function"?(u--,s):void 0,c&&r(i[0],i[1],c)&&(s=u<3?void 0:s,u=1),a=Object(a);++o<u;){var f=i[o];f&&t(a,f,o,s)}return a})}return yo=n,yo}var wo,sl;function _b(){if(sl)return wo;sl=1;var e=pb(),r=gb(),n=r(function(t,a,i){e(t,a,i)});return wo=n,wo}var qo,fl;function ov(){if(fl)return qo;fl=1;function e(r,n){return r<n}return qo=e,qo}var xo,cl;function bb(){if(cl)return xo;cl=1;var e=wu(),r=ov(),n=Ce();function t(a){return a&&a.length?e(a,n,r):void 0}return xo=t,xo}var Ro,dl;function mb(){if(dl)return Ro;dl=1;var e=wu(),r=le(),n=ov();function t(a,i){return a&&a.length?e(a,r(i,2),n):void 0}return Ro=t,Ro}var Eo,ll;function yb(){if(ll)return Eo;ll=1;var e=ee(),r=function(){return e.Date.now()};return Eo=r,Eo}var Ao,hl;function wb(){if(hl)return Ao;hl=1;var e=Gr(),r=Kr(),n=Dr(),t=W(),a=ar();function i(o,u,s,c){if(!t(o))return o;u=r(u,o);for(var f=-1,d=u.length,l=d-1,h=o;h!=null&&++f<d;){var v=a(u[f]),p=s;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(f!=l){var g=h[v];p=c?c(g,v,h):void 0,p===void 0&&(p=t(g)?g:n(u[f+1])?[]:{})}e(h,v,p),h=h[v]}return o}return Ao=i,Ao}var Io,vl;function qb(){if(vl)return Io;vl=1;var e=Yr(),r=wb(),n=Kr();function t(a,i,o){for(var u=-1,s=i.length,c={};++u<s;){var f=i[u],d=e(a,f);o(d,f)&&r(c,n(f,a),d)}return c}return Io=t,Io}var So,pl;function xb(){if(pl)return So;pl=1;var e=qb(),r=Fh();function n(t,a){return e(t,a,function(i,o){return r(t,o)})}return So=n,So}var Co,gl;function Rb(){if(gl)return Co;gl=1;var e=tv(),r=Vh(),n=Kh();function t(a){return n(r(a,void 0,e),a+"")}return Co=t,Co}var To,_l;function Eb(){if(_l)return To;_l=1;var e=xb(),r=Rb(),n=r(function(t,a){return t==null?{}:e(t,a)});return To=n,To}var ko,bl;function Ab(){if(bl)return ko;bl=1;var e=Math.ceil,r=Math.max;function n(t,a,i,o){for(var u=-1,s=r(e((a-t)/(i||1)),0),c=Array(s);s--;)c[o?s:++u]=t,t+=i;return c}return ko=n,ko}var Oo,ml;function Ib(){if(ml)return Oo;ml=1;var e=Ab(),r=Xr(),n=nv();function t(a){return function(i,o,u){return u&&typeof u!="number"&&r(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),e(i,o,u,a)}}return Oo=t,Oo}var Mo,yl;function Sb(){if(yl)return Mo;yl=1;var e=Ib(),r=e();return Mo=r,Mo}var No,wl;function Cb(){if(wl)return No;wl=1;function e(r,n){var t=r.length;for(r.sort(n);t--;)r[t]=r[t].value;return r}return No=e,No}var Po,ql;function Tb(){if(ql)return Po;ql=1;var e=He();function r(n,t){if(n!==t){var a=n!==void 0,i=n===null,o=n===n,u=e(n),s=t!==void 0,c=t===null,f=t===t,d=e(t);if(!c&&!d&&!u&&n>t||u&&s&&f&&!c&&!d||i&&s&&f||!a&&f||!o)return 1;if(!i&&!u&&!d&&n<t||d&&a&&o&&!i&&!u||c&&a&&o||!s&&o||!f)return-1}return 0}return Po=r,Po}var Lo,xl;function kb(){if(xl)return Lo;xl=1;var e=Tb();function r(n,t,a){for(var i=-1,o=n.criteria,u=t.criteria,s=o.length,c=a.length;++i<s;){var f=e(o[i],u[i]);if(f){if(i>=c)return f;var d=a[i];return f*(d=="desc"?-1:1)}}return n.index-t.index}return Lo=r,Lo}var $o,Rl;function Ob(){if(Rl)return $o;Rl=1;var e=Vr(),r=Yr(),n=le(),t=Uh(),a=Cb(),i=Br(),o=kb(),u=Ce(),s=F();function c(f,d,l){d.length?d=e(d,function(p){return s(p)?function(g){return r(g,p.length===1?p[0]:p)}:p}):d=[u];var h=-1;d=e(d,i(n));var v=t(f,function(p,g,_){var b=e(d,function(m){return m(p)});return{criteria:b,index:++h,value:p}});return a(v,function(p,g){return o(p,g,l)})}return $o=c,$o}var Fo,El;function Mb(){if(El)return Fo;El=1;var e=mu(),r=Ob(),n=Wr(),t=Xr(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&t(i,o[0],o[1])?o=[]:u>2&&t(o[0],o[1],o[2])&&(o=[o[0]]),r(i,e(o,1),[])});return Fo=a,Fo}var jo,Al;function Nb(){if(Al)return jo;Al=1;var e=Lh(),r=0;function n(t){var a=++r;return e(t)+a}return jo=n,jo}var Go,Il;function Pb(){if(Il)return Go;Il=1;function e(r,n,t){for(var a=-1,i=r.length,o=n.length,u={};++a<i;){var s=a<o?n[a]:void 0;t(u,r[a],s)}return u}return Go=e,Go}var Do,Sl;function Lb(){if(Sl)return Do;Sl=1;var e=Gr(),r=Pb();function n(t,a){return r(t||[],a||[],e)}return Do=n,Do}var Er;if(typeof au=="function")try{Er={cloneDeep:J_(),constant:vu(),defaults:Q_(),each:Ch(),filter:Gh(),find:ob(),flatten:tv(),forEach:Sh(),forIn:ub(),has:Dh(),isUndefined:Bh(),last:sb(),map:Hh(),mapValues:fb(),max:db(),merge:_b(),min:bb(),minBy:mb(),now:yb(),pick:Eb(),range:Sb(),reduce:zh(),sortBy:Mb(),uniqueId:Nb(),values:Xh(),zipObject:Lb()}}catch{}Er||(Er=window._);var L=Er,$b=Zr;function Zr(){var e={};e._next=e._prev=e,this._sentinel=e}Zr.prototype.dequeue=function(){var e=this._sentinel,r=e._prev;if(r!==e)return uv(r),r};Zr.prototype.enqueue=function(e){var r=this._sentinel;e._prev&&e._next&&uv(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r};Zr.prototype.toString=function(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,Fb)),n=n._prev;return"["+e.join(", ")+"]"};function uv(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Fb(e,r){if(e!=="_next"&&e!=="_prev")return r}var se=L,jb=re.Graph,Gb=$b,Db=Ub,Bb=se.constant(1);function Ub(e,r){if(e.nodeCount()<=1)return[];var n=zb(e,r||Bb),t=Hb(n.graph,n.buckets,n.zeroIdx);return se.flatten(se.map(t,function(a){return e.outEdges(a.v,a.w)}),!0)}function Hb(e,r,n){for(var t=[],a=r[r.length-1],i=r[0],o;e.nodeCount();){for(;o=i.dequeue();)Bo(e,r,n,o);for(;o=a.dequeue();)Bo(e,r,n,o);if(e.nodeCount()){for(var u=r.length-2;u>0;--u)if(o=r[u].dequeue(),o){t=t.concat(Bo(e,r,n,o,!0));break}}}return t}function Bo(e,r,n,t,a){var i=a?[]:void 0;return se.forEach(e.inEdges(t.v),function(o){var u=e.edge(o),s=e.node(o.v);a&&i.push({v:o.v,w:o.w}),s.out-=u,Xo(r,n,s)}),se.forEach(e.outEdges(t.v),function(o){var u=e.edge(o),s=o.w,c=e.node(s);c.in-=u,Xo(r,n,c)}),e.removeNode(t.v),i}function zb(e,r){var n=new jb,t=0,a=0;se.forEach(e.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),se.forEach(e.edges(),function(u){var s=n.edge(u.v,u.w)||0,c=r(u),f=s+c;n.setEdge(u.v,u.w,f),a=Math.max(a,n.node(u.v).out+=c),t=Math.max(t,n.node(u.w).in+=c)});var i=se.range(a+t+3).map(function(){return new Gb}),o=t+1;return se.forEach(n.nodes(),function(u){Xo(i,o,n.node(u))}),{graph:n,buckets:i,zeroIdx:o}}function Xo(e,r,n){n.out?n.in?e[n.out-n.in+r].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var xe=L,Vb=Db,Kb={run:Yb,undo:Xb};function Yb(e){var r=e.graph().acyclicer==="greedy"?Vb(e,n(e)):Wb(e);xe.forEach(r,function(t){var a=e.edge(t);e.removeEdge(t),a.forwardName=t.name,a.reversed=!0,e.setEdge(t.w,t.v,a,xe.uniqueId("rev"))});function n(t){return function(a){return t.edge(a).weight}}}function Wb(e){var r=[],n={},t={};function a(i){xe.has(t,i)||(t[i]=!0,n[i]=!0,xe.forEach(e.outEdges(i),function(o){xe.has(n,o.w)?r.push(o):a(o.w)}),delete n[i])}return xe.forEach(e.nodes(),a),r}function Xb(e){xe.forEach(e.edges(),function(r){var n=e.edge(r);if(n.reversed){e.removeEdge(r);var t=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(r.w,r.v,n,t)}})}var M=L,sv=re.Graph,V={addDummyNode:fv,simplify:Zb,asNonCompoundGraph:Jb,successorWeights:Qb,predecessorWeights:em,intersectRect:rm,buildLayerMatrix:nm,normalizeRanks:tm,removeEmptyRanks:am,addBorderNode:im,maxRank:cv,partition:om,time:um,notime:sm};function fv(e,r,n,t){var a;do a=M.uniqueId(t);while(e.hasNode(a));return n.dummy=r,e.setNode(a,n),a}function Zb(e){var r=new sv().setGraph(e.graph());return M.forEach(e.nodes(),function(n){r.setNode(n,e.node(n))}),M.forEach(e.edges(),function(n){var t=r.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);r.setEdge(n.v,n.w,{weight:t.weight+a.weight,minlen:Math.max(t.minlen,a.minlen)})}),r}function Jb(e){var r=new sv({multigraph:e.isMultigraph()}).setGraph(e.graph());return M.forEach(e.nodes(),function(n){e.children(n).length||r.setNode(n,e.node(n))}),M.forEach(e.edges(),function(n){r.setEdge(n,e.edge(n))}),r}function Qb(e){var r=M.map(e.nodes(),function(n){var t={};return M.forEach(e.outEdges(n),function(a){t[a.w]=(t[a.w]||0)+e.edge(a).weight}),t});return M.zipObject(e.nodes(),r)}function em(e){var r=M.map(e.nodes(),function(n){var t={};return M.forEach(e.inEdges(n),function(a){t[a.v]=(t[a.v]||0)+e.edge(a).weight}),t});return M.zipObject(e.nodes(),r)}function rm(e,r){var n=e.x,t=e.y,a=r.x-n,i=r.y-t,o=e.width/2,u=e.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var s,c;return Math.abs(i)*o>Math.abs(a)*u?(i<0&&(u=-u),s=u*a/i,c=u):(a<0&&(o=-o),s=o,c=o*i/a),{x:n+s,y:t+c}}function nm(e){var r=M.map(M.range(cv(e)+1),function(){return[]});return M.forEach(e.nodes(),function(n){var t=e.node(n),a=t.rank;M.isUndefined(a)||(r[a][t.order]=n)}),r}function tm(e){var r=M.min(M.map(e.nodes(),function(n){return e.node(n).rank}));M.forEach(e.nodes(),function(n){var t=e.node(n);M.has(t,"rank")&&(t.rank-=r)})}function am(e){var r=M.min(M.map(e.nodes(),function(i){return e.node(i).rank})),n=[];M.forEach(e.nodes(),function(i){var o=e.node(i).rank-r;n[o]||(n[o]=[]),n[o].push(i)});var t=0,a=e.graph().nodeRankFactor;M.forEach(n,function(i,o){M.isUndefined(i)&&o%a!==0?--t:t&&M.forEach(i,function(u){e.node(u).rank+=t})})}function im(e,r,n,t){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=t),fv(e,"border",a,r)}function cv(e){return M.max(M.map(e.nodes(),function(r){var n=e.node(r).rank;if(!M.isUndefined(n))return n}))}function om(e,r){var n={lhs:[],rhs:[]};return M.forEach(e,function(t){r(t)?n.lhs.push(t):n.rhs.push(t)}),n}function um(e,r){var n=M.now();try{return r()}finally{console.log(e+" time: "+(M.now()-n)+"ms")}}function sm(e,r){return r()}var dv=L,fm=V,cm={run:dm,undo:hm};function dm(e){e.graph().dummyChains=[],dv.forEach(e.edges(),function(r){lm(e,r)})}function lm(e,r){var n=r.v,t=e.node(n).rank,a=r.w,i=e.node(a).rank,o=r.name,u=e.edge(r),s=u.labelRank;if(i!==t+1){e.removeEdge(r);var c,f,d;for(d=0,++t;t<i;++d,++t)u.points=[],f={width:0,height:0,edgeLabel:u,edgeObj:r,rank:t},c=fm.addDummyNode(e,"edge",f,"_d"),t===s&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,a,{weight:u.weight},o)}}function hm(e){dv.forEach(e.graph().dummyChains,function(r){var n=e.node(r),t=n.edgeLabel,a;for(e.setEdge(n.edgeObj,t);n.dummy;)a=e.successors(r)[0],e.removeNode(r),t.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height),r=a,n=e.node(r)})}var hr=L,Jr={longestPath:vm,slack:pm};function vm(e){var r={};function n(t){var a=e.node(t);if(hr.has(r,t))return a.rank;r[t]=!0;var i=hr.min(hr.map(e.outEdges(t),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),a.rank=i}hr.forEach(e.sources(),n)}function pm(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}var Ar=L,gm=re.Graph,Ir=Jr.slack,lv=_m;function _m(e){var r=new gm({directed:!1}),n=e.nodes()[0],t=e.nodeCount();r.setNode(n,{});for(var a,i;bm(r,e)<t;)a=mm(r,e),i=r.hasNode(a.v)?Ir(e,a):-Ir(e,a),ym(r,e,i);return r}function bm(e,r){function n(t){Ar.forEach(r.nodeEdges(t),function(a){var i=a.v,o=t===i?a.w:i;!e.hasNode(o)&&!Ir(r,a)&&(e.setNode(o,{}),e.setEdge(t,o,{}),n(o))})}return Ar.forEach(e.nodes(),n),e.nodeCount()}function mm(e,r){return Ar.minBy(r.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ir(r,n)})}function ym(e,r,n){Ar.forEach(e.nodes(),function(t){r.node(t).rank+=n})}var ce=L,wm=lv,qm=Jr.slack,xm=Jr.longestPath,Rm=re.alg.preorder,Em=re.alg.postorder,Am=V.simplify,Im=Te;Te.initLowLimValues=xu;Te.initCutValues=qu;Te.calcCutValue=hv;Te.leaveEdge=pv;Te.enterEdge=gv;Te.exchangeEdges=_v;function Te(e){e=Am(e),xm(e);var r=wm(e);xu(r),qu(r,e);for(var n,t;n=pv(r);)t=gv(r,e,n),_v(r,e,n,t)}function qu(e,r){var n=Em(e,e.nodes());n=n.slice(0,n.length-1),ce.forEach(n,function(t){Sm(e,r,t)})}function Sm(e,r,n){var t=e.node(n),a=t.parent;e.edge(n,a).cutvalue=hv(e,r,n)}function hv(e,r,n){var t=e.node(n),a=t.parent,i=!0,o=r.edge(n,a),u=0;return o||(i=!1,o=r.edge(a,n)),u=o.weight,ce.forEach(r.nodeEdges(n),function(s){var c=s.v===n,f=c?s.w:s.v;if(f!==a){var d=c===i,l=r.edge(s).weight;if(u+=d?l:-l,Tm(e,n,f)){var h=e.edge(n,f).cutvalue;u+=d?-h:h}}}),u}function xu(e,r){arguments.length<2&&(r=e.nodes()[0]),vv(e,{},1,r)}function vv(e,r,n,t,a){var i=n,o=e.node(t);return r[t]=!0,ce.forEach(e.neighbors(t),function(u){ce.has(r,u)||(n=vv(e,r,n,u,t))}),o.low=i,o.lim=n++,a?o.parent=a:delete o.parent,n}function pv(e){return ce.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function gv(e,r,n){var t=n.v,a=n.w;r.hasEdge(t,a)||(t=n.w,a=n.v);var i=e.node(t),o=e.node(a),u=i,s=!1;i.lim>o.lim&&(u=o,s=!0);var c=ce.filter(r.edges(),function(f){return s===Cl(e,e.node(f.v),u)&&s!==Cl(e,e.node(f.w),u)});return ce.minBy(c,function(f){return qm(r,f)})}function _v(e,r,n,t){var a=n.v,i=n.w;e.removeEdge(a,i),e.setEdge(t.v,t.w,{}),xu(e),qu(e,r),Cm(e,r)}function Cm(e,r){var n=ce.find(e.nodes(),function(a){return!r.node(a).parent}),t=Rm(e,n);t=t.slice(1),ce.forEach(t,function(a){var i=e.node(a).parent,o=r.edge(a,i),u=!1;o||(o=r.edge(i,a),u=!0),r.node(a).rank=r.node(i).rank+(u?o.minlen:-o.minlen)})}function Tm(e,r,n){return e.hasEdge(r,n)}function Cl(e,r,n){return n.low<=r.lim&&r.lim<=n.lim}var km=Jr,bv=km.longestPath,Om=lv,Mm=Im,Nm=Pm;function Pm(e){switch(e.graph().ranker){case"network-simplex":Tl(e);break;case"tight-tree":$m(e);break;case"longest-path":Lm(e);break;default:Tl(e)}}var Lm=bv;function $m(e){bv(e),Om(e)}function Tl(e){Mm(e)}var Zo=L,Fm=jm;function jm(e){var r=Dm(e);Zo.forEach(e.graph().dummyChains,function(n){for(var t=e.node(n),a=t.edgeObj,i=Gm(e,r,a.v,a.w),o=i.path,u=i.lca,s=0,c=o[s],f=!0;n!==a.w;){if(t=e.node(n),f){for(;(c=o[s])!==u&&e.node(c).maxRank<t.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<o.length-1&&e.node(c=o[s+1]).minRank<=t.rank;)s++;c=o[s]}e.setParent(n,c),n=e.successors(n)[0]}})}function Gm(e,r,n,t){var a=[],i=[],o=Math.min(r[n].low,r[t].low),u=Math.max(r[n].lim,r[t].lim),s,c;s=n;do s=e.parent(s),a.push(s);while(s&&(r[s].low>o||u>r[s].lim));for(c=s,s=t;(s=e.parent(s))!==c;)i.push(s);return{path:a.concat(i.reverse()),lca:c}}function Dm(e){var r={},n=0;function t(a){var i=n;Zo.forEach(e.children(a),t),r[a]={low:i,lim:n++}}return Zo.forEach(e.children(),t),r}var fe=L,Jo=V,Bm={run:Um,cleanup:Vm};function Um(e){var r=Jo.addDummyNode(e,"root",{},"_root"),n=Hm(e),t=fe.max(fe.values(n))-1,a=2*t+1;e.graph().nestingRoot=r,fe.forEach(e.edges(),function(o){e.edge(o).minlen*=a});var i=zm(e)+1;fe.forEach(e.children(),function(o){mv(e,r,a,i,t,n,o)}),e.graph().nodeRankFactor=a}function mv(e,r,n,t,a,i,o){var u=e.children(o);if(!u.length){o!==r&&e.setEdge(r,o,{weight:0,minlen:n});return}var s=Jo.addBorderNode(e,"_bt"),c=Jo.addBorderNode(e,"_bb"),f=e.node(o);e.setParent(s,o),f.borderTop=s,e.setParent(c,o),f.borderBottom=c,fe.forEach(u,function(d){mv(e,r,n,t,a,i,d);var l=e.node(d),h=l.borderTop?l.borderTop:d,v=l.borderBottom?l.borderBottom:d,p=l.borderTop?t:2*t,g=h!==v?1:a-i[o]+1;e.setEdge(s,h,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(v,c,{weight:p,minlen:g,nestingEdge:!0})}),e.parent(o)||e.setEdge(r,s,{weight:0,minlen:a+i[o]})}function Hm(e){var r={};function n(t,a){var i=e.children(t);i&&i.length&&fe.forEach(i,function(o){n(o,a+1)}),r[t]=a}return fe.forEach(e.children(),function(t){n(t,1)}),r}function zm(e){return fe.reduce(e.edges(),function(r,n){return r+e.edge(n).weight},0)}function Vm(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,fe.forEach(e.edges(),function(n){var t=e.edge(n);t.nestingEdge&&e.removeEdge(n)})}var Uo=L,Km=V,Ym=Wm;function Wm(e){function r(n){var t=e.children(n),a=e.node(n);if(t.length&&Uo.forEach(t,r),Uo.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)kl(e,"borderLeft","_bl",n,a,i),kl(e,"borderRight","_br",n,a,i)}}Uo.forEach(e.children(),r)}function kl(e,r,n,t,a,i){var o={width:0,height:0,rank:i,borderType:r},u=a[r][i-1],s=Km.addDummyNode(e,"border",o,n);a[r][i]=s,e.setParent(s,t),u&&e.setEdge(u,s,{weight:1})}var te=L,Xm={adjust:Zm,undo:Jm};function Zm(e){var r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&yv(e)}function Jm(e){var r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&Qm(e),(r==="lr"||r==="rl")&&(ey(e),yv(e))}function yv(e){te.forEach(e.nodes(),function(r){Ol(e.node(r))}),te.forEach(e.edges(),function(r){Ol(e.edge(r))})}function Ol(e){var r=e.width;e.width=e.height,e.height=r}function Qm(e){te.forEach(e.nodes(),function(r){Ho(e.node(r))}),te.forEach(e.edges(),function(r){var n=e.edge(r);te.forEach(n.points,Ho),te.has(n,"y")&&Ho(n)})}function Ho(e){e.y=-e.y}function ey(e){te.forEach(e.nodes(),function(r){zo(e.node(r))}),te.forEach(e.edges(),function(r){var n=e.edge(r);te.forEach(n.points,zo),te.has(n,"x")&&zo(n)})}function zo(e){var r=e.x;e.x=e.y,e.y=r}var oe=L,ry=ny;function ny(e){var r={},n=oe.filter(e.nodes(),function(u){return!e.children(u).length}),t=oe.max(oe.map(n,function(u){return e.node(u).rank})),a=oe.map(oe.range(t+1),function(){return[]});function i(u){if(!oe.has(r,u)){r[u]=!0;var s=e.node(u);a[s.rank].push(u),oe.forEach(e.successors(u),i)}}var o=oe.sortBy(n,function(u){return e.node(u).rank});return oe.forEach(o,i),a}var ge=L,ty=ay;function ay(e,r){for(var n=0,t=1;t<r.length;++t)n+=iy(e,r[t-1],r[t]);return n}function iy(e,r,n){for(var t=ge.zipObject(n,ge.map(n,function(c,f){return f})),a=ge.flatten(ge.map(r,function(c){return ge.sortBy(ge.map(e.outEdges(c),function(f){return{pos:t[f.w],weight:e.edge(f).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var u=ge.map(new Array(o),function(){return 0}),s=0;return ge.forEach(a.forEach(function(c){var f=c.pos+i;u[f]+=c.weight;for(var d=0;f>0;)f%2&&(d+=u[f+1]),f=f-1>>1,u[f]+=c.weight;s+=c.weight*d})),s}var Ml=L,oy=uy;function uy(e,r){return Ml.map(r,function(n){var t=e.inEdges(n);if(t.length){var a=Ml.reduce(t,function(i,o){var u=e.edge(o),s=e.node(o.v);return{sum:i.sum+u.weight*s.order,weight:i.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:n}})}var Y=L,sy=fy;function fy(e,r){var n={};Y.forEach(e,function(a,i){var o=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};Y.isUndefined(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),Y.forEach(r.edges(),function(a){var i=n[a.v],o=n[a.w];!Y.isUndefined(i)&&!Y.isUndefined(o)&&(o.indegree++,i.out.push(n[a.w]))});var t=Y.filter(n,function(a){return!a.indegree});return cy(t)}function cy(e){var r=[];function n(i){return function(o){o.merged||(Y.isUndefined(o.barycenter)||Y.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&dy(i,o)}}function t(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var a=e.pop();r.push(a),Y.forEach(a.in.reverse(),n(a)),Y.forEach(a.out,t(a))}return Y.map(Y.filter(r,function(i){return!i.merged}),function(i){return Y.pick(i,["vs","i","barycenter","weight"])})}function dy(e,r){var n=0,t=0;e.weight&&(n+=e.barycenter*e.weight,t+=e.weight),r.weight&&(n+=r.barycenter*r.weight,t+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=n/t,e.weight=t,e.i=Math.min(r.i,e.i),r.merged=!0}var Ye=L,ly=V,hy=vy;function vy(e,r){var n=ly.partition(e,function(f){return Ye.has(f,"barycenter")}),t=n.lhs,a=Ye.sortBy(n.rhs,function(f){return-f.i}),i=[],o=0,u=0,s=0;t.sort(py(!!r)),s=Nl(i,a,s),Ye.forEach(t,function(f){s+=f.vs.length,i.push(f.vs),o+=f.barycenter*f.weight,u+=f.weight,s=Nl(i,a,s)});var c={vs:Ye.flatten(i,!0)};return u&&(c.barycenter=o/u,c.weight=u),c}function Nl(e,r,n){for(var t;r.length&&(t=Ye.last(r)).i<=n;)r.pop(),e.push(t.vs),n++;return n}function py(e){return function(r,n){return r.barycenter<n.barycenter?-1:r.barycenter>n.barycenter?1:e?n.i-r.i:r.i-n.i}}var _e=L,gy=oy,_y=sy,by=hy,my=wv;function wv(e,r,n,t){var a=e.children(r),i=e.node(r),o=i?i.borderLeft:void 0,u=i?i.borderRight:void 0,s={};o&&(a=_e.filter(a,function(v){return v!==o&&v!==u}));var c=gy(e,a);_e.forEach(c,function(v){if(e.children(v.v).length){var p=wv(e,v.v,n,t);s[v.v]=p,_e.has(p,"barycenter")&&wy(v,p)}});var f=_y(c,n);yy(f,s);var d=by(f,t);if(o&&(d.vs=_e.flatten([o,d.vs,u],!0),e.predecessors(o).length)){var l=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(u)[0]);_e.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+l.order+h.order)/(d.weight+2),d.weight+=2}return d}function yy(e,r){_e.forEach(e,function(n){n.vs=_e.flatten(n.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function wy(e,r){_e.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var We=L,qy=re.Graph,xy=Ry;function Ry(e,r,n){var t=Ey(e),a=new qy({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(i){return e.node(i)});return We.forEach(e.nodes(),function(i){var o=e.node(i),u=e.parent(i);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(a.setNode(i),a.setParent(i,u||t),We.forEach(e[n](i),function(s){var c=s.v===i?s.w:s.v,f=a.edge(c,i),d=We.isUndefined(f)?0:f.weight;a.setEdge(c,i,{weight:e.edge(s).weight+d})}),We.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),a}function Ey(e){for(var r;e.hasNode(r=We.uniqueId("_root")););return r}var Ay=L,Iy=Sy;function Sy(e,r,n){var t={},a;Ay.forEach(n,function(i){for(var o=e.parent(i),u,s;o;){if(u=e.parent(o),u?(s=t[u],t[u]=o):(s=a,a=o),s&&s!==o){r.setEdge(s,o);return}o=u}})}var be=L,Cy=ry,Ty=ty,ky=my,Oy=xy,My=Iy,Ny=re.Graph,Pl=V,Py=Ly;function Ly(e){var r=Pl.maxRank(e),n=Ll(e,be.range(1,r+1),"inEdges"),t=Ll(e,be.range(r-1,-1,-1),"outEdges"),a=Cy(e);$l(e,a);for(var i=Number.POSITIVE_INFINITY,o,u=0,s=0;s<4;++u,++s){$y(u%2?n:t,u%4>=2),a=Pl.buildLayerMatrix(e);var c=Ty(e,a);c<i&&(s=0,o=be.cloneDeep(a),i=c)}$l(e,o)}function Ll(e,r,n){return be.map(r,function(t){return Oy(e,t,n)})}function $y(e,r){var n=new Ny;be.forEach(e,function(t){var a=t.graph().root,i=ky(t,a,n,r);be.forEach(i.vs,function(o,u){t.node(o).order=u}),My(t,n,i.vs)})}function $l(e,r){be.forEach(r,function(n){be.forEach(n,function(t,a){e.node(t).order=a})})}var C=L,Fy=re.Graph,jy=V,Gy={positionX:Uy,findType1Conflicts:qv,findType2Conflicts:xv,addConflict:Ru,hasConflict:Rv,verticalAlignment:Ev,horizontalCompaction:Av,alignCoordinates:Sv,findSmallestWidthAlignment:Iv,balance:Cv};function qv(e,r){var n={};function t(a,i){var o=0,u=0,s=a.length,c=C.last(i);return C.forEach(i,function(f,d){var l=Dy(e,f),h=l?e.node(l).order:s;(l||f===c)&&(C.forEach(i.slice(u,d+1),function(v){C.forEach(e.predecessors(v),function(p){var g=e.node(p),_=g.order;(_<o||h<_)&&!(g.dummy&&e.node(v).dummy)&&Ru(n,p,v)})}),u=d+1,o=h)}),i}return C.reduce(r,t),n}function xv(e,r){var n={};function t(i,o,u,s,c){var f;C.forEach(C.range(o,u),function(d){f=i[d],e.node(f).dummy&&C.forEach(e.predecessors(f),function(l){var h=e.node(l);h.dummy&&(h.order<s||h.order>c)&&Ru(n,l,f)})})}function a(i,o){var u=-1,s,c=0;return C.forEach(o,function(f,d){if(e.node(f).dummy==="border"){var l=e.predecessors(f);l.length&&(s=e.node(l[0]).order,t(o,c,d,u,s),c=d,u=s)}t(o,c,o.length,s,i.length)}),o}return C.reduce(r,a),n}function Dy(e,r){if(e.node(r).dummy)return C.find(e.predecessors(r),function(n){return e.node(n).dummy})}function Ru(e,r,n){if(r>n){var t=r;r=n,n=t}var a=e[r];a||(e[r]=a={}),a[n]=!0}function Rv(e,r,n){if(r>n){var t=r;r=n,n=t}return C.has(e[r],n)}function Ev(e,r,n,t){var a={},i={},o={};return C.forEach(r,function(u){C.forEach(u,function(s,c){a[s]=s,i[s]=s,o[s]=c})}),C.forEach(r,function(u){var s=-1;C.forEach(u,function(c){var f=t(c);if(f.length){f=C.sortBy(f,function(p){return o[p]});for(var d=(f.length-1)/2,l=Math.floor(d),h=Math.ceil(d);l<=h;++l){var v=f[l];i[c]===c&&s<o[v]&&!Rv(n,c,v)&&(i[v]=c,i[c]=a[c]=a[v],s=o[v])}}})}),{root:a,align:i}}function Av(e,r,n,t,a){var i={},o=By(e,r,n,a),u=a?"borderLeft":"borderRight";function s(d,l){for(var h=o.nodes(),v=h.pop(),p={};v;)p[v]?d(v):(p[v]=!0,h.push(v),h=h.concat(l(v))),v=h.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(l,h){return Math.max(l,i[h.v]+o.edge(h))},0)}function f(d){var l=o.outEdges(d).reduce(function(v,p){return Math.min(v,i[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(d);l!==Number.POSITIVE_INFINITY&&h.borderType!==u&&(i[d]=Math.max(i[d],l))}return s(c,o.predecessors.bind(o)),s(f,o.successors.bind(o)),C.forEach(t,function(d){i[d]=i[n[d]]}),i}function By(e,r,n,t){var a=new Fy,i=e.graph(),o=Hy(i.nodesep,i.edgesep,t);return C.forEach(r,function(u){var s;C.forEach(u,function(c){var f=n[c];if(a.setNode(f),s){var d=n[s],l=a.edge(d,f);a.setEdge(d,f,Math.max(o(e,c,s),l||0))}s=c})}),a}function Iv(e,r){return C.minBy(C.values(r),function(n){var t=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return C.forIn(n,function(i,o){var u=zy(e,o)/2;t=Math.max(i+u,t),a=Math.min(i-u,a)}),t-a})}function Sv(e,r){var n=C.values(r),t=C.min(n),a=C.max(n);C.forEach(["u","d"],function(i){C.forEach(["l","r"],function(o){var u=i+o,s=e[u],c;if(s!==r){var f=C.values(s);c=o==="l"?t-C.min(f):a-C.max(f),c&&(e[u]=C.mapValues(s,function(d){return d+c}))}})})}function Cv(e,r){return C.mapValues(e.ul,function(n,t){if(r)return e[r.toLowerCase()][t];var a=C.sortBy(C.map(e,t));return(a[1]+a[2])/2})}function Uy(e){var r=jy.buildLayerMatrix(e),n=C.merge(qv(e,r),xv(e,r)),t={},a;C.forEach(["u","d"],function(o){a=o==="u"?r:C.values(r).reverse(),C.forEach(["l","r"],function(u){u==="r"&&(a=C.map(a,function(d){return C.values(d).reverse()}));var s=(o==="u"?e.predecessors:e.successors).bind(e),c=Ev(e,a,n,s),f=Av(e,a,c.root,c.align,u==="r");u==="r"&&(f=C.mapValues(f,function(d){return-d})),t[o+u]=f})});var i=Iv(e,t);return Sv(t,i),Cv(t,e.graph().align)}function Hy(e,r,n){return function(t,a,i){var o=t.node(a),u=t.node(i),s=0,c;if(s+=o.width/2,C.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(s+=n?c:-c),c=0,s+=(o.dummy?r:e)/2,s+=(u.dummy?r:e)/2,s+=u.width/2,C.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":c=u.width/2;break;case"r":c=-u.width/2;break}return c&&(s+=n?c:-c),c=0,s}}function zy(e,r){return e.node(r).width}var Xe=L,Tv=V,Vy=Gy.positionX,Ky=Yy;function Yy(e){e=Tv.asNonCompoundGraph(e),Wy(e),Xe.forEach(Vy(e),function(r,n){e.node(n).x=r})}function Wy(e){var r=Tv.buildLayerMatrix(e),n=e.graph().ranksep,t=0;Xe.forEach(r,function(a){var i=Xe.max(Xe.map(a,function(o){return e.node(o).height}));Xe.forEach(a,function(o){e.node(o).y=t+i/2}),t+=i+n})}var O=L,Fl=Kb,jl=cm,Xy=Nm,Zy=V.normalizeRanks,Jy=Fm,Qy=V.removeEmptyRanks,Gl=Bm,e0=Ym,Dl=Xm,r0=Py,n0=Ky,me=V,t0=re.Graph,a0=i0;function i0(e,r){var n=r&&r.debugTiming?me.time:me.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return g0(e)});n("  runLayout",function(){o0(t,n)}),n("  updateInputGraph",function(){u0(e,t)})})}function o0(e,r){r("    makeSpaceForEdgeLabels",function(){_0(e)}),r("    removeSelfEdges",function(){A0(e)}),r("    acyclic",function(){Fl.run(e)}),r("    nestingGraph.run",function(){Gl.run(e)}),r("    rank",function(){Xy(me.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){b0(e)}),r("    removeEmptyRanks",function(){Qy(e)}),r("    nestingGraph.cleanup",function(){Gl.cleanup(e)}),r("    normalizeRanks",function(){Zy(e)}),r("    assignRankMinMax",function(){m0(e)}),r("    removeEdgeLabelProxies",function(){y0(e)}),r("    normalize.run",function(){jl.run(e)}),r("    parentDummyChains",function(){Jy(e)}),r("    addBorderSegments",function(){e0(e)}),r("    order",function(){r0(e)}),r("    insertSelfEdges",function(){I0(e)}),r("    adjustCoordinateSystem",function(){Dl.adjust(e)}),r("    position",function(){n0(e)}),r("    positionSelfEdges",function(){S0(e)}),r("    removeBorderNodes",function(){E0(e)}),r("    normalize.undo",function(){jl.undo(e)}),r("    fixupEdgeLabelCoords",function(){x0(e)}),r("    undoCoordinateSystem",function(){Dl.undo(e)}),r("    translateGraph",function(){w0(e)}),r("    assignNodeIntersects",function(){q0(e)}),r("    reversePoints",function(){R0(e)}),r("    acyclic.undo",function(){Fl.undo(e)})}function u0(e,r){O.forEach(e.nodes(),function(n){var t=e.node(n),a=r.node(n);t&&(t.x=a.x,t.y=a.y,r.children(n).length&&(t.width=a.width,t.height=a.height))}),O.forEach(e.edges(),function(n){var t=e.edge(n),a=r.edge(n);t.points=a.points,O.has(a,"x")&&(t.x=a.x,t.y=a.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var s0=["nodesep","edgesep","ranksep","marginx","marginy"],f0={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},c0=["acyclicer","ranker","rankdir","align"],d0=["width","height"],l0={width:0,height:0},h0=["minlen","weight","width","height","labeloffset"],v0={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},p0=["labelpos"];function g0(e){var r=new t0({multigraph:!0,compound:!0}),n=Ko(e.graph());return r.setGraph(O.merge({},f0,Vo(n,s0),O.pick(n,c0))),O.forEach(e.nodes(),function(t){var a=Ko(e.node(t));r.setNode(t,O.defaults(Vo(a,d0),l0)),r.setParent(t,e.parent(t))}),O.forEach(e.edges(),function(t){var a=Ko(e.edge(t));r.setEdge(t,O.merge({},v0,Vo(a,h0),O.pick(a,p0)))}),r}function _0(e){var r=e.graph();r.ranksep/=2,O.forEach(e.edges(),function(n){var t=e.edge(n);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function b0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);if(n.width&&n.height){var t=e.node(r.v),a=e.node(r.w),i={rank:(a.rank-t.rank)/2+t.rank,e:r};me.addDummyNode(e,"edge-proxy",i,"_ep")}})}function m0(e){var r=0;O.forEach(e.nodes(),function(n){var t=e.node(n);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,r=O.max(r,t.maxRank))}),e.graph().maxRank=r}function y0(e){O.forEach(e.nodes(),function(r){var n=e.node(r);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(r))})}function w0(e){var r=Number.POSITIVE_INFINITY,n=0,t=Number.POSITIVE_INFINITY,a=0,i=e.graph(),o=i.marginx||0,u=i.marginy||0;function s(c){var f=c.x,d=c.y,l=c.width,h=c.height;r=Math.min(r,f-l/2),n=Math.max(n,f+l/2),t=Math.min(t,d-h/2),a=Math.max(a,d+h/2)}O.forEach(e.nodes(),function(c){s(e.node(c))}),O.forEach(e.edges(),function(c){var f=e.edge(c);O.has(f,"x")&&s(f)}),r-=o,t-=u,O.forEach(e.nodes(),function(c){var f=e.node(c);f.x-=r,f.y-=t}),O.forEach(e.edges(),function(c){var f=e.edge(c);O.forEach(f.points,function(d){d.x-=r,d.y-=t}),O.has(f,"x")&&(f.x-=r),O.has(f,"y")&&(f.y-=t)}),i.width=n-r+o,i.height=a-t+u}function q0(e){O.forEach(e.edges(),function(r){var n=e.edge(r),t=e.node(r.v),a=e.node(r.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=a,o=t),n.points.unshift(me.intersectRect(t,i)),n.points.push(me.intersectRect(a,o))})}function x0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);if(O.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function R0(e){O.forEach(e.edges(),function(r){var n=e.edge(r);n.reversed&&n.points.reverse()})}function E0(e){O.forEach(e.nodes(),function(r){if(e.children(r).length){var n=e.node(r),t=e.node(n.borderTop),a=e.node(n.borderBottom),i=e.node(O.last(n.borderLeft)),o=e.node(O.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(a.y-t.y),n.x=i.x+n.width/2,n.y=t.y+n.height/2}}),O.forEach(e.nodes(),function(r){e.node(r).dummy==="border"&&e.removeNode(r)})}function A0(e){O.forEach(e.edges(),function(r){if(r.v===r.w){var n=e.node(r.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function I0(e){var r=me.buildLayerMatrix(e);O.forEach(r,function(n){var t=0;O.forEach(n,function(a,i){var o=e.node(a);o.order=i+t,O.forEach(o.selfEdges,function(u){me.addDummyNode(e,"selfedge",{width:u.label.width,height:u.label.height,rank:o.rank,order:i+ ++t,e:u.e,label:u.label},"_se")}),delete o.selfEdges})})}function S0(e){O.forEach(e.nodes(),function(r){var n=e.node(r);if(n.dummy==="selfedge"){var t=e.node(n.e.v),a=t.x+t.width/2,i=t.y,o=n.x-a,u=t.height/2;e.setEdge(n.e,n.label),e.removeNode(r),n.label.points=[{x:a+2*o/3,y:i-u},{x:a+5*o/6,y:i-u},{x:a+o,y:i},{x:a+5*o/6,y:i+u},{x:a+2*o/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}})}function Vo(e,r){return O.mapValues(O.pick(e,r),Number)}function Ko(e){var r={};return O.forEach(e,function(n,t){r[t.toLowerCase()]=n}),r}var vr=L,C0=V,T0=re.Graph,k0={debugOrdering:O0};function O0(e){var r=C0.buildLayerMatrix(e),n=new T0({compound:!0,multigraph:!0}).setGraph({});return vr.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),vr.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),vr.forEach(r,function(t,a){var i="layer"+a;n.setNode(i,{rank:"same"}),vr.reduce(t,function(o,u){return n.setEdge(o,u,{style:"invis"}),u})}),n}var M0="0.8.5",N0={graphlib:re,layout:a0,debug:k0,util:{time:V.time,notime:V.notime},version:M0};const Bl=dp(N0);function mr(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function P0(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function kv(e){let r,n,t;e.length!==2?(r=mr,n=(u,s)=>mr(e(u),s),t=(u,s)=>e(u)-s):(r=e===mr||e===P0?e:L0,n=e,t=e);function a(u,s,c=0,f=u.length){if(c<f){if(r(s,s)!==0)return f;do{const d=c+f>>>1;n(u[d],s)<0?c=d+1:f=d}while(c<f)}return c}function i(u,s,c=0,f=u.length){if(c<f){if(r(s,s)!==0)return f;do{const d=c+f>>>1;n(u[d],s)<=0?c=d+1:f=d}while(c<f)}return c}function o(u,s,c=0,f=u.length){const d=a(u,s,c,f-1);return d>c&&t(u[d-1],s)>-t(u[d],s)?d-1:d}return{left:a,center:o,right:i}}function L0(){return 0}function $0(e){return e===null?NaN:+e}const F0=kv(mr),j0=F0.right;kv($0).center;const G0=Math.sqrt(50),D0=Math.sqrt(10),B0=Math.sqrt(2);function Sr(e,r,n){const t=(r-e)/Math.max(0,n),a=Math.floor(Math.log10(t)),i=t/Math.pow(10,a),o=i>=G0?10:i>=D0?5:i>=B0?2:1;let u,s,c;return a<0?(c=Math.pow(10,-a)/o,u=Math.round(e*c),s=Math.round(r*c),u/c<e&&++u,s/c>r&&--s,c=-c):(c=Math.pow(10,a)*o,u=Math.round(e/c),s=Math.round(r/c),u*c<e&&++u,s*c>r&&--s),s<u&&.5<=n&&n<2?Sr(e,r,n*2):[u,s,c]}function U0(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const t=r<e,[a,i,o]=t?Sr(r,e,n):Sr(e,r,n);if(!(i>=a))return[];const u=i-a+1,s=new Array(u);if(t)if(o<0)for(let c=0;c<u;++c)s[c]=(i-c)/-o;else for(let c=0;c<u;++c)s[c]=(i-c)*o;else if(o<0)for(let c=0;c<u;++c)s[c]=(a+c)/-o;else for(let c=0;c<u;++c)s[c]=(a+c)*o;return s}function Qo(e,r,n){return r=+r,e=+e,n=+n,Sr(e,r,n)[2]}function H0(e,r,n){r=+r,e=+e,n=+n;const t=r<e,a=t?Qo(r,e,n):Qo(e,r,n);return(t?-1:1)*(a<0?1/-a:a)}function z0(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Eu(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function Ov(e,r){var n=Object.create(e.prototype);for(var t in r)n[t]=r[t];return n}function ir(){}var Ze=.7,Cr=1/Ze,Fe="\\s*([+-]?\\d+)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",V0=/^#([0-9a-f]{3,8})$/,K0=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),Y0=new RegExp(`^rgb\\(${ae},${ae},${ae}\\)$`),W0=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${Je}\\)$`),X0=new RegExp(`^rgba\\(${ae},${ae},${ae},${Je}\\)$`),Z0=new RegExp(`^hsl\\(${Je},${ae},${ae}\\)$`),J0=new RegExp(`^hsla\\(${Je},${ae},${ae},${Je}\\)$`),Ul={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eu(ir,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hl,formatHex:Hl,formatHex8:Q0,formatHsl:e1,formatRgb:zl,toString:zl});function Hl(){return this.rgb().formatHex()}function Q0(){return this.rgb().formatHex8()}function e1(){return Mv(this).formatHsl()}function zl(){return this.rgb().formatRgb()}function Qe(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=V0.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?Vl(r):n===3?new z(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?pr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?pr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=K0.exec(e))?new z(r[1],r[2],r[3],1):(r=Y0.exec(e))?new z(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=W0.exec(e))?pr(r[1],r[2],r[3],r[4]):(r=X0.exec(e))?pr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Z0.exec(e))?Wl(r[1],r[2]/100,r[3]/100,1):(r=J0.exec(e))?Wl(r[1],r[2]/100,r[3]/100,r[4]):Ul.hasOwnProperty(e)?Vl(Ul[e]):e==="transparent"?new z(NaN,NaN,NaN,0):null}function Vl(e){return new z(e>>16&255,e>>8&255,e&255,1)}function pr(e,r,n,t){return t<=0&&(e=r=n=NaN),new z(e,r,n,t)}function r1(e){return e instanceof ir||(e=Qe(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function eu(e,r,n,t){return arguments.length===1?r1(e):new z(e,r,n,t??1)}function z(e,r,n,t){this.r=+e,this.g=+r,this.b=+n,this.opacity=+t}Eu(z,eu,Ov(ir,{brighter(e){return e=e==null?Cr:Math.pow(Cr,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ze:Math.pow(Ze,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(Ee(this.r),Ee(this.g),Ee(this.b),Tr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kl,formatHex:Kl,formatHex8:n1,formatRgb:Yl,toString:Yl}));function Kl(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}`}function n1(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}${Re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yl(){const e=Tr(this.opacity);return`${e===1?"rgb(":"rgba("}${Ee(this.r)}, ${Ee(this.g)}, ${Ee(this.b)}${e===1?")":`, ${e})`}`}function Tr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ee(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Re(e){return e=Ee(e),(e<16?"0":"")+e.toString(16)}function Wl(e,r,n,t){return t<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new Q(e,r,n,t)}function Mv(e){if(e instanceof Q)return new Q(e.h,e.s,e.l,e.opacity);if(e instanceof ir||(e=Qe(e)),!e)return new Q;if(e instanceof Q)return e;e=e.rgb();var r=e.r/255,n=e.g/255,t=e.b/255,a=Math.min(r,n,t),i=Math.max(r,n,t),o=NaN,u=i-a,s=(i+a)/2;return u?(r===i?o=(n-t)/u+(n<t)*6:n===i?o=(t-r)/u+2:o=(r-n)/u+4,u/=s<.5?i+a:2-i-a,o*=60):u=s>0&&s<1?0:o,new Q(o,u,s,e.opacity)}function t1(e,r,n,t){return arguments.length===1?Mv(e):new Q(e,r,n,t??1)}function Q(e,r,n,t){this.h=+e,this.s=+r,this.l=+n,this.opacity=+t}Eu(Q,t1,Ov(ir,{brighter(e){return e=e==null?Cr:Math.pow(Cr,e),new Q(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ze:Math.pow(Ze,e),new Q(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,t=n+(n<.5?n:1-n)*r,a=2*n-t;return new z(Yo(e>=240?e-240:e+120,a,t),Yo(e,a,t),Yo(e<120?e+240:e-120,a,t),this.opacity)},clamp(){return new Q(Xl(this.h),gr(this.s),gr(this.l),Tr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tr(this.opacity);return`${e===1?"hsl(":"hsla("}${Xl(this.h)}, ${gr(this.s)*100}%, ${gr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xl(e){return e=(e||0)%360,e<0?e+360:e}function gr(e){return Math.max(0,Math.min(1,e||0))}function Yo(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const Au=e=>()=>e;function a1(e,r){return function(n){return e+n*r}}function i1(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(t){return Math.pow(e+t*r,n)}}function o1(e){return(e=+e)==1?Nv:function(r,n){return n-r?i1(r,n,e):Au(isNaN(r)?n:r)}}function Nv(e,r){var n=r-e;return n?a1(e,n):Au(isNaN(e)?r:e)}const Zl=function e(r){var n=o1(r);function t(a,i){var o=n((a=eu(a)).r,(i=eu(i)).r),u=n(a.g,i.g),s=n(a.b,i.b),c=Nv(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=u(f),a.b=s(f),a.opacity=c(f),a+""}}return t.gamma=e,t}(1);function u1(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,t=r.slice(),a;return function(i){for(a=0;a<n;++a)t[a]=e[a]*(1-i)+r[a]*i;return t}}function s1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function f1(e,r){var n=r?r.length:0,t=e?Math.min(n,e.length):0,a=new Array(t),i=new Array(n),o;for(o=0;o<t;++o)a[o]=Iu(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(u){for(o=0;o<t;++o)i[o]=a[o](u);return i}}function c1(e,r){var n=new Date;return e=+e,r=+r,function(t){return n.setTime(e*(1-t)+r*t),n}}function kr(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function d1(e,r){var n={},t={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?n[a]=Iu(e[a],r[a]):t[a]=r[a];return function(i){for(a in n)t[a]=n[a](i);return t}}var ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wo=new RegExp(ru.source,"g");function l1(e){return function(){return e}}function h1(e){return function(r){return e(r)+""}}function v1(e,r){var n=ru.lastIndex=Wo.lastIndex=0,t,a,i,o=-1,u=[],s=[];for(e=e+"",r=r+"";(t=ru.exec(e))&&(a=Wo.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(t=t[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,s.push({i:o,x:kr(t,a)})),n=Wo.lastIndex;return n<r.length&&(i=r.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?h1(s[0].x):l1(r):(r=s.length,function(c){for(var f=0,d;f<r;++f)u[(d=s[f]).i]=d.x(c);return u.join("")})}function Iu(e,r){var n=typeof r,t;return r==null||n==="boolean"?Au(r):(n==="number"?kr:n==="string"?(t=Qe(r))?(r=t,Zl):v1:r instanceof Qe?Zl:r instanceof Date?c1:s1(r)?u1:Array.isArray(r)?f1:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?d1:kr)(e,r)}function p1(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function g1(e){return function(){return e}}function _1(e){return+e}var Jl=[0,1];function $e(e){return e}function nu(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:g1(isNaN(r)?NaN:.5)}function b1(e,r){var n;return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function m1(e,r,n){var t=e[0],a=e[1],i=r[0],o=r[1];return a<t?(t=nu(a,t),i=n(o,i)):(t=nu(t,a),i=n(i,o)),function(u){return i(t(u))}}function y1(e,r,n){var t=Math.min(e.length,r.length)-1,a=new Array(t),i=new Array(t),o=-1;for(e[t]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<t;)a[o]=nu(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(u){var s=j0(e,u,1,t)-1;return i[s](a[s](u))}}function w1(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function q1(){var e=Jl,r=Jl,n=Iu,t,a,i,o=$e,u,s,c;function f(){var l=Math.min(e.length,r.length);return o!==$e&&(o=b1(e[0],e[l-1])),u=l>2?y1:m1,s=c=null,d}function d(l){return l==null||isNaN(l=+l)?i:(s||(s=u(e.map(t),r,n)))(t(o(l)))}return d.invert=function(l){return o(a((c||(c=u(r,e.map(t),kr)))(l)))},d.domain=function(l){return arguments.length?(e=Array.from(l,_1),f()):e.slice()},d.range=function(l){return arguments.length?(r=Array.from(l),f()):r.slice()},d.rangeRound=function(l){return r=Array.from(l),n=p1,f()},d.clamp=function(l){return arguments.length?(o=l?!0:$e,f()):o!==$e},d.interpolate=function(l){return arguments.length?(n=l,f()):n},d.unknown=function(l){return arguments.length?(i=l,d):i},function(l,h){return t=l,a=h,f()}}function x1(){return q1()($e,$e)}function R1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Or(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,t=e.slice(0,n);return[t.length>1?t[0]+t.slice(2):t,+e.slice(n+1)]}function je(e){return e=Or(Math.abs(e)),e?e[1]:NaN}function E1(e,r){return function(n,t){for(var a=n.length,i=[],o=0,u=e[0],s=0;a>0&&u>0&&(s+u+1>t&&(u=Math.max(1,t-s)),i.push(n.substring(a-=u,a+u)),!((s+=u+1)>t));)u=e[o=(o+1)%e.length];return i.reverse().join(r)}}function A1(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var I1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mr(e){if(!(r=I1.exec(e)))throw new Error("invalid format: "+e);var r;return new Su({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Mr.prototype=Su.prototype;function Su(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Su.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S1(e){e:for(var r=e.length,n=1,t=-1,a;n<r;++n)switch(e[n]){case".":t=a=n;break;case"0":t===0&&(t=n),a=n;break;default:if(!+e[n])break e;t>0&&(t=0);break}return t>0?e.slice(0,t)+e.slice(a+1):e}var Pv;function C1(e,r){var n=Or(e,r);if(!n)return e+"";var t=n[0],a=n[1],i=a-(Pv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=t.length;return i===o?t:i>o?t+new Array(i-o+1).join("0"):i>0?t.slice(0,i)+"."+t.slice(i):"0."+new Array(1-i).join("0")+Or(e,Math.max(0,r+i-1))[0]}function Ql(e,r){var n=Or(e,r);if(!n)return e+"";var t=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+t:t.length>a+1?t.slice(0,a+1)+"."+t.slice(a+1):t+new Array(a-t.length+2).join("0")}const eh={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:R1,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Ql(e*100,r),r:Ql,s:C1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rh(e){return e}var nh=Array.prototype.map,th=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T1(e){var r=e.grouping===void 0||e.thousands===void 0?rh:E1(nh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",t=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rh:A1(nh.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Mr(d);var l=d.fill,h=d.align,v=d.sign,p=d.symbol,g=d.zero,_=d.width,b=d.comma,m=d.precision,R=d.trim,q=d.type;q==="n"?(b=!0,q="g"):eh[q]||(m===void 0&&(m=12),R=!0,q="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",w=p==="$"?t:/[%p]/.test(q)?o:"",A=eh[q],S=/[defgprs%]/.test(q);m=m===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function T(y){var k=x,I=w,j,K,he;if(q==="c")I=A(y)+I,y="";else{y=+y;var ke=y<0||1/y<0;if(y=isNaN(y)?s:A(Math.abs(y),m),R&&(y=S1(y)),ke&&+y==0&&v!=="+"&&(ke=!1),k=(ke?v==="("?v:u:v==="-"||v==="("?"":v)+k,I=(q==="s"?th[8+Pv/3]:"")+I+(ke&&v==="("?")":""),S){for(j=-1,K=y.length;++j<K;)if(he=y.charCodeAt(j),48>he||he>57){I=(he===46?a+y.slice(j+1):y.slice(j))+I,y=y.slice(0,j);break}}}b&&!g&&(y=r(y,1/0));var we=k.length+y.length+I.length,Z=we<_?new Array(_-we+1).join(l):"";switch(b&&g&&(y=r(Z+y,Z.length?_-I.length:1/0),Z=""),h){case"<":y=k+y+I+Z;break;case"=":y=k+Z+y+I;break;case"^":y=Z.slice(0,we=Z.length>>1)+k+y+I+Z.slice(we);break;default:y=Z+k+y+I;break}return i(y)}return T.toString=function(){return d+""},T}function f(d,l){var h=c((d=Mr(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(je(l)/3)))*3,p=Math.pow(10,-v),g=th[8+v/3];return function(_){return h(p*_)+g}}return{format:c,formatPrefix:f}}var _r,Lv,$v;k1({thousands:",",grouping:[3],currency:["$",""]});function k1(e){return _r=T1(e),Lv=_r.format,$v=_r.formatPrefix,_r}function O1(e){return Math.max(0,-je(Math.abs(e)))}function M1(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(r)/3)))*3-je(Math.abs(e)))}function N1(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,je(r)-je(e))+1}function P1(e,r,n,t){var a=H0(e,r,n),i;switch(t=Mr(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return t.precision==null&&!isNaN(i=M1(a,o))&&(t.precision=i),$v(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(i=N1(a,Math.max(Math.abs(e),Math.abs(r))))&&(t.precision=i-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(i=O1(a))&&(t.precision=i-(t.type==="%")*2);break}}return Lv(t)}function L1(e){var r=e.domain;return e.ticks=function(n){var t=r();return U0(t[0],t[t.length-1],n??10)},e.tickFormat=function(n,t){var a=r();return P1(a[0],a[a.length-1],n??10,t)},e.nice=function(n){n==null&&(n=10);var t=r(),a=0,i=t.length-1,o=t[a],u=t[i],s,c,f=10;for(u<o&&(c=o,o=u,u=c,c=a,a=i,i=c);f-- >0;){if(c=Qo(o,u,n),c===s)return t[a]=o,t[i]=u,r(t);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;s=c}return e},e}function Fv(){var e=x1();return e.copy=function(){return w1(e,Fv())},z0.apply(e,arguments),L1(e)}function $1(e,r){const n=oh([]),{theme:t}=lp(),a=Fv().domain([0,2]).range([t.value.primaryColor,t.value.accentColor]),i=new Bl.graphlib.Graph;i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:"LR"});const{metasWithIdAsKey:o}=hp(),u=ue(()=>E(e)),s=ue(()=>E(r)),c=300,f=ue(()=>s.value.showViews&&s.value.showAllColumns?50:40),d=ue(()=>u.value.reduce((_,b)=>{var q,x;const R=((q=o.value[b.id].columns)==null?void 0:q.filter(w=>yr(w)&&w.system!==1))||[];for(const w of R){const A=w.colOptions,S=w.fk_model_id,T=A.fk_related_model_id,y=u.value.find(I=>I.id===S),k=u.value.find(I=>I.id===T);if(S&&T&&y&&k){const I={source:S,target:T,childColId:A.fk_child_column_id,parentColId:A.fk_parent_column_id,modelId:A.fk_mm_model_id,type:D.HAS_MANY};if(A.type===D.HAS_MANY){I.type=D.HAS_MANY,_.push(I);continue}if(A.type===D.ONE_TO_ONE){if(I.type=D.ONE_TO_ONE,(x=w.meta)!=null&&x.bt)continue;_.push(I);continue}if(A.type===D.MANY_TO_MANY&&!_.find(K=>K.type===D.MANY_TO_MANY&&K.parentColId===A.fk_child_column_id&&K.childColId===A.fk_parent_column_id)){I.type=D.MANY_TO_MANY,_.push(I);continue}}}return _},[]));function l({type:_,source:b,target:m,modelId:R,childColId:q,parentColId:x}){var T,y;let w;_===D.HAS_MANY?w="has many":_===D.MANY_TO_MANY?w="many to many":_==="oo"&&(w="one to one");const A=(T=o.value[b].columns)==null?void 0:T.find(k=>{const I=k.colOptions;return I?I.fk_child_column_id===q&&I.fk_parent_column_id===x&&I.fk_mm_model_id===R:!1}),S=(y=o.value[m].columns)==null?void 0:y.find(k=>{const I=k.colOptions;return I?I.fk_parent_column_id===(_===D.MANY_TO_MANY?q:x):!1});if(!A||!S)return"";if(_===D.MANY_TO_MANY&&s.value.showJunctionTableNames){if(!R)return"";const k=o.value[R];return k?k.title!==k.table_name?[`${k.title} (${k.table_name})`]:[k.title]:""}return[`[${o.value[b].title}] ${A.title} - ${w} - ${S.title} [${o.value[m].title}]`,`${o.value[b].title} - ${w} - ${o.value[m].title}`]}function h(){return u.value.reduce((_,b)=>{var x;if(!b.id)return _;const m=((x=o.value[b.id].columns)==null?void 0:x.filter(w=>[dr.CreatedBy,dr.LastModifiedBy].includes(w.uidt)&&w.system?!1:s.value.showAllColumns||!s.value.showAllColumns&&yr(w)))||[],R=m.filter(()=>s.value.showPkAndFk).filter(w=>w.pk||w.uidt===dr.ForeignKey),q=m.filter(w=>!w.pk&&w.uidt!==dr.ForeignKey);return _.push({id:b.id,data:{table:o.value[b.id],pkAndFkColumns:R,nonPkColumns:q,showPkAndFk:s.value.showPkAndFk,showAllColumns:s.value.showAllColumns,columnLength:m.length,color:""},type:"custom",position:{x:0,y:0}}),_},[])}function v(){return d.value.reduce((_,{source:b,target:m,childColId:R,parentColId:q,type:x,modelId:w})=>{let A,S;(x===D.HAS_MANY||x==="oo")&&(A=R,S=R),x===D.MANY_TO_MANY&&(A=q,S=R);const[T,y]=l({source:b,target:m,type:x,childColId:R,parentColId:q,modelId:w});return _.push({id:`e-${A}-${b}-${S}-${m}-#${T}`,source:`${b}`,target:`${m}`,sourceHandle:`s-${A}-${b}`,targetHandle:`d-${S}-${m}`,type:"custom",markerEnd:{id:"arrow-colored",type:Ep.ArrowClosed},data:{isManyToMany:x===D.MANY_TO_MANY,isOneToOne:x==="oo",isSelfRelation:b===m&&A===S,label:T,simpleLabel:y,color:""}}),_},[])}const p=(_,b)=>({});return{elements:n,layout:async(_=!1)=>new Promise(b=>{n.value=[...h(),...v()];for(const m of n.value)if(Pu(m)){const q=m.data.columnLength,x=_?c*3:c,w=f.value+(_?250:q>0?f.value*q:f.value);i.setNode(m.id,{width:x,height:w})}else Lu(m)&&i.setEdge(m.source,m.target);Bl.layout(i);for(const m of n.value)if(Pu(m)){const R=a(i.predecessors(m.id).length),q=i.node(m.id);m.targetPosition=Le.Left,m.sourcePosition=Le.Right,m.position={x:q.x,y:q.y},m.class=["rounded-lg border-1 border-gray-200 shadow-lg"].join(" "),m.data.color=R,m.style=x=>(x.selected,p())}else if(Lu(m)){const R=n.value.find(q=>q.id===m.source);if(R){const q=R.data.color;m.data.color=q,m.markerEnd.color=`#${vp(q).toHex()}`}}b()})}}const z1=tu({__name:"Flow",props:{tables:{},config:{}},setup(e){const r=e,{tables:n,config:t}=pp(r),{$destroy:a,fitView:i,viewport:o,setMaxZoom:u,onNodeDoubleClick:s,zoomIn:c,zoomOut:f}=sh({minZoom:.05,maxZoom:2}),{layout:d,elements:l}=$1(n,t),h=ue(()=>o.value.zoom<.15);async function v(){i({duration:0,minZoom:.2}),d(h.value)}function p(g){i({nodes:g?[g]:void 0,duration:200,minZoom:.2})}return s(({node:g})=>{h.value&&p(),setTimeout(()=>{p(g.id)},250)}),br(n,v,{flush:"post",immediate:!0}),br(h,async g=>{d(g).then(()=>{g&&i({duration:300,minZoom:g?void 0:o.value.zoom,maxZoom:g?o.value.zoom:void 0})})}),br(l,g=>{g.length>3?u(2):u(1.25)}),gp(a),(g,_)=>{const b=wp,m=Lp,R=Vp;return $(),Pe(E(Cp),{modelValue:E(l),"onUpdate:modelValue":_[2]||(_[2]=q=>yp(l)?l.value=q:null)},{"node-custom":J(({data:q,dragging:x})=>[U(m,{data:q,dragging:x,"show-skeleton":E(h)},null,8,["data","dragging","show-skeleton"])]),"edge-custom":J(q=>[U(R,_p(q,{"show-skeleton":E(h)}),null,16,["show-skeleton"])]),default:J(()=>[U(E(Ap),{class:"bg-transparent rounded-lg shadow-md border-1 border-gray-200",position:E($u).BottomLeft,"show-fit-view":!1,"show-interactive":!1},{"control-zoom-in":J(()=>[G("div",{class:"nc-erd-zoom-btn rounded-t-md",onClick:_[0]||(_[0]=(...q)=>E(c)&&E(c)(...q))},[U(b,{icon:"plus"})])]),"control-zoom-out":J(()=>[G("div",{class:"nc-erd-zoom-btn border-t-1 border-gray-200 rounded-b-lg",onClick:_[1]||(_[1]=(...q)=>E(f)&&E(f)(...q))},[U(b,{icon:"minus"})])]),_:1},8,["position"]),U(E(Ip),{size:E(h)?2:void 0,gap:E(h)?50:void 0},null,8,["size","gap"]),U(uh,{name:"layout"},{default:J(()=>[E(h)&&E(t).showAllColumns?($(),Pe(E(Sp),{key:0,position:E($u).BottomCenter,class:"color-transition z-5 cursor-pointer rounded shadow-sm text-slate-400 font-semibold px-4 py-2 bg-slate-100/50 hover:text-slate-900 hover:ring hover:ring-accent hover:ring-opacity-100 hover:bg-slate-100/90",onClick:p},{default:J(()=>[bp(wr(g.$t("labels.zoomInToViewColumns")),1)]),_:1},8,["position"])):xr("",!0)]),_:1}),mp(g.$slots,"default")]),_:3},8,["modelValue"])}}});export{z1 as default};
