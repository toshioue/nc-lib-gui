import{f as V,u as F,at as k,r as y,g as d,H as v,i as R,l as P,o as U,U as X,w as z,b as T,P as a,a8 as w,a as j,T as g,a6 as W}from"./nEPQs079.js";import{u as M}from"./B00EKCmm.js";import{u as D}from"./DQ9lOBun.js";import{g as O,M as H}from"./BT9QYD4x.js";const c=250,Q=V({__name:"View",setup(q){const h=F().currentRoute,{isMobileMode:r}=k(M()),{isLeftSidebarOpen:l,leftSidebarWidthPercent:B,leftSideBarSize:e,leftSidebarState:t,mobileNormalizedSidebarSize:f}=k(D()),b=y(),o=y(window.innerWidth),m=d({get:()=>e.value.current,set:n=>{e.value.current=n,e.value.old=n}}),{handleSidebarOpenOnMobileForNonViews:_}=M(),$=d(()=>100-e.value.current),L=d(()=>r.value?l.value?0:100:$.value),s=d(()=>r.value?o.value:e.value.old*o.value/100);v(m,()=>{B.value=m.value}),v(l,()=>{e.value.current=e.value.old,l.value?(setTimeout(()=>t.value="openStart",0),setTimeout(()=>t.value="openEnd",c)):(e.value.old=e.value.current,e.value.current=0,t.value="hiddenStart",setTimeout(()=>{t.value="hiddenEnd"},c))});function E(n){r.value||b.value&&t.value!=="openEnd"&&(n.clientX<4&&["hiddenEnd","peekCloseEnd"].includes(t.value)?(t.value="peekOpenStart",setTimeout(()=>{t.value="peekOpenEnd"},c)):n.clientX>s.value+10&&t.value==="peekOpenEnd"&&(t.value="peekCloseOpen",setTimeout(()=>{t.value="peekCloseEnd"},c)))}function p(){o.value=window.innerWidth,x(m.value)}R(()=>{document.addEventListener("mousemove",E),window.addEventListener("resize",p)}),P(()=>{document.removeEventListener("mousemove",E),window.removeEventListener("resize",p)}),v(h,()=>{h.value.name==="index-index"&&(l.value=!0)}),v(r,()=>{l.value=!r.value}),v(t,()=>{t.value==="peekCloseEnd"&&setTimeout(()=>{t.value="hiddenEnd"},c)}),R(()=>{_()});const S=n=>{const i=parseFloat(getComputedStyle(document.documentElement).fontSize);return n*i};function x(n){if(r.value)return;const i=n*o.value/100,u=parseFloat(getComputedStyle(document.documentElement).fontSize);if(o.value<=1560&&i>S(20)){e.value.old=20*u/o.value*100,l.value&&(e.value.current=e.value.old);return}const C=i/u;if(C<16){e.value.old=16*u/o.value*100,l.value&&(e.value.current=e.value.old);return}else if(C>35){e.value.old=35*u/o.value*100,l.value&&(e.value.current=e.value.old);return}e.value.old=n,e.value.current=e.value.old}const N=d(()=>{const n=S(35),i=S(16);return s.value>n?n:s.value<i?i:s.value});return(n,i)=>(U(),X(a(H),{class:g(["nc-sidebar-content-resizable-wrapper !w-screen h-full",{"hide-resize-bar":!a(l)||a(t)==="openStart"}]),onReady:i[0]||(i[0]=()=>p()),onResize:i[1]||(i[1]=u=>x(u[0].size))},{default:z(()=>[T(a(O),{"min-size":"15%",size:a(f),"max-size":"60%",class:"nc-sidebar-splitpane !sm:max-w-140 relative !overflow-visible flex",style:w({width:`${a(f)}%`})},{default:z(()=>[j("div",{ref_key:"wrapperRef",ref:b,class:g(["nc-sidebar-wrapper relative flex flex-col h-full justify-center !sm:max-w-140 absolute overflow-visible",{mobile:a(r),"minimized-height":!a(l),"hide-sidebar":["hiddenStart","hiddenEnd","peekCloseEnd"].includes(a(t))}]),style:w({width:a(t)==="hiddenEnd"?"0px":`${a(s)}px`,minWidth:a(t)==="hiddenEnd"?"0px":`${a(N)}px`})},[W(n.$slots,"sidebar")],6)]),_:3},8,["size","style"]),T(a(O),{size:a(L),class:"flex-grow",style:w({"min-width":`${100-a(f)}%`})},{default:z(()=>[W(n.$slots,"content")]),_:3},8,["size","style"])]),_:3},8,["class"]))}});export{Q as default};
