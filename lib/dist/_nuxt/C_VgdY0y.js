import{es as S,r as V,P as t,H as E,F,g as H,A as $,dT as I,gF as C,f as L,q as M,o as n,c as x,a as o,b as c,w as r,d as k,U as d,V as p,W as m,t as u,B as h,al as z,am as A,Y as y,a8 as U,a9 as q,aa as O,af as W,_ as Y}from"./B2hUoZAs.js";function G(g){const f=S(),a=V(t(g)),{$state:_}=$();typeof a.value>"u"&&(a.value=_.darkMode.value),f.run(()=>{E(_.darkMode,i=>{typeof a.value>"u"&&(a.value=i)}),F(()=>{const i=t(g);i&&(a.value=i)})}),I(()=>f.stop());const v=H(()=>a.value?C.dark:C.light);return{colors:v,getColorByIndex:i=>v.value[i%v.value.length]}}const J={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 3xl:grid-cols-8 gap-6 md:gap-y-16"},K={class:"group flex flex-col items-center gap-2"},Q=["onClick"],R={class:"prose-lg font-semibold"},X={class:"col-span-10 text-sm xl:text-md"},Z=["innerHTML"],ee=["onClick"],oe={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},te={class:"col-span-4 text-sm xl:text-md"},se={class:"grid grid-cols-6 cursor-pointer flex items-center p-2"},ne={class:"col-span-4 text-sm xl:text-md"},ae={class:"prose-lg font-semibold overflow-ellipsis w-full overflow-hidden text-center capitalize"},ie=L({__name:"index",props:{bases:{default:()=>[]}},emits:["delete-base"],setup(g,{emit:f}){const a=f,{$e:_}=$(),{getColorByIndex:v}=G(!0),i=async e=>{await h(`/nc/${e.id}`),_("a:base:open",{count:g.bases.length})},T=e=>e==null?void 0:e.split(" ").map(l=>l[0]).slice(0,2).join("");return(e,l)=>{const B=M("v-list"),D=M("v-menu"),b=q,j=O,P=W;return n(),x("div",J,[o("div",K,[c(D,null,{activator:r(({props:s})=>[o("div",{class:"thumbnail hover:after:!opacity-100 hover:shadow-lg hover:to-primary/50",style:{"--thumbnail-color":"#1348ba"},onClick:s.onClick},[k(" a "),(n(),d(p(("iconMap"in e?e.iconMap:t(m)).plus)))],8,Q),o("div",R,u(e.$t("title.newProj")),1)]),default:r(()=>[c(B,{class:"!py-0 flex flex-col bg-white rounded-lg shadow-md border-1 border-gray-300 mt-2 ml-2"},{default:r(()=>[o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:l[0]||(l[0]=s=>("navigateTo"in e?e.navigateTo:t(h))("/base/create"))},[(n(),d(p(("iconMap"in e?e.iconMap:t(m)).plus),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",X,u(e.$t("activity.createProject")),1)]),o("div",{class:"grid grid-cols-12 cursor-pointer hover:bg-gray-200 flex items-center p-2",onClick:l[1]||(l[1]=s=>("navigateTo"in e?e.navigateTo:t(h))("/base/create-external"))},[(n(),d(p(("iconMap"in e?e.iconMap:t(m)).dtabase),{class:"col-span-2 mr-1 mt-[1px] text-green-500 text-lg"})),o("div",{class:"col-span-10 text-sm xl:text-md",innerHTML:e.$t("activity.createProjectExtended.extDB")},null,8,Z)])]),_:1})]),_:1})]),(n(!0),x(z,null,A(e.bases,(s,N)=>(n(),x("div",{key:s.id,class:"group flex flex-col items-center gap-2"},[o("div",{class:"thumbnail",style:U({"--thumbnail-color":t(v)(N)}),onClick:w=>i(s)},[k(u(T(s.title))+" ",1),c(P,{"overlay-class-name":"nc-dropdown-base-operations",onClick:l[2]||(l[2]=y(()=>{},["stop"]))},{overlay:r(()=>[c(j,null,{default:r(()=>[c(b,{onClick:y(w=>a("delete-base",s),["stop"])},{default:r(()=>[o("div",oe,[(n(),d(p(("iconMap"in e?e.iconMap:t(m)).delete),{class:"col-span-2 mr-1 mt-[1px] text-red text-lg"})),o("div",te,u(e.$t("general.delete")),1)])]),_:2},1032,["onClick"]),c(b,{onClick:y(w=>("navigateTo"in e?e.navigateTo:t(h))(`/base/${s.id}`),["stop"])},{default:r(()=>[o("div",se,[(n(),d(p(("iconMap"in e?e.iconMap:t(m)).edit),{class:"col-span-2 mr-1 mt-[1px] text-primary text-lg"})),o("div",ne,u(e.$t("general.edit")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:r(()=>[(n(),d(p(("iconMap"in e?e.iconMap:t(m)).arrowDown),{class:"menu-icon"}))]),_:2},1024)],12,ee),o("div",ae,u(s.title||"Untitled"),1)]))),128))])}}}),re=Y(ie,[["__scopeId","data-v-c4e904a8"]]);export{re as default};
