import{f as C,bL as l,fH as N,hx as B,cB as I,g as c,iu as W,iv as O,fB as T,r as u,gx as j,ht as D,o as t,c as n,P as e,U as H,w as _,a as g,t as r,S as f,T as L,a1 as S}from"./BLdk6lRf.js";import{H as x}from"./DV47GYLy.js";import{u as M}from"./jIF28eZ3.js";import"./CdmoJR0j.js";const R={class:"font-bold"},U=g("span",null,"ERR!",-1),G=["innerHTML"],P={key:1},$={key:2,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},z={key:3,class:"text-left text-wrap mt-2 text-[#e65100] text-xs"},K=C({__name:"Formula",setup(V){const s=l(N),o=l(B),{isPg:h}=I(),d=c(()=>h(s.value.source_id)?x(W(o==null?void 0:o.value)):x(o==null?void 0:o.value)),p=c(()=>O(d.value)),{showEditNonEditableFieldWarning:v,showClearNonEditableFieldWarning:E,activateShowEditNonEditableFieldWarning:m}=M(),k=c(()=>{var a,i;return((i=(a=s.value.colOptions)==null?void 0:a.parsed_tree)==null?void 0:i.dataType)===T.NUMERIC}),y=l(j,u(!1)),b=l(D,u(!1));return(a,i)=>{const w=S;return t(),n("div",{class:L(["w-full",{"text-right":e(k)&&e(b)&&!e(y)}])},[e(s)&&e(s).colOptions&&e(s).colOptions.error?(t(),H(w,{key:0,placement:"bottom",class:"text-orange-700"},{title:_(()=>[g("span",R,r(e(s).colOptions.error),1)]),default:_(()=>[U]),_:1})):(t(),n("div",{key:1,class:"nc-cell-field py-1",onDblclick:i[0]||(i[0]=(...F)=>e(m)&&e(m)(...F))},[e(p)?(t(),n("div",{key:0,innerHTML:e(p)},null,8,G)):(t(),n("div",P,r(e(d)),1)),e(v)?(t(),n("div",$,r(a.$t("msg.info.computedFieldEditWarning")),1)):f("",!0),e(E)?(t(),n("div",z,r(a.$t("msg.info.computedFieldDeleteWarning")),1)):f("",!0)],32))],2)}}});export{K as default};
