import{_ as g}from"./DC_VdAC1.js";import{_ as C}from"./CR5b0rlC.js";import{a as B}from"./i4aLU0Nw.js";import{e as N,ba as x,f as p,d0 as u,o as I,Q as M,w as E,b as P,N as n}from"./DZZ6t_j4.js";const W=N({__name:"FieldListWithSearch",props:{isParentOpen:{type:Boolean},toolbarMenu:{},searchInputPlaceholder:{},selectedOptionId:{},options:{},showSelectedOption:{type:Boolean}},emits:["selected"],setup(d,{emit:m}){const c=d,h=m,{isParentOpen:_,toolbarMenu:v,searchInputPlaceholder:O,selectedOptionId:w,showSelectedOption:f}=x(c),{fieldsMap:t,isLocalMode:y}=B(),S=p(()=>(c.options||[]).filter(e=>{var o;return y.value&&(e!=null&&e.id)&&t.value[e.id]?(o=t.value[e.id])==null?void 0:o.initialShow:!0}).map(e=>e).sort((e,o)=>{var i,l;let r=0,a=0,s=0;return u(e)&&(r=1),u(o)&&(a=1),e!=null&&e.id&&(o!=null&&o.id)&&((i=t.value[e.id])==null?void 0:i.order)!==void 0&&((l=t.value[o.id])==null?void 0:l.order)!==void 0&&(s=t.value[e.id].order-t.value[o.id].order),r-a||s})),b=p(()=>{switch(v.value){case"groupBy":return{selectOptionEvent:["c:group-by:add:column:select"],optionClassName:"nc-group-by-column-search-item"};case"sort":return{selectOptionEvent:["c:sort:add:column:select"],optionClassName:"nc-sort-column-search-item"};case"globalSearch":return{selectOptionEvent:["c:search:field:select"],optionClassName:""};default:return{selectOptionEvent:void 0,optionClassName:""}}});return(e,o)=>{const r=g,a=C;return I(),M(a,{"is-parent-open":n(_),"search-input-placeholder":n(O),"option-config":n(b),options:n(S),"selected-option-id":n(w),"filter-field":"title","show-selected-option":n(f),onSelected:o[0]||(o[0]=s=>h("selected",s))},{default:E(({option:s})=>[P(r,{column:s,class:"!w-3.5 !h-3.5 !text-gray-500"},null,8,["column"])]),_:1},8,["is-parent-open","search-input-placeholder","option-config","options","selected-option-id","show-selected-option"])}}});export{W as _};
