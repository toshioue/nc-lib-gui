import{_ as b}from"./Bw0A6WKO.js";import{_ as C}from"./5xpACL64.js";import{a as B}from"./BcpeJQoi.js";import{f as N,bc as x,g as p,d3 as u,o as I,S as M,w as P,b as E,P as n}from"./Cgw6cdOy.js";const W=N({__name:"FieldListWithSearch",props:{isParentOpen:{type:Boolean},toolbarMenu:{},searchInputPlaceholder:{},selectedOptionId:{},options:{},showSelectedOption:{type:Boolean}},emits:["selected"],setup(d,{emit:m}){const c=d,h=m,{isParentOpen:_,toolbarMenu:v,searchInputPlaceholder:O,selectedOptionId:w,showSelectedOption:S}=x(c),{fieldsMap:t,isLocalMode:f}=B(),g=p(()=>(c.options||[]).filter(e=>{var o;return f.value&&(e!=null&&e.id)&&t.value[e.id]?(o=t.value[e.id])==null?void 0:o.initialShow:!0}).map(e=>e).sort((e,o)=>{var i,l;let r=0,a=0,s=0;return u(e)&&(r=1),u(o)&&(a=1),e!=null&&e.id&&(o!=null&&o.id)&&((i=t.value[e.id])==null?void 0:i.order)!==void 0&&((l=t.value[o.id])==null?void 0:l.order)!==void 0&&(s=t.value[e.id].order-t.value[o.id].order),r-a||s})),y=p(()=>{switch(v.value){case"groupBy":return{selectOptionEvent:["c:group-by:add:column:select"],optionClassName:"nc-group-by-column-search-item"};case"sort":return{selectOptionEvent:["c:sort:add:column:select"],optionClassName:"nc-sort-column-search-item"};case"globalSearch":return{selectOptionEvent:["c:search:field:select"],optionClassName:""};default:return{selectOptionEvent:void 0,optionClassName:""}}});return(e,o)=>{const r=b,a=C;return I(),M(a,{"is-parent-open":n(_),"search-input-placeholder":n(O),"option-config":n(y),options:n(g),"selected-option-id":n(w),"filter-field":"title","show-selected-option":n(S),onSelected:o[0]||(o[0]=s=>h("selected",s))},{default:P(({option:s})=>[E(r,{column:s,class:"!w-3.5 !h-3.5 !text-gray-500"},null,8,["column"])]),_:1},8,["is-parent-open","search-input-placeholder","option-config","options","selected-option-id","show-selected-option"])}}});export{W as _};
