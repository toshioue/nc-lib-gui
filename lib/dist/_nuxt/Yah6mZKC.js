import{o as r,c as _,a as t,f as k,N as C,g as M,i as z,P as d,b as n,w as l,d as m,t as i,S as B,an as N,ao as H,a2 as R,af as I,A}from"./DKhUGBot.js";import{_ as S}from"./B1s-egFC.js";import{_ as D}from"./CzWiRRCe.js";const E={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},T=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"},null,-1),G=[T];function P(u,s){return r(),_("svg",E,[...G])}const j={name:"mdi-close",render:P},q={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},F=t("path",{fill:"currentColor",d:"m13.16 22.19l-1.66-3.84c1.6-.58 3.07-1.35 4.43-2.27l-2.78 6.11m-7.5-9.69l-3.84-1.65l6.11-2.78C7 9.43 6.23 10.91 5.65 12.5M20 4c-2.96-.22-5.2.83-7.55 3.31c-2.36 2.47-3.36 4.5-3.95 6.04l2.17 2.1c2.29-.87 4.33-2.18 6.03-3.89C20 8.27 20.17 5.4 20 4m-9 1.9c2.63-2.8 7-4.82 10.66-3.55c0 0 2.12 4.96-3.55 10.65c-2.2 2.17-4.58 3.5-6.72 4.34c-.24.09-1.15.39-2.13-.46l-2.13-2.13c-.56-.56-.74-1.38-.47-2.13C7.5 10.5 8.41 8.69 11 5.9M6.25 22H4.84l4.09-4.1c.3.21.63.36.97.45zM2 22v-1.41l4.77-4.78l1.43 1.42L3.41 22zm0-2.83v-1.42l3.65-3.65c.09.35.24.68.45.97zM16 6a2 2 0 0 1 2 2c0 1.11-.89 2-2 2a2 2 0 1 1 0-4"},null,-1),J=[F];function K(u,s){return r(),_("svg",q,[...J])}const O={name:"mdi-rocket-launch-outline",render:K},Q={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},U=t("path",{fill:"currentColor",d:"M15 20a1 1 0 0 0 1-1V4H8a1 1 0 0 0-1 1v11H5V5a3 3 0 0 1 3-3h11a3 3 0 0 1 3 3v1h-2V5a1 1 0 0 0-1-1a1 1 0 0 0-1 1v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-1h11a2 2 0 0 0 2 2M9 6h5v2H9zm0 4h5v2H9zm0 4h5v2H9z"},null,-1),W=[U];function X(u,s){return r(),_("svg",Q,[...W])}const Y={name:"mdi-script-text-outline",render:X},Z={class:"nc-icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ee=t("path",{fill:"currentColor",d:"m7 10l5 5l5-5z"},null,-1),te=[ee];function ne(u,s){return r(),_("svg",Z,[...te])}const oe={name:"mdi-menu-down",render:ne},se={key:0,class:"flex items-center"},ae={class:"flex gap-1 items-center text-white"},ce={class:"text-sm font-weight-medium"},le={class:"mt-1 bg-white shadow-lg !border"},ie={class:"nc-menu-item"},re={class:"nc-menu-item"},pe=k({__name:"ReleaseInfo",setup(u){const{$api:s}=A(),{currentVersion:a,latestRelease:o,hiddenRelease:p,appInfo:f}=C(),h=M({get(){var e,c;return(e=a.value)!=null&&e.includes("-beta.")||(c=o.value)!=null&&c.includes("-beta.")?!1:a.value&&o.value&&a.value!==o.value&&o.value!==p.value},set(e){p.value=e?null:o.value}});async function g(){try{const e=await s.utils.appVersion();e&&e.releaseVersion&&e.currentVersion?(a.value=e.currentVersion,o.value=e.releaseVersion):(a.value=null,o.value=null)}catch(e){N.error(await H(e))}}return z(async()=>await g()),(e,c)=>{const w=oe,$=R,x=Y,v=S,b=O,y=D,V=j,L=I;return d(h)&&!d(f).ee?(r(),_("div",se,[n(L,{trigger:["click"],placement:"bottom","overlay-class-name":"nc-dropdown-upgrade-menu"},{overlay:l(()=>[t("div",le,[n(v,{"no-prefetch":"","no-rel":"",class:"!text-primary !no-underline",to:"https://github.com/nocodb/nocodb/releases",target:"_blank"},{default:l(()=>[t("div",ie,[n(x),m(" "+i(d(o))+" "+i(e.$t("activity.upgrade.releaseNote")),1)])]),_:1}),n(v,{"no-prefetch":"",rel:"noopener",class:"!text-primary !no-underline",to:"https://docs.nocodb.com/getting-started/upgrading",target:"_blank"},{default:l(()=>[t("div",re,[n(b),m(" "+i(e.$t("activity.upgrade.howTo")),1)])]),_:1}),n(y,{class:"!m-0"}),t("div",{class:"nc-menu-item",onClick:c[0]||(c[0]=_e=>h.value=!1)},[n(V),m(" "+i(e.$t("general.hideMenu")),1)])])]),default:l(()=>[n($,{class:"!bg-primary !border-none !mr-3",size:"small"},{default:l(()=>[t("div",ae,[t("span",ce,i(e.$t("activity.upgrade.available")),1),n(w)])]),_:1})]),_:1})])):B("",!0)}}});export{pe as default};
